"use strict";(self.webpackChunkmindmap=self.webpackChunkmindmap||[]).push([[134],{84348:(e,t,n)=>{n.d(t,{tk:()=>en});var o=n(2376),i=n(59084),s=n(16560);const r="undefined"!=typeof navigator?navigator:null,l="undefined"!=typeof document?document:null,d=r&&r.userAgent||"",a=/Edge\/(\d+)/.exec(d),c=/MSIE \d/.exec(d),h=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(d),f=!!(c||h||a),u=c?document.documentMode:h?+h[1]:a?+a[1]:0,p=!f&&/gecko\/(\d+)/i.test(d);p&&(/Firefox\/(\d+)/.exec(d)||[0,0])[1];const m=!f&&/Chrome\/(\d+)/.exec(d),g=!!m,y=m?+m[1]:0,b=!f&&!!r&&/Apple Computer/.test(r.vendor),v=b&&(/Mobile\/\w+/.test(d)||!!r&&r.maxTouchPoints>2),w=v||!!r&&/Mac/.test(r.platform),D=/Android \d/.test(d),N=!!l&&"webkitFontSmoothing"in l.documentElement.style,O=N?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,S=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},C=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let M=null;const x=function(e,t,n){let o=M||(M=document.createRange());return o.setEnd(e,null==n?e.nodeValue.length:n),o.setStart(e,t||0),o},k=function(e,t,n,o){return n&&(A(e,t,n,o,-1)||A(e,t,n,o,1))},T=/^(img|br|input|textarea|hr)$/i;function A(e,t,n,o,i){for(;;){if(e==n&&t==o)return!0;if(t==(i<0?0:P(e))){let n=e.parentNode;if(!n||1!=n.nodeType||E(e)||T.test(e.nodeName)||"false"==e.contentEditable)return!1;t=S(e)+(i<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(i<0?-1:0)]).contentEditable)return!1;t=i<0?P(e):0}}}function P(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function E(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const V=function(e){let t=e.isCollapsed;return t&&g&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function B(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function R(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function z(e,t){return"number"==typeof e?e:e[t]}function I(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,o=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*o}}function q(e,t,n){let o=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let r=n||e.dom;r;r=C(r)){if(1!=r.nodeType)continue;let e=r,n=e==s.body,l=n?R(s):I(e),d=0,a=0;if(t.top<l.top+z(o,"top")?a=-(l.top-t.top+z(i,"top")):t.bottom>l.bottom-z(o,"bottom")&&(a=t.bottom-l.bottom+z(i,"bottom")),t.left<l.left+z(o,"left")?d=-(l.left-t.left+z(i,"left")):t.right>l.right-z(o,"right")&&(d=t.right-l.right+z(i,"right")),d||a)if(n)s.defaultView.scrollBy(d,a);else{let n=e.scrollLeft,o=e.scrollTop;a&&(e.scrollTop+=a),d&&(e.scrollLeft+=d);let i=e.scrollLeft-n,s=e.scrollTop-o;t={left:t.left-i,top:t.top-s,right:t.right-i,bottom:t.bottom-s}}if(n)break}}function L(e){let t=[],n=e.ownerDocument;for(let o=e;o&&(t.push({dom:o,top:o.scrollTop,left:o.scrollLeft}),e!=n);o=C(o));return t}function F(e,t){for(let n=0;n<e.length;n++){let{dom:o,top:i,left:s}=e[n];o.scrollTop!=i+t&&(o.scrollTop=i+t),o.scrollLeft!=s&&(o.scrollLeft=s)}}let $=null;function K(e,t){let n,o,i=2e8,s=0,r=t.top,l=t.top;for(let d=e.firstChild,a=0;d;d=d.nextSibling,a++){let e;if(1==d.nodeType)e=d.getClientRects();else{if(3!=d.nodeType)continue;e=x(d).getClientRects()}for(let c=0;c<e.length;c++){let h=e[c];if(h.top<=r&&h.bottom>=l){r=Math.max(h.bottom,r),l=Math.min(h.top,l);let e=h.left>t.left?h.left-t.left:h.right<t.left?t.left-h.right:0;if(e<i){n=d,i=e,o=e&&3==n.nodeType?{left:h.right<t.left?h.right:h.left,top:t.top}:t,1==d.nodeType&&e&&(s=a+(t.left>=(h.left+h.right)/2?1:0));continue}}!n&&(t.left>=h.right&&t.top>=h.top||t.left>=h.left&&t.top>=h.bottom)&&(s=a+1)}}return n&&3==n.nodeType?function(e,t){let n=e.nodeValue.length,o=document.createRange();for(let i=0;i<n;i++){o.setEnd(e,i+1),o.setStart(e,i);let n=_(o,1);if(n.top!=n.bottom&&W(t,n))return{node:e,offset:i+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}(n,o):!n||i&&1==n.nodeType?{node:e,offset:s}:K(n,o)}function W(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function H(e,t,n){let o=e.childNodes.length;if(o&&n.top<n.bottom)for(let i=Math.max(0,Math.min(o-1,Math.floor(o*(t.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let n=e.childNodes[s];if(1==n.nodeType){let e=n.getClientRects();for(let o=0;o<e.length;o++){let i=e[o];if(W(t,i))return H(n,t,i)}}if((s=(s+1)%o)==i)break}return e}function Y(e,t){let n,o=e.dom.ownerDocument,i=0;if(o.caretPositionFromPoint)try{let e=o.caretPositionFromPoint(t.left,t.top);e&&({offsetNode:n,offset:i}=e)}catch(e){}if(!n&&o.caretRangeFromPoint){let e=o.caretRangeFromPoint(t.left,t.top);e&&({startContainer:n,startOffset:i}=e)}let s,r=(e.root.elementFromPoint?e.root:o).elementFromPoint(t.left,t.top+1);if(!r||!e.dom.contains(1!=r.nodeType?r.parentNode:r)){let n=e.dom.getBoundingClientRect();if(!W(t,n))return null;if(r=H(e.dom,t,n),!r)return null}if(b)for(let e=r;n&&e;e=C(e))e.draggable&&(n=void 0);if(r=function(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(r,t),n){if(p&&1==n.nodeType&&(i=Math.min(i,n.childNodes.length),i<n.childNodes.length)){let e,o=n.childNodes[i];"IMG"==o.nodeName&&(e=o.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&i++}n==e.dom&&i==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:0!=i&&1==n.nodeType&&"BR"==n.childNodes[i-1].nodeName||(s=function(e,t,n,o){let i=-1;for(let n=t;n!=e.dom;){let t=e.docView.nearestDesc(n,!0);if(!t)return null;if(t.node.isBlock&&t.parent){let e=t.dom.getBoundingClientRect();if(e.left>o.left||e.top>o.top)i=t.posBefore;else{if(!(e.right<o.left||e.bottom<o.top))break;i=t.posAfter}}n=t.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,1)}(e,n,i,t))}null==s&&(s=function(e,t,n){let{node:o,offset:i}=K(t,n),s=-1;if(1==o.nodeType&&!o.firstChild){let e=o.getBoundingClientRect();s=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(o,i,s)}(e,r,t));let l=e.docView.nearestDesc(r,!0);return{pos:s,inside:l?l.posAtStart-l.border:-1}}function _(e,t){let n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}const U=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function G(e,t,n){let{node:o,offset:i}=e.docView.domFromPos(t,n<0?-1:1),s=N||p;if(3==o.nodeType){if(!s||!U.test(o.nodeValue)&&(n<0?i:i!=o.nodeValue.length)){let e=i,t=i,s=n<0?1:-1;return n<0&&!i?(t++,s=-1):n>=0&&i==o.nodeValue.length?(e--,s=1):n<0?e--:t++,j(_(x(o,e,t),s),s<0)}{let e=_(x(o,i,i),n);if(p&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){let t=_(x(o,i-1,i-1),-1);if(t.top==e.top){let n=_(x(o,i,i+1),-1);if(n.top!=e.top)return j(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t).parent.inlineContent){if(i&&(n<0||i==P(o))){let e=o.childNodes[i-1];if(1==e.nodeType)return X(e.getBoundingClientRect(),!1)}if(i<P(o)){let e=o.childNodes[i];if(1==e.nodeType)return X(e.getBoundingClientRect(),!0)}return X(o.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==P(o))){let e=o.childNodes[i-1],t=3==e.nodeType?x(e,P(e)-(s?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return j(_(t,1),!1)}if(i<P(o)){let e=o.childNodes[i];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?x(e,0,s?0:1):1==e.nodeType?e:null:null;if(t)return j(_(t,-1),!0)}return j(_(3==o.nodeType?x(o):o,-n),n>=0)}function j(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function X(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function J(e,t,n){let o=e.state,i=e.root.activeElement;o!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{o!=t&&e.updateState(o),i!=e.dom&&i&&i.focus()}}const Q=/[\u0590-\u08ac]/;let Z=null,ee=null,te=!1;class ne{constructor(e,t,n,o){this.parent=e,this.children=t,this.dom=n,this.contentDOM=o,this.dirty=0,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let o=this.children[t];if(o==e)return n;n+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,o;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(o=n.pmViewDesc)||o.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(o)+o.size:this.posAtStart}{let n,o;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(o=n.pmViewDesc)||o.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(o):this.posAtEnd}}let o;if(e==this.dom&&this.contentDOM)o=t>S(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){o=!1;break}if(t.previousSibling)break}if(null==o&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){o=!0;break}if(t.nextSibling)break}}return(null==o?n>0:o)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,o=e;o;o=o.parentNode){let i,s=this.getDesc(o);if(s&&(!t||s.node)){if(!n||!(i=s.nodeDOM)||(1==i.nodeType?i.contains(1==e.nodeType?e:e.parentNode):i==e))return s;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let o=e;o;o=o.parentNode){let i=this.getDesc(o);if(i)return i.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let o=this.children[t],i=n+o.size;if(n==e&&i!=n){for(;!o.border&&o.children.length;)o=o.children[0];return o}if(e<i)return o.descAt(e-n-o.border);n=i}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};let n,o=0,i=0;for(let t=0;o<this.children.length;o++){let n=this.children[o],s=t+n.size;if(s>e||n instanceof ae){i=e-t;break}t=s}if(i)return this.children[o].domFromPos(i-this.children[o].border,t);for(;o&&!(n=this.children[o-1]).size&&n instanceof oe&&n.side>=0;o--);if(t<=0){let e,n=!0;for(;e=o?this.children[o-1]:null,e&&e.dom.parentNode!=this.contentDOM;o--,n=!1);return e&&t&&n&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?S(e.dom)+1:0}}{let e,n=!0;for(;e=o<this.children.length?this.children[o]:null,e&&e.dom.parentNode!=this.contentDOM;o++,n=!1);return e&&n&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?S(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,i=-1;for(let s=n,r=0;;r++){let n=this.children[r],l=s+n.size;if(-1==o&&e<=l){let i=s+n.border;if(e>=i&&t<=l-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,i);e=s;for(let t=r;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){o=S(n.dom)+1;break}e-=n.size}-1==o&&(o=0)}if(o>-1&&(l>t||r==this.children.length-1)){t=l;for(let e=r+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){i=S(n.dom);break}t+=n.size}-1==i&&(i=this.contentDOM.childNodes.length);break}s=l}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,o=!1){let i=Math.min(e,t),s=Math.max(e,t);for(let r=0,l=0;r<this.children.length;r++){let d=this.children[r],a=l+d.size;if(i>l&&s<a)return d.setSelection(e-l-d.border,t-l-d.border,n,o);l=a}let r=this.domFromPos(e,e?-1:1),l=t==e?r:this.domFromPos(t,t?-1:1),d=n.getSelection(),a=!1;if((p||b)&&e==t){let{node:e,offset:t}=r;if(3==e.nodeType){if(a=!(!t||"\n"!=e.nodeValue[t-1]),a&&t==e.nodeValue.length)for(let t,n=e;n;n=n.parentNode){if(t=n.nextSibling){"BR"==t.nodeName&&(r=l={node:t.parentNode,offset:S(t)+1});break}let e=n.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];a=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(p&&d.focusNode&&d.focusNode!=l.node&&1==d.focusNode.nodeType){let e=d.focusNode.childNodes[d.focusOffset];e&&"false"==e.contentEditable&&(o=!0)}if(!(o||a&&b)&&k(r.node,r.offset,d.anchorNode,d.anchorOffset)&&k(l.node,l.offset,d.focusNode,d.focusOffset))return;let c=!1;if((d.extend||e==t)&&!a){d.collapse(r.node,r.offset);try{e!=t&&d.extend(l.node,l.offset),c=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!c){if(e>t){let e=r;r=l,l=e}let n=document.createRange();n.setEnd(l.node,l.offset),n.setStart(r.node,r.offset),d.removeAllRanges(),d.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,o=0;o<this.children.length;o++){let i=this.children[o],s=n+i.size;if(n==s?e<=s&&t>=n:e<s&&t>n){let o=n+i.border,r=s-i.border;if(e>=o&&t<=r)return this.dirty=e==n||t==s?2:1,void(e!=o||t!=r||!i.contentLost&&i.dom.parentNode==this.contentDOM?i.markDirty(e-o,t-o):i.dirty=3);i.dirty=i.dom!=i.contentDOM||i.dom.parentNode!=this.contentDOM||i.children.length?3:2}n=s}this.dirty=2}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?2:1;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class oe extends ne{constructor(e,t,n,o){let i,s=t.type.toDOM;if("function"==typeof s&&(s=s(n,(()=>i?i.parent?i.parent.posBeforeChild(i):void 0:o))),!t.type.spec.raw){if(1!=s.nodeType){let e=document.createElement("span");e.appendChild(s),s=e}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=t,this.widget=t,i=this}matchesWidget(e){return 0==this.dirty&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class ie extends ne{constructor(e,t,n,o){super(e,[],t,null),this.textDOM=n,this.text=o}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class se extends ne{constructor(e,t,n,o){super(e,[],n,o),this.mark=t}static create(e,t,n,o){let s=o.nodeViews[t.type.name],r=s&&s(t,o,n);return r&&r.dom||(r=i.PW.renderSpec(document,t.type.spec.toDOM(t,n))),new se(e,t,r.dom,r.contentDOM||r.dom)}parseRule(){return 3&this.dirty||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return 3!=this.dirty&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),0!=this.dirty){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=0}}slice(e,t,n){let o=se.create(this.parent,this.mark,!0,n),i=this.children,s=this.size;t<s&&(i=Ne(i,t,s,n)),e>0&&(i=Ne(i,0,e,n));for(let e=0;e<i.length;e++)i[e].parent=o;return o.children=i,o}}class re extends ne{constructor(e,t,n,o,i,s,r,l,d){super(e,[],i,s),this.node=t,this.outerDeco=n,this.innerDeco=o,this.nodeDOM=r,s&&this.updateChildren(l,d)}static create(e,t,n,o,s,r){let l,d=s.nodeViews[t.type.name],a=d&&d(t,s,(()=>l?l.parent?l.parent.posBeforeChild(l):void 0:r),n,o),c=a&&a.dom,h=a&&a.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else c||({dom:c,contentDOM:h}=i.PW.renderSpec(document,t.type.spec.toDOM(t)));h||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let f=c;return c=ye(c,n,t),a?l=new ce(e,t,n,o,c,h||null,f,a,s,r+1):t.isText?new de(e,t,n,o,c,f,s):new re(e,t,n,o,c,h||null,f,s,r+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>i.HY.empty)}else e.contentElement=this.contentDOM;else e.getContent=()=>this.node.content;return e}matchesNode(e,t,n){return 0==this.dirty&&e.eq(this.node)&&be(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,o=t,s=e.composing?this.localCompositionInfo(e,t):null,r=s&&s.pos>-1?s:null,l=s&&s.pos<0,d=new we(this,r&&r.node);!function(e,t,n,o){let i=t.locals(e),s=0;if(0==i.length){for(let n=0;n<e.childCount;n++){let r=e.child(n);o(r,i,t.forChild(s,r),n),s+=r.nodeSize}return}let r=0,l=[],d=null;for(let a=0;;){if(r<i.length&&i[r].to==s){let e,t=i[r++];for(;r<i.length&&i[r].to==s;)(e||(e=[t])).push(i[r++]);if(e){e.sort(De);for(let t=0;t<e.length;t++)n(e[t],a,!!d)}else n(t,a,!!d)}let c,h;if(d)h=-1,c=d,d=null;else{if(!(a<e.childCount))break;h=a,c=e.child(a++)}for(let e=0;e<l.length;e++)l[e].to<=s&&l.splice(e--,1);for(;r<i.length&&i[r].from<=s&&i[r].to>s;)l.push(i[r++]);let f=s+c.nodeSize;if(c.isText){let e=f;r<i.length&&i[r].from<e&&(e=i[r].from);for(let t=0;t<l.length;t++)l[t].to<e&&(e=l[t].to);e<f&&(d=c.cut(e-s),c=c.cut(0,e-s),f=e,h=-1)}o(c,c.isInline&&!c.isLeaf?l.filter((e=>!e.inline)):l.slice(),t.forChild(s,c),h),s=f}}(this.node,this.innerDeco,((t,s,r)=>{t.spec.marks?d.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!r&&d.syncToMarks(s==this.node.childCount?i.vc.none:this.node.child(s).marks,n,e),d.placeWidget(t,e,o)}),((t,i,r,a)=>{let c;d.syncToMarks(t.marks,n,e),d.findNodeMatch(t,i,r,a)||l&&e.state.selection.from>o&&e.state.selection.to<o+t.nodeSize&&(c=d.findIndexWithChild(s.node))>-1&&d.updateNodeAt(t,i,r,c,e)||d.updateNextNode(t,i,r,e,a)||d.addNode(t,i,r,e,o),o+=t.nodeSize})),d.syncToMarks([],n,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||2==this.dirty)&&(r&&this.protectLocalComposition(e,r),he(this.contentDOM,this.children,e),v&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))}localCompositionInfo(e,t){let{from:n,to:i}=e.state.selection;if(!(e.state.selection instanceof o.Bs)||n<t||i>t+this.node.content.size)return null;let s=e.domSelection(),r=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=P(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(s.focusNode,s.focusOffset);if(!r||!this.dom.contains(r.parentNode))return null;if(this.node.inlineContent){let e=r.nodeValue,o=function(e,t,n,o){for(let i=0,s=0;i<e.childCount&&s<=o;){let r=e.child(i++),l=s;if(s+=r.nodeSize,!r.isText)continue;let d=r.text;for(;i<e.childCount;){let t=e.child(i++);if(s+=t.nodeSize,!t.isText)break;d+=t.text}if(s>=n){let e=l<o?d.lastIndexOf(t,o-l-1):-1;if(e>=0&&e+t.length+l>=n)return l+e;if(n==o&&d.length>=o+t.length-l&&d.slice(o-l,o-l+t.length)==t)return o}}return-1}(this.node.content,e,n-t,i-t);return o<0?null:{node:r,pos:o,text:e}}return{node:r,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:o}){if(this.getDesc(t))return;let i=t;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let s=new ie(this,i,t,o);e.input.compositionNodes.push(s),this.children=Ne(this.children,n,n+o.length,e,s)}update(e,t,n,o){return!(3==this.dirty||!e.sameMarkup(this.node)||(this.updateInner(e,t,n,o),0))}updateInner(e,t,n,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=0}updateOuterDeco(e){if(be(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=me(this.dom,this.nodeDOM,pe(this.outerDeco,this.node,t),pe(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function le(e,t,n,o,i){return ye(o,t,e),new re(void 0,e,t,n,o,o,o,i,0)}class de extends re{constructor(e,t,n,o,i,s,r){super(e,t,n,o,i,null,s,r,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,o){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node)||(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=0,0))}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let o=this.node.cut(e,t),i=document.createTextNode(o.text);return new de(this.parent,o,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=3)}get domAtom(){return!1}}class ae extends ne{parseRule(){return{ignore:!0}}matchesHack(e){return 0==this.dirty&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class ce extends re{constructor(e,t,n,o,i,s,r,l,d,a){super(e,t,n,o,i,s,r,d,a),this.spec=l}update(e,t,n,o){if(3==this.dirty)return!1;if(this.spec.update){let i=this.spec.update(e,t,n);return i&&this.updateInner(e,t,n,o),i}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,o){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function he(e,t,n){let o=e.firstChild,i=!1;for(let s=0;s<t.length;s++){let r=t[s],l=r.dom;if(l.parentNode==e){for(;l!=o;)o=ve(o),i=!0;o=o.nextSibling}else i=!0,e.insertBefore(l,o);if(r instanceof se){let t=o?o.previousSibling:e.lastChild;he(r.contentDOM,r.children,n),o=t?t.nextSibling:e.firstChild}}for(;o;)o=ve(o),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const fe=function(e){e&&(this.nodeName=e)};fe.prototype=Object.create(null);const ue=[new fe];function pe(e,t,n){if(0==e.length)return ue;let o=n?ue[0]:new fe,i=[o];for(let s=0;s<e.length;s++){let r=e[s].type.attrs;if(r){r.nodeName&&i.push(o=new fe(r.nodeName));for(let e in r){let s=r[e];null!=s&&(n&&1==i.length&&i.push(o=new fe(t.isInline?"span":"div")),"class"==e?o.class=(o.class?o.class+" ":"")+s:"style"==e?o.style=(o.style?o.style+";":"")+s:"nodeName"!=e&&(o[e]=s))}}}return i}function me(e,t,n,o){if(n==ue&&o==ue)return t;let i=t;for(let t=0;t<o.length;t++){let s=o[t],r=n[t];if(t){let t;r&&r.nodeName==s.nodeName&&i!=e&&(t=i.parentNode)&&t.nodeName.toLowerCase()==s.nodeName||(t=document.createElement(s.nodeName),t.pmIsDeco=!0,t.appendChild(i),r=ue[0]),i=t}ge(i,r||ue[0],s)}return i}function ge(e,t,n){for(let o in t)"class"==o||"style"==o||"nodeName"==o||o in n||e.removeAttribute(o);for(let o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){let o=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<o.length;t++)-1==i.indexOf(o[t])&&e.classList.remove(o[t]);for(let t=0;t<i.length;t++)-1==o.indexOf(i[t])&&e.classList.add(i[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,o=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=o.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function ye(e,t,n){return me(e,e,ue,pe(t,n,1!=e.nodeType))}function be(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function ve(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class we{constructor(e,t){this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=function(e,t){let n=t,o=n.children.length,i=e.childCount,s=new Map,r=[];e:for(;i>0;){let l;for(;;)if(o){let e=n.children[o-1];if(!(e instanceof se)){l=e,o--;break}n=e,o=e.children.length}else{if(n==t)break e;o=n.parent.children.indexOf(n),n=n.parent}let d=l.node;if(d){if(d!=e.child(i-1))break;--i,s.set(l,i),r.push(l)}}return{index:i,matched:s,matches:r.reverse()}}(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let o=0,i=this.stack.length>>1,s=Math.min(i,e.length);for(;o<s&&(o==i-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&!1!==e[o].type.spec.spanning;)o++;for(;o<i;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++)if(this.top.children[t].matchesMark(e[i])){o=t;break}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let o=se.create(this.top,e[i],t,n);this.top.children.splice(this.index,0,o),this.top=o,this.changed=!0}this.index=0,i++}}findNodeMatch(e,t,n,o){let i,s=-1;if(o>=this.preMatch.index&&(i=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&i.matchesNode(e,t,n))s=this.top.children.indexOf(i,this.index);else for(let o=this.index,i=Math.min(this.top.children.length,o+5);o<i;o++){let i=this.top.children[o];if(i.matchesNode(e,t,n)&&!this.preMatch.matched.has(i)){s=o;break}}return!(s<0||(this.destroyBetween(this.index,s),this.index++,0))}updateNodeAt(e,t,n,o,i){let s=this.top.children[o];return 3==s.dirty&&s.dom==s.contentDOM&&(s.dirty=2),!!s.update(e,t,n,i)&&(this.destroyBetween(this.index,o),this.index=o+1,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,o,i){for(let s=this.index;s<this.top.children.length;s++){let r=this.top.children[s];if(r instanceof re){let l=this.preMatch.matched.get(r);if(null!=l&&l!=i)return!1;let d=r.dom;if((!this.lock||!(d==this.lock||1==d.nodeType&&d.contains(this.lock.parentNode))||e.isText&&r.node&&r.node.isText&&r.nodeDOM.nodeValue==e.text&&3!=r.dirty&&be(t,r.outerDeco))&&r.update(e,t,n,o))return this.destroyBetween(this.index,s),r.dom!=d&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,o,i){this.top.children.splice(this.index++,0,re.create(this.top,e,t,n,o,i)),this.changed=!0}placeWidget(e,t,n){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(!o||!o.matchesWidget(e)||e!=o.widget&&o.widget.type.toDOM.parentNode){let o=new oe(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof se;)t=e,e=t.children[t.children.length-1];e&&e instanceof de&&!/\n$/.test(e.node.text)||((b||g)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let o=new ae(this.top,[],n,null);t!=this.top?t.children.push(o):t.children.splice(this.index++,0,o),this.changed=!0}}}function De(e,t){return e.type.side-t.type.side}function Ne(e,t,n,o,i){let s=[];for(let r=0,l=0;r<e.length;r++){let d=e[r],a=l,c=l+=d.size;a>=n||c<=t?s.push(d):(a<t&&s.push(d.slice(0,t-a,o)),i&&(s.push(i),i=void 0),c>n&&s.push(d.slice(n-a,d.size,o)))}return s}function Oe(e,t=null){let n=e.domSelection(),i=e.state.doc;if(!n.focusNode)return null;let s=e.docView.nearestDesc(n.focusNode),r=s&&0==s.size,l=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let d,a,c=i.resolve(l);if(V(n)){for(d=c;s&&!s.node;)s=s.parent;let e=s.node;if(s&&e.isAtom&&o.qv.isSelectable(e)&&s.parent&&(!e.isInline||!function(e,t,n){for(let o=0==t,i=t==P(e);o||i;){if(e==n)return!0;let t=S(e);if(!(e=e.parentNode))return!1;o=o&&0==t,i=i&&t==P(e)}}(n.focusNode,n.focusOffset,s.dom))){let e=s.posBefore;a=new o.qv(l==e?c:i.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;d=i.resolve(t)}return a||(a=Ee(e,d,c,"pointer"==t||e.state.selection.head<c.pos&&!r?1:-1)),a}function Se(e){return e.editable?e.hasFocus():Be(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Ce(e,t=!1){let n=e.state.selection;if(Ae(e,n),Se(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&g){let t=e.domSelection(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&k(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){let t=e.domSelection(),n=document.createRange(),o=e.cursorWrapper.dom,i="IMG"==o.nodeName;i?n.setEnd(o.parentNode,S(o)+1):n.setEnd(o,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!i&&!e.state.selection.visible&&f&&u<=11&&(o.disabled=!0,o.disabled=!1)}(e);else{let i,s,{anchor:r,head:l}=n;!Me||n instanceof o.Bs||(n.$from.parent.inlineContent||(i=xe(e,n.from)),n.empty||n.$from.parent.inlineContent||(s=xe(e,n.to))),e.docView.setSelection(r,l,e.root,t),Me&&(i&&Te(i),s&&Te(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelection(),o=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{n.anchorNode==o&&n.anchorOffset==i||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout((()=>{Se(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const Me=b||g&&y<63;function xe(e,t){let{node:n,offset:o}=e.docView.domFromPos(t,0),i=o<n.childNodes.length?n.childNodes[o]:null,s=o?n.childNodes[o-1]:null;if(b&&i&&"false"==i.contentEditable)return ke(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return ke(i);if(s)return ke(s)}}function ke(e){return e.contentEditable="true",b&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Te(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Ae(e,t){if(t instanceof o.qv){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Pe(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Pe(e)}function Pe(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Ee(e,t,n,i){return e.someProp("createSelectionBetween",(o=>o(e,t,n)))||o.Bs.between(t,n,i)}function Ve(e){return(!e.editable||e.root.activeElement==e.dom)&&Be(e)}function Be(e){let t=e.domSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function Re(e,t){let{$anchor:n,$head:i}=e.selection,s=t>0?n.max(i):n.min(i),r=s.parent.inlineContent?s.depth?e.doc.resolve(t>0?s.after():s.before()):null:s;return r&&o.Y1.findFrom(r,t)}function ze(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Ie(e,t,n){let i=e.state.selection;if(!(i instanceof o.Bs)){if(i instanceof o.qv&&i.node.isInline)return ze(e,new o.Bs(t>0?i.$to:i.$from));{let n=Re(e.state,t);return!!n&&ze(e,n)}}if(!i.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let n=Re(e.state,t);return!!(n&&n instanceof o.qv)&&ze(e,n)}if(!(w&&n.indexOf("m")>-1)){let n,s=i.$head,r=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!r||r.isText)return!1;let l=t<0?s.pos-r.nodeSize:s.pos;return!!(r.isAtom||(n=e.docView.descAt(l))&&!n.contentDOM)&&(o.qv.isSelectable(r)?ze(e,new o.qv(t<0?e.state.doc.resolve(s.pos-r.nodeSize):s)):!!N&&ze(e,new o.Bs(e.state.doc.resolve(t<0?l:l+r.nodeSize))))}}function qe(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Le(e){let t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function Fe(e){let t=e.domSelection(),n=t.focusNode,o=t.focusOffset;if(!n)return;let i,s,r=!1;for(p&&1==n.nodeType&&o<qe(n)&&Le(n.childNodes[o])&&(r=!0);;)if(o>0){if(1!=n.nodeType)break;{let e=n.childNodes[o-1];if(Le(e))i=n,s=--o;else{if(3!=e.nodeType)break;n=e,o=n.nodeValue.length}}}else{if(Ke(n))break;{let t=n.previousSibling;for(;t&&Le(t);)i=n.parentNode,s=S(t),t=t.previousSibling;if(t)n=t,o=qe(n);else{if(n=n.parentNode,n==e.dom)break;o=0}}}r?We(e,t,n,o):i&&We(e,t,i,s)}function $e(e){let t=e.domSelection(),n=t.focusNode,o=t.focusOffset;if(!n)return;let i,s,r=qe(n);for(;;)if(o<r){if(1!=n.nodeType)break;if(!Le(n.childNodes[o]))break;i=n,s=++o}else{if(Ke(n))break;{let t=n.nextSibling;for(;t&&Le(t);)i=t.parentNode,s=S(t)+1,t=t.nextSibling;if(t)n=t,o=0,r=qe(n);else{if(n=n.parentNode,n==e.dom)break;o=r=0}}}i&&We(e,t,i,s)}function Ke(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function We(e,t,n,o){if(V(t)){let e=document.createRange();e.setEnd(n,o),e.setStart(n,o),t.removeAllRanges(),t.addRange(e)}else t.extend&&t.extend(n,o);e.domObserver.setCurSelection();let{state:i}=e;setTimeout((()=>{e.state==i&&Ce(e)}),50)}function He(e,t,n){let i=e.state.selection;if(i instanceof o.Bs&&!i.empty||n.indexOf("s")>-1)return!1;if(w&&n.indexOf("m")>-1)return!1;let{$from:s,$to:r}=i;if(!s.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=Re(e.state,t);if(n&&n instanceof o.qv)return ze(e,n)}if(!s.parent.inlineContent){let n=t<0?s:r,l=i instanceof o.C1?o.Y1.near(n,t):o.Y1.findFrom(n,t);return!!l&&ze(e,l)}return!1}function Ye(e,t){if(!(e.state.selection instanceof o.Bs))return!0;let{$head:n,$anchor:i,empty:s}=e.state.selection;if(!n.sameParent(i))return!0;if(!s)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let r=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(r&&!r.isText){let o=e.state.tr;return t<0?o.delete(n.pos-r.nodeSize,n.pos):o.delete(n.pos,n.pos+r.nodeSize),e.dispatch(o),!0}return!1}function _e(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Ue(e,t){let n=[],{content:o,openStart:s,openEnd:r}=t;for(;s>1&&r>1&&1==o.childCount&&1==o.firstChild.childCount;){s--,r--;let e=o.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),o=e.content}let l=e.someProp("clipboardSerializer")||i.PW.fromSchema(e.state.schema),d=ot(),a=d.createElement("div");a.appendChild(l.serializeFragment(o,{document:d}));let c,h=a.firstChild,f=0;for(;h&&1==h.nodeType&&(c=tt[h.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=d.createElement(c[e]);for(;a.firstChild;)t.appendChild(a.firstChild);a.appendChild(t),f++}h=a.firstChild}return h&&1==h.nodeType&&h.setAttribute("data-pm-slice",`${s} ${r}${f?` -${f}`:""} ${JSON.stringify(n)}`),{dom:a,text:e.someProp("clipboardTextSerializer",(e=>e(t)))||t.content.textBetween(0,t.content.size,"\n\n")}}function Ge(e,t,n,o,s){let r,l,d=s.parent.type.spec.code;if(!n&&!t)return null;let a=t&&(o||d||!n);if(a){if(e.someProp("transformPastedText",(e=>{t=e(t,d||o)})),d)return t?new i.p2(i.HY.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):i.p2.empty;let n=e.someProp("clipboardTextParser",(e=>e(t,s,o)));if(n)l=n;else{let n=s.marks(),{schema:o}=e.state,l=i.PW.fromSchema(o);r=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach((e=>{let t=r.appendChild(document.createElement("p"));e&&t.appendChild(l.serializeNode(o.text(e,n)))}))}}else e.someProp("transformPastedHTML",(e=>{n=e(n)})),r=function(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,o=ot().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e);if((n=i&&tt[i[1].toLowerCase()])&&(e=n.map((e=>"<"+e+">")).join("")+e+n.map((e=>"</"+e+">")).reverse().join("")),o.innerHTML=e,n)for(let e=0;e<n.length;e++)o=o.querySelector(n[e])||o;return o}(n),N&&function(e){let t=e.querySelectorAll(g?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let o=t[n];1==o.childNodes.length&&" "==o.textContent&&o.parentNode&&o.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),o)}}(r);let c=r&&r.querySelector("[data-pm-slice]"),h=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let e=+h[3];e>0&&r.firstChild;e--)r=r.firstChild;if(!l){let t=e.someProp("clipboardParser")||e.someProp("domParser")||i.aw.fromSchema(e.state.schema);l=t.parseSlice(r,{preserveWhitespace:!(!a&&!h),context:s,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||je.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(h)l=function(e,t){if(!e.size)return e;let n,o=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:s,openStart:r,openEnd:l}=e;for(let e=n.length-2;e>=0;e-=2){let t=o.nodes[n[e]];if(!t||t.hasRequiredAttrs())break;s=i.HY.from(t.create(n[e+1],s)),r++,l++}return new i.p2(s,r,l)}(et(l,+h[1],+h[2]),h[4]);else if(l=i.p2.maxOpen(function(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let o,s=t.node(n).contentMatchAt(t.index(n)),r=[];if(e.forEach((e=>{if(!r)return;let t,n=s.findWrapping(e.type);if(!n)return r=null;if(t=r.length&&o.length&&Je(n,o,e,r[r.length-1],0))r[r.length-1]=t;else{r.length&&(r[r.length-1]=Qe(r[r.length-1],o.length));let t=Xe(e,n);r.push(t),s=s.matchType(t.type),o=n}})),r)return i.HY.from(r)}return e}(l.content,s),!0),l.openStart||l.openEnd){let e=0,t=0;for(let t=l.content.firstChild;e<l.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=l.content.lastChild;t<l.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);l=et(l,e,t)}return e.someProp("transformPasted",(e=>{l=e(l)})),l}const je=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Xe(e,t,n=0){for(let o=t.length-1;o>=n;o--)e=t[o].create(null,i.HY.from(e));return e}function Je(e,t,n,o,s){if(s<e.length&&s<t.length&&e[s]==t[s]){let r=Je(e,t,n,o.lastChild,s+1);if(r)return o.copy(o.content.replaceChild(o.childCount-1,r));if(o.contentMatchAt(o.childCount).matchType(s==e.length-1?n.type:e[s+1]))return o.copy(o.content.append(i.HY.from(Xe(n,e,s+1))))}}function Qe(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,Qe(e.lastChild,t-1)),o=e.contentMatchAt(e.childCount).fillBefore(i.HY.empty,!0);return e.copy(n.append(o))}function Ze(e,t,n,o,s,r){let l=t<0?e.firstChild:e.lastChild,d=l.content;return s<o-1&&(d=Ze(d,t,n,o,s+1,r)),s>=n&&(d=t<0?l.contentMatchAt(0).fillBefore(d,e.childCount>1||r<=s).append(d):d.append(l.contentMatchAt(l.childCount).fillBefore(i.HY.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,l.copy(d))}function et(e,t,n){return t<e.openStart&&(e=new i.p2(Ze(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new i.p2(Ze(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const tt={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let nt=null;function ot(){return nt||(nt=document.implementation.createHTMLDocument("title"))}const it={};let st={};class rt{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function lt(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function dt(e){e.someProp("handleDOMEvents",(t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=t=>at(e,t))}))}function at(e,t){return e.someProp("handleDOMEvents",(n=>{let o=n[t.type];return!!o&&(o(e,t)||t.defaultPrevented)}))}function ct(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function ht(e){return{left:e.clientX,top:e.clientY}}function ft(e,t,n,o,i){if(-1==o)return!1;let s=e.state.doc.resolve(o);for(let o=s.depth+1;o>0;o--)if(e.someProp(t,(t=>o>s.depth?t(e,n,s.nodeAfter,s.before(o),i,!0):t(e,n,s.node(o),s.before(o),i,!1))))return!0;return!1}function ut(e,t,n){e.focused||e.focus();let o=e.state.tr.setSelection(t);"pointer"==n&&o.setMeta("pointer",!0),e.dispatch(o)}function pt(e,t,n,o){return ft(e,"handleDoubleClickOn",t,n,o)||e.someProp("handleDoubleClick",(n=>n(e,t,o)))}function mt(e,t,n,i){return ft(e,"handleTripleClickOn",t,n,i)||e.someProp("handleTripleClick",(n=>n(e,t,i)))||function(e,t,n){if(0!=n.button)return!1;let i=e.state.doc;if(-1==t)return!!i.inlineContent&&(ut(e,o.Bs.create(i,0,i.content.size),"pointer"),!0);let s=i.resolve(t);for(let t=s.depth+1;t>0;t--){let n=t>s.depth?s.nodeAfter:s.node(t),r=s.before(t);if(n.inlineContent)ut(e,o.Bs.create(i,r+1,r+1+n.content.size),"pointer");else{if(!o.qv.isSelectable(n))continue;ut(e,o.qv.create(i,r),"pointer")}return!0}}(e,n,i)}function gt(e){return Ot(e)}st.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!vt(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!D||!g||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!v||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",(t=>t(e,n)))||function(e,t){let n=t.keyCode,o=function(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||w&&72==n&&"c"==o?Ye(e,-1)||Fe(e):46==n||w&&68==n&&"c"==o?Ye(e,1)||$e(e):13==n||27==n||(37==n||w&&66==n&&"c"==o?Ie(e,-1,o)||Fe(e):39==n||w&&70==n&&"c"==o?Ie(e,1,o)||$e(e):38==n||w&&80==n&&"c"==o?He(e,-1,o)||Fe(e):40==n||w&&78==n&&"c"==o?function(e){if(!b||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelection();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;_e(e,n,"true"),setTimeout((()=>_e(e,n,"false")),20)}return!1}(e)||He(e,1,o)||$e(e):o==(w?"m":"c")&&(66==n||73==n||89==n||90==n))}(e,n)?n.preventDefault():lt(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout((()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",(t=>t(e,B(13,"Enter")))),e.input.lastIOSEnter=0)}),200)}},st.keyup=(e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)},st.keypress=(e,t)=>{let n=t;if(vt(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||w&&n.metaKey)return;if(e.someProp("handleKeyPress",(t=>t(e,n))))return void n.preventDefault();let i=e.state.selection;if(!(i instanceof o.Bs&&i.$from.sameParent(i.$to))){let t=String.fromCharCode(n.charCode);e.someProp("handleTextInput",(n=>n(e,i.$from.pos,i.$to.pos,t)))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}};const yt=w?"metaKey":"ctrlKey";it.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let o=gt(e),i=Date.now(),s="singleClick";i-e.input.lastClick.time<500&&function(e,t){let n=t.x-e.clientX,o=t.y-e.clientY;return n*n+o*o<100}(n,e.input.lastClick)&&!n[yt]&&("singleClick"==e.input.lastClick.type?s="doubleClick":"doubleClick"==e.input.lastClick.type&&(s="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let r=e.posAtCoords(ht(n));r&&("singleClick"==s?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new bt(e,r,n,!!o)):("doubleClick"==s?pt:mt)(e,r.pos,r.inside,n)?n.preventDefault():lt(e,"pointer"))};class bt{constructor(e,t,n,i){let s,r;if(this.view=e,this.pos=t,this.event=n,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[yt],this.allowDefault=n.shiftKey,t.inside>-1)s=e.state.doc.nodeAt(t.inside),r=t.inside;else{let n=e.state.doc.resolve(t.pos);s=n.parent,r=n.depth?n.before():0}const l=i?null:n.target,d=l?e.docView.nearestDesc(l,!0):null;this.target=d?d.dom:null;let{selection:a}=e.state;(0==n.button&&s.type.spec.draggable&&!1!==s.type.spec.selectable||a instanceof o.qv&&a.from<=r&&a.to>r)&&(this.mightDrag={node:s,pos:r,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!p||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),lt(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout((()=>Ce(this.view))),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(ht(e))),this.allowDefault||!t?lt(this.view,"pointer"):function(e,t,n,i,s){return ft(e,"handleClickOn",t,n,i)||e.someProp("handleClick",(n=>n(e,t,i)))||(s?function(e,t){if(-1==t)return!1;let n,i,s=e.state.selection;s instanceof o.qv&&(n=s.node);let r=e.state.doc.resolve(t);for(let e=r.depth+1;e>0;e--){let t=e>r.depth?r.nodeAfter:r.node(e);if(o.qv.isSelectable(t)){i=n&&s.$from.depth>0&&e>=s.$from.depth&&r.before(s.$from.depth+1)==s.$from.pos?r.before(s.$from.depth):r.before(e);break}}return null!=i&&(ut(e,o.qv.create(e.state.doc,i),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),i=n.nodeAfter;return!!(i&&i.isAtom&&o.qv.isSelectable(i))&&(ut(e,new o.qv(n),"pointer"),!0)}(e,n))}(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||b&&this.mightDrag&&!this.mightDrag.node.isAtom||g&&!(this.view.state.selection instanceof o.Bs)&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(ut(this.view,o.Y1.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):lt(this.view,"pointer")}move(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),lt(this.view,"pointer"),0==e.buttons&&this.done()}}function vt(e,t){return!!e.composing||!!(b&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}it.touchdown=e=>{gt(e),lt(e,"pointer")},it.contextmenu=e=>gt(e);const wt=D?5e3:-1;function Dt(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout((()=>Ot(e)),t))}function Nt(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=function(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Ot(e,t=!1){if(!(D&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Nt(e),t||e.docView&&e.docView.dirty){let t=Oe(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}st.compositionstart=st.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((e=>!1===e.type.spec.inclusive))))e.markCursor=e.state.storedMarks||n.marks(),Ot(e,!0),e.markCursor=null;else if(Ot(e),p&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelection();for(let e=t.focusNode,n=t.focusOffset;e&&1==e.nodeType&&0!=n;){let o=n<0?e.lastChild:e.childNodes[n-1];if(!o)break;if(3==o.nodeType){t.collapse(o,o.nodeValue.length);break}e=o,n=-1}}e.input.composing=!0}Dt(e,wt)},st.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,Dt(e,20))};const St=f&&u<15||v&&O<604;function Ct(e,t,n,o){let s=Ge(e,t,n,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(t=>t(e,o,s||i.p2.empty))))return!0;if(!s)return!1;let r=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(s),l=r?e.state.tr.replaceSelectionWith(r,e.input.shiftKey):e.state.tr.replaceSelection(s);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}it.copy=st.cut=(e,t)=>{let n=t,o=e.state.selection,i="cut"==n.type;if(o.empty)return;let s=St?null:n.clipboardData,r=o.content(),{dom:l,text:d}=Ue(e,r);s?(n.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",d)):function(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let o=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),o.removeAllRanges(),o.addRange(i),setTimeout((()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}(e,l),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))},st.paste=(e,t)=>{let n=t;if(e.composing&&!D)return;let o=St?null:n.clipboardData;o&&Ct(e,o.getData("text/plain"),o.getData("text/html"),n)?n.preventDefault():function(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,o=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(o.contentEditable="true"),o.style.cssText="position: fixed; left: -10000px; top: 10px",o.focus(),setTimeout((()=>{e.focus(),o.parentNode&&o.parentNode.removeChild(o),n?Ct(e,o.value,null,t):Ct(e,o.textContent,o.innerHTML,t)}),50)}(e,n)};class Mt{constructor(e,t){this.slice=e,this.move=t}}const xt=w?"altKey":"ctrlKey";it.dragstart=(e,t)=>{let n=t,i=e.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let s=e.state.selection,r=s.empty?null:e.posAtCoords(ht(n));if(r&&r.pos>=s.from&&r.pos<=(s instanceof o.qv?s.to-1:s.to));else if(i&&i.mightDrag)e.dispatch(e.state.tr.setSelection(o.qv.create(e.state.doc,i.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&e.dispatch(e.state.tr.setSelection(o.qv.create(e.state.doc,t.posBefore)))}let l=e.state.selection.content(),{dom:d,text:a}=Ue(e,l);n.dataTransfer.clearData(),n.dataTransfer.setData(St?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",St||n.dataTransfer.setData("text/plain",a),e.dragging=new Mt(l,!n[xt])},it.dragend=e=>{let t=e.dragging;window.setTimeout((()=>{e.dragging==t&&(e.dragging=null)}),50)},st.dragover=st.dragenter=(e,t)=>t.preventDefault(),st.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let l=e.posAtCoords(ht(n));if(!l)return;let d=e.state.doc.resolve(l.pos);if(!d)return;let a=r&&r.slice;a?e.someProp("transformPasted",(e=>{a=e(a)})):a=Ge(e,n.dataTransfer.getData(St?"Text":"text/plain"),St?null:n.dataTransfer.getData("text/html"),!1,d);let c=!(!r||n[xt]);if(e.someProp("handleDrop",(t=>t(e,n,a||i.p2.empty,c))))return void n.preventDefault();if(!a)return;n.preventDefault();let h=a?(0,s.nj)(e.state.doc,d.pos,a):d.pos;null==h&&(h=d.pos);let f=e.state.tr;c&&f.deleteSelection();let u=f.mapping.map(h),p=0==a.openStart&&0==a.openEnd&&1==a.content.childCount,m=f.doc;if(p?f.replaceRangeWith(u,u,a.content.firstChild):f.replaceRange(u,u,a),f.doc.eq(m))return;let g=f.doc.resolve(u);if(p&&o.qv.isSelectable(a.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(a.content.firstChild))f.setSelection(new o.qv(g));else{let t=f.mapping.map(h);f.mapping.maps[f.mapping.maps.length-1].forEach(((e,n,o,i)=>t=i)),f.setSelection(Ee(e,g,f.doc.resolve(t)))}e.focus(),e.dispatch(f.setMeta("uiEvent","drop"))},it.focus=e=>{e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelection())&&Ce(e)}),20))},it.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)},it.beforeinput=(e,t)=>{if(g&&D&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout((()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",(t=>t(e,B(8,"Backspace")))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())}),50)}};for(let e in st)it[e]=st[e];function kt(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Tt{constructor(e,t){this.toDOM=e,this.spec=t||Bt,this.side=this.spec.side||0}map(e,t,n,o){let{pos:i,deleted:s}=e.mapResult(t.from+o,this.side<0?-1:1);return s?null:new Et(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Tt&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&kt(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class At{constructor(e,t){this.attrs=e,this.spec=t||Bt}map(e,t,n,o){let i=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-n,s=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-n;return i>=s?null:new Et(i,s,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof At&&kt(this.attrs,e.attrs)&&kt(this.spec,e.spec)}static is(e){return e.type instanceof At}destroy(){}}class Pt{constructor(e,t){this.attrs=e,this.spec=t||Bt}map(e,t,n,o){let i=e.mapResult(t.from+o,1);if(i.deleted)return null;let s=e.mapResult(t.to+o,-1);return s.deleted||s.pos<=i.pos?null:new Et(i.pos-n,s.pos-n,this)}valid(e,t){let n,{index:o,offset:i}=e.content.findIndex(t.from);return i==t.from&&!(n=e.child(o)).isText&&i+n.nodeSize==t.to}eq(e){return this==e||e instanceof Pt&&kt(this.attrs,e.attrs)&&kt(this.spec,e.spec)}destroy(){}}class Et{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Et(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Et(e,e,new Tt(t,n))}static inline(e,t,n,o){return new Et(e,t,new At(n,o))}static node(e,t,n,o){return new Et(e,t,new Pt(n,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof At}}const Vt=[],Bt={};class Rt{constructor(e,t){this.local=e.length?e:Vt,this.children=t.length?t:Vt}static create(e,t){return t.length?$t(t,e,0,Bt):zt}find(e,t,n){let o=[];return this.findInner(null==e?0:e,null==t?1e9:t,o,0,n),o}findInner(e,t,n,o,i){for(let s=0;s<this.local.length;s++){let r=this.local[s];r.from<=t&&r.to>=e&&(!i||i(r.spec))&&n.push(r.copy(r.from+o,r.to+o))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){let r=this.children[s]+1;this.children[s+2].findInner(e-r,t-r,n,o+r,i)}}map(e,t,n){return this==zt||0==e.maps.length?this:this.mapInner(e,t,0,0,n||Bt)}mapInner(e,t,n,o,i){let s;for(let r=0;r<this.local.length;r++){let l=this.local[r].map(e,n,o);l&&l.type.valid(t,l)?(s||(s=[])).push(l):i.onRemove&&i.onRemove(this.local[r].spec)}return this.children.length?function(e,t,n,o,i,s,r){let l=e.slice(),d=(e,t,n,o)=>{for(let r=0;r<l.length;r+=3){let d,a=l[r+1];if(a<0||e>a+s)continue;let c=l[r]+s;t>=c?l[r+1]=e<=c?-2:-1:n>=i&&(d=o-n-(t-e))&&(l[r]+=d,l[r+1]+=d)}};for(let e=0;e<n.maps.length;e++)n.maps[e].forEach(d);let a=!1;for(let t=0;t<l.length;t+=3)if(l[t+1]<0){if(-2==l[t+1]){a=!0,l[t+1]=-1;continue}let d=n.map(e[t]+s),c=d-i;if(c<0||c>=o.content.size){a=!0;continue}let h=n.map(e[t+1]+s,-1)-i,{index:f,offset:u}=o.content.findIndex(c),p=o.maybeChild(f);if(p&&u==c&&u+p.nodeSize==h){let o=l[t+2].mapInner(n,p,d+1,e[t]+s+1,r);o!=zt?(l[t]=c,l[t+1]=h,l[t+2]=o):(l[t+1]=-2,a=!0)}else a=!0}if(a){let d=function(e,t,n,o,i,s,r){function l(e,t){for(let s=0;s<e.local.length;s++){let l=e.local[s].map(o,i,t);l?n.push(l):r.onRemove&&r.onRemove(e.local[s].spec)}for(let n=0;n<e.children.length;n+=3)l(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&l(e[n+2],t[n]+s+1);return n}(l,e,t,n,i,s,r),a=$t(d,o,0,r);t=a.local;for(let e=0;e<l.length;e+=3)l[e+1]<0&&(l.splice(e,3),e-=3);for(let e=0,t=0;e<a.children.length;e+=3){let n=a.children[e];for(;t<l.length&&l[t]<n;)t+=3;l.splice(t,0,a.children[e],a.children[e+1],a.children[e+2])}}return new Rt(t.sort(Kt),l)}(this.children,s||[],e,t,n,o,i):s?new Rt(s.sort(Kt),Vt):zt}add(e,t){return t.length?this==zt?Rt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let o,i=0;e.forEach(((e,s)=>{let r,l=s+n;if(r=Lt(t,e,l)){for(o||(o=this.children.slice());i<o.length&&o[i]<s;)i+=3;o[i]==s?o[i+2]=o[i+2].addInner(e,r,l+1):o.splice(i,0,s,s+e.nodeSize,$t(r,e,l+1,Bt)),i+=3}}));let s=qt(i?Ft(t):t,-n);for(let t=0;t<s.length;t++)s[t].type.valid(e,s[t])||s.splice(t--,1);return new Rt(s.length?this.local.concat(s).sort(Kt):this.local,o||this.children)}remove(e){return 0==e.length||this==zt?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,o=this.local;for(let o=0;o<n.length;o+=3){let i,s=n[o]+t,r=n[o+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>s&&t.to<r&&(e[n]=null,(i||(i=[])).push(t));if(!i)continue;n==this.children&&(n=this.children.slice());let l=n[o+2].removeInner(i,s+1);l!=zt?n[o+2]=l:(n.splice(o,3),o-=3)}if(o.length)for(let n,i=0;i<e.length;i++)if(n=e[i])for(let e=0;e<o.length;e++)o[e].eq(n,t)&&(o==this.local&&(o=this.local.slice()),o.splice(e--,1));return n==this.children&&o==this.local?this:o.length||n.length?new Rt(o,n):zt}forChild(e,t){if(this==zt)return this;if(t.isLeaf)return Rt.empty;let n,o;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let i=e+1,s=i+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<s&&t.to>i&&t.type instanceof At){let e=Math.max(i,t.from)-i,n=Math.min(s,t.to)-i;e<n&&(o||(o=[])).push(t.copy(e,n))}}if(o){let e=new Rt(o.sort(Kt),Vt);return n?new It([e,n]):e}return n||zt}eq(e){if(this==e)return!0;if(!(e instanceof Rt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Wt(this.localsInner(e))}localsInner(e){if(this==zt)return Vt;if(e.inlineContent||!this.local.some(At.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof At||t.push(this.local[e]);return t}}Rt.empty=new Rt([],[]),Rt.removeOverlap=Wt;const zt=Rt.empty;class It{constructor(e){this.members=e}map(e,t){const n=this.members.map((n=>n.map(e,t,Bt)));return It.from(n)}forChild(e,t){if(t.isLeaf)return Rt.empty;let n=[];for(let o=0;o<this.members.length;o++){let i=this.members[o].forChild(e,t);i!=zt&&(i instanceof It?n=n.concat(i.members):n.push(i))}return It.from(n)}eq(e){if(!(e instanceof It)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let o=0;o<this.members.length;o++){let i=this.members[o].localsInner(e);if(i.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<i.length;e++)t.push(i[e])}else t=i}return t?Wt(n?t:t.sort(Kt)):Vt}static from(e){switch(e.length){case 0:return zt;case 1:return e[0];default:return new It(e)}}}function qt(e,t){if(!t||!e.length)return e;let n=[];for(let o=0;o<e.length;o++){let i=e[o];n.push(new Et(i.from+t,i.to+t,i.type))}return n}function Lt(e,t,n){if(t.isLeaf)return null;let o=n+t.nodeSize,i=null;for(let t,s=0;s<e.length;s++)(t=e[s])&&t.from>n&&t.to<o&&((i||(i=[])).push(t),e[s]=null);return i}function Ft(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function $t(e,t,n,o){let i=[],s=!1;t.forEach(((t,r)=>{let l=Lt(e,t,r+n);if(l){s=!0;let e=$t(l,t,n+r+1,o);e!=zt&&i.push(r,r+t.nodeSize,e)}}));let r=qt(s?Ft(e):e,-n).sort(Kt);for(let e=0;e<r.length;e++)r[e].type.valid(t,r[e])||(o.onRemove&&o.onRemove(r[e].spec),r.splice(e--,1));return r.length||i.length?new Rt(r,i):zt}function Kt(e,t){return e.from-t.from||e.to-t.to}function Wt(e){let t=e;for(let n=0;n<t.length-1;n++){let o=t[n];if(o.from!=o.to)for(let i=n+1;i<t.length;i++){let s=t[i];if(s.from!=o.from){s.from<o.to&&(t==e&&(t=e.slice()),t[n]=o.copy(o.from,s.from),Ht(t,i,o.copy(s.from,o.to)));break}s.to!=o.to&&(t==e&&(t=e.slice()),t[i]=s.copy(s.from,o.to),Ht(t,i+1,s.copy(o.to,s.to)))}}return t}function Ht(e,t,n){for(;t<e.length&&Kt(n,e[t])>0;)t++;e.splice(t,0,n)}function Yt(e){let t=[];return e.someProp("decorations",(n=>{let o=n(e.state);o&&o!=zt&&t.push(o)})),e.cursorWrapper&&t.push(Rt.create(e.state.doc,[e.cursorWrapper.deco])),It.from(t)}const _t={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ut=f&&u<=11;class Gt{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class jt{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Gt,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver((e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);f&&u<=11&&e.some((e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length))?this.flushSoon():this.flush()})),Ut&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((()=>{this.flushingSoon=-1,this.flush()}),20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,_t),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout((()=>this.flush()),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout((()=>this.suppressingSelectionUpdates=!1),50)}onSelectionChange(){if(Ve(this.view)){if(this.suppressingSelectionUpdates)return Ce(this.view);if(f&&u<=11&&!this.view.state.selection.empty){let e=this.view.domSelection();if(e.focusNode&&k(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(e){if(0==e.rangeCount)return!0;let t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);let t=this.view.domSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Ve(this.view)&&!this.ignoreSelectionChange(t),o=-1,i=-1,s=!1,r=[];if(this.view.editable)for(let t=0;t<e.length;t++){let n=this.registerMutation(e[t],r);n&&(o=o<0?n.from:Math.min(n.from,o),i=i<0?n.to:Math.max(n.to,i),n.typeOver&&(s=!0))}if(p&&r.length>1){let e=r.filter((e=>"BR"==e.nodeName));if(2==e.length){let t=e[0],n=e[1];t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}}var l;(o>-1||n)&&(o>-1&&(this.view.docView.markDirty(o,i),l=this.view,Xt||(Xt=!0,"normal"==getComputedStyle(l.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))),this.handleDOMChange(o,i,s,r),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||Ce(this.view),this.currentSelection.set(t))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++)t.push(e.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let o=e.previousSibling,i=e.nextSibling;if(f&&u<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:s}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(o=n),(!s||Array.prototype.indexOf.call(e.addedNodes,s)<0)&&(i=s)}let s=o&&o.parentNode==e.target?S(o)+1:0,r=n.localPosFromDOM(e.target,s,-1),l=i&&i.parentNode==e.target?S(i):e.target.childNodes.length;return{from:r,to:n.localPosFromDOM(e.target,l,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Xt=!1;function Jt(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(b&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||b&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Qt(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Ee(e,t.resolve(n.anchor),t.resolve(n.head))}function Zt(e,t,n){let o=e.depth,i=t?e.end():e.pos;for(;o>0&&(t||e.indexAfter(o)==e.node(o).childCount);)o--,i++,t=!1;if(n){let t=e.node(o).maybeChild(e.indexAfter(o));for(;t&&!t.isLeaf;)t=t.firstChild,i++}return i}class en{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new rt,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(rn),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=on(this),nn(this),this.nodeViews=sn(this),this.docView=le(this.state.doc,tn(this),Yt(this),this.dom,this),this.domObserver=new jt(this,((e,t,n,s)=>function(e,t,n,s,r){if(t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=Oe(e,t);if(n&&!e.state.selection.eq(n)){let o=e.state.tr.setSelection(n);"pointer"==t?o.setMeta("pointer",!0):"key"==t&&o.scrollIntoView(),e.dispatch(o)}return}let l=e.state.doc.resolve(t),d=l.sharedDepth(n);t=l.before(d+1),n=e.state.doc.resolve(n).after(d+1);let a=e.state.selection,c=function(e,t,n){let o,{node:s,fromOffset:r,toOffset:l,from:d,to:a}=e.docView.parseRange(t,n),c=e.domSelection(),h=c.anchorNode;if(h&&e.dom.contains(1==h.nodeType?h:h.parentNode)&&(o=[{node:h,offset:c.anchorOffset}],V(c)||o.push({node:c.focusNode,offset:c.focusOffset})),g&&8===e.input.lastKeyCode)for(let e=l;e>r;e--){let t=s.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){l=e;break}if(!n||n.size)break}let f=e.state.doc,u=e.someProp("domParser")||i.aw.fromSchema(e.state.schema),p=f.resolve(d),m=null,y=u.parse(s,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:r,to:l,preserveWhitespace:"pre"!=p.parent.type.whitespace||"full",findPositions:o,ruleFromNode:Jt,context:p});if(o&&null!=o[0].pos){let e=o[0].pos,t=o[1]&&o[1].pos;null==t&&(t=e),m={anchor:e+d,head:t+d}}return{doc:y,sel:m,from:d,to:a}}(e,t,n);if(g&&e.cursorWrapper&&c.sel&&c.sel.anchor==e.cursorWrapper.deco.from){let t=e.cursorWrapper.deco.type.toDOM.nextSibling,n=t&&t.nodeValue?t.nodeValue.length:1;c.sel={anchor:c.sel.anchor+n,head:c.sel.anchor+n}}let h,p,m=e.state.doc,y=m.slice(c.from,c.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(h=e.state.selection.to,p="end"):(h=e.state.selection.from,p="start"),e.input.lastKeyCode=null;let b=function(e,t,n,o,i){let s=e.findDiffStart(t,n);if(null==s)return null;let{a:r,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);return"end"==i&&(o-=r+Math.max(0,s-Math.min(r,l))-s),r<s&&e.size<t.size?(s-=o<=s&&o>=r?s-o:0,l=s+(l-r),r=s):l<s&&(s-=o<=s&&o>=l?s-o:0,r=s+(r-l),l=s),{start:s,endA:r,endB:l}}(y.content,c.doc.content,c.from,h,p);if((v&&e.input.lastIOSEnter>Date.now()-225||D)&&r.some((e=>"DIV"==e.nodeName||"P"==e.nodeName))&&(!b||b.endA>=b.endB)&&e.someProp("handleKeyDown",(t=>t(e,B(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(!b){if(!(s&&a instanceof o.Bs&&!a.empty&&a.$head.sameParent(a.$anchor))||e.composing||c.sel&&c.sel.anchor!=c.sel.head){if(c.sel){let t=Qt(e,e.state.doc,c.sel);t&&!t.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(t))}return}b={start:a.from,endA:a.to,endB:a.to}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&b.start==b.endB&&e.state.selection instanceof o.Bs&&(b.start>e.state.selection.from&&b.start<=e.state.selection.from+2&&e.state.selection.from>=c.from?b.start=e.state.selection.from:b.endA<e.state.selection.to&&b.endA>=e.state.selection.to-2&&e.state.selection.to<=c.to&&(b.endB+=e.state.selection.to-b.endA,b.endA=e.state.selection.to)),f&&u<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>c.from&&"  "==c.doc.textBetween(b.start-c.from-1,b.start-c.from+1)&&(b.start--,b.endA--,b.endB--);let w,N=c.doc.resolveNoCache(b.start-c.from),O=c.doc.resolveNoCache(b.endB-c.from),S=m.resolve(b.start),C=N.sameParent(O)&&N.parent.inlineContent&&S.end()>=b.endA;if((v&&e.input.lastIOSEnter>Date.now()-225&&(!C||r.some((e=>"DIV"==e.nodeName||"P"==e.nodeName)))||!C&&N.pos<c.doc.content.size&&(w=o.Y1.findFrom(c.doc.resolve(N.pos+1),1,!0))&&w.head==O.pos)&&e.someProp("handleKeyDown",(t=>t(e,B(13,"Enter")))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>b.start&&function(e,t,n,o,i){if(!o.parent.isTextblock||n-t<=i.pos-o.pos||Zt(o,!0,!1)<i.pos)return!1;let s=e.resolve(t);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let r=e.resolve(Zt(s,!0,!0));return!(!r.parent.isTextblock||r.pos>n||Zt(r,!0,!1)<n)&&o.parent.content.cut(o.parentOffset).eq(r.parent.content)}(m,b.start,b.endA,N,O)&&e.someProp("handleKeyDown",(t=>t(e,B(8,"Backspace")))))return void(D&&g&&e.domObserver.suppressSelectionUpdates());g&&D&&b.endB==b.start&&(e.input.lastAndroidDelete=Date.now()),D&&!C&&N.start()!=O.start()&&0==O.parentOffset&&N.depth==O.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==b.endA&&(b.endB-=2,O=c.doc.resolveNoCache(b.endB-c.from),setTimeout((()=>{e.someProp("handleKeyDown",(function(t){return t(e,B(13,"Enter"))}))}),20));let M,x,k,T=b.start,A=b.endA;if(C)if(N.pos==O.pos)f&&u<=11&&0==N.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((()=>Ce(e)),20)),M=e.state.tr.delete(T,A),x=m.resolve(b.start).marksAcross(m.resolve(b.endA));else if(b.endA==b.endB&&(k=function(e,t){let n,o,s,r=e.firstChild.marks,l=t.firstChild.marks,d=r,a=l;for(let e=0;e<l.length;e++)d=l[e].removeFromSet(d);for(let e=0;e<r.length;e++)a=r[e].removeFromSet(a);if(1==d.length&&0==a.length)o=d[0],n="add",s=e=>e.mark(o.addToSet(e.marks));else{if(0!=d.length||1!=a.length)return null;o=a[0],n="remove",s=e=>e.mark(o.removeFromSet(e.marks))}let c=[];for(let e=0;e<t.childCount;e++)c.push(s(t.child(e)));if(i.HY.from(c).eq(e))return{mark:o,type:n}}(N.parent.content.cut(N.parentOffset,O.parentOffset),S.parent.content.cut(S.parentOffset,b.endA-S.start()))))M=e.state.tr,"add"==k.type?M.addMark(T,A,k.mark):M.removeMark(T,A,k.mark);else if(N.parent.child(N.index()).isText&&N.index()==O.index()-(O.textOffset?0:1)){let t=N.parent.textBetween(N.parentOffset,O.parentOffset);if(e.someProp("handleTextInput",(n=>n(e,T,A,t))))return;M=e.state.tr.insertText(t,T,A)}if(M||(M=e.state.tr.replace(T,A,c.doc.slice(b.start-c.from,b.endB-c.from))),c.sel){let t=Qt(e,M.doc,c.sel);t&&!(g&&D&&e.composing&&t.empty&&(b.start!=b.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==T||t.head==M.mapping.map(A)-1)||f&&t.empty&&t.head==T)&&M.setSelection(t)}x&&M.ensureMarks(x),e.dispatch(M.scrollIntoView())}(this,e,t,n,s))),this.domObserver.start(),function(e){for(let t in it){let n=it[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=t=>{!ct(e,t)||at(e,t)||!e.editable&&t.type in st||n(e,t)})}b&&e.dom.addEventListener("input",(()=>null)),dt(e)}(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&dt(this),this._props=e,e.plugins&&(e.plugins.forEach(rn),this.directPlugins=e.plugins),this.updateStateInner(e.state,!0)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this.state.plugins!=e.plugins)}updateStateInner(e,t){let n=this.state,i=!1,s=!1;if(e.storedMarks&&this.composing&&(Nt(this),s=!0),this.state=e,t){let e=sn(this);(function(e,t){let n=0,o=0;for(let o in e){if(e[o]!=t[o])return!0;n++}for(let e in t)o++;return n!=o})(e,this.nodeViews)&&(this.nodeViews=e,i=!0),dt(this)}this.editable=on(this),nn(this);let r=Yt(this),l=tn(this),d=t?"reset":e.scrollToSelection>n.scrollToSelection?"to selection":"preserve",a=i||!this.docView.matchesNode(e.doc,l,r);!a&&e.selection.eq(n.selection)||(s=!0);let c="preserve"==d&&s&&null==this.dom.style.overflowAnchor&&function(e){let t,n,o=e.dom.getBoundingClientRect(),i=Math.max(0,o.top);for(let s=(o.left+o.right)/2,r=i+1;r<Math.min(innerHeight,o.bottom);r+=5){let o=e.root.elementFromPoint(s,r);if(!o||o==e.dom||!e.dom.contains(o))continue;let l=o.getBoundingClientRect();if(l.top>=i-20){t=o,n=l.top;break}}return{refDOM:t,refTop:n,stack:L(e.dom)}}(this);if(s){this.domObserver.stop();let t=a&&(f||g)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&function(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}(n.selection,e.selection);if(a){let n=g?this.trackWrites=this.domSelection().focusNode:null;!i&&this.docView.update(e.doc,l,r,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=le(e.doc,l,r,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&function(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelection();return k(t.node,t.offset,n.anchorNode,n.anchorOffset)}(this))?Ce(this,t):(Ae(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(n),"reset"==d)this.dom.scrollTop=0;else if("to selection"==d){let t=this.domSelection().focusNode;if(this.someProp("handleScrollToSelection",(e=>e(this))));else if(e.selection instanceof o.qv){let n=this.docView.domAfterPos(e.selection.from);1==n.nodeType&&q(this,n.getBoundingClientRect(),t)}else q(this,this.coordsAtPos(e.selection.head,1),t)}else c&&function({refDOM:e,refTop:t,stack:n}){let o=e?e.getBoundingClientRect().top:0;F(n,0==o?0:o-t)}(c)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}someProp(e,t){let n,o=this._props&&this._props[e];if(null!=o&&(n=t?t(o):o))return n;for(let o=0;o<this.directPlugins.length;o++){let i=this.directPlugins[o].props[e];if(null!=i&&(n=t?t(i):i))return n}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let s=i[o].props[e];if(null!=s&&(n=t?t(s):s))return n}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if($)return e.focus($);let t=L(e);e.focus(null==$?{get preventScroll(){return $={preventScroll:!0},!0}}:void 0),$||($=!1,F(t,0))}(this.dom),Ce(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=()=>e.ownerDocument.getSelection()),this._root=e;return e||document}posAtCoords(e){return Y(this,e)}coordsAtPos(e,t=1){return G(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let o=this.docView.posFromDOM(e,t,n);if(null==o)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,t){return function(e,t,n){return Z==t&&ee==n?te:(Z=t,ee=n,te="up"==n||"down"==n?function(e,t,n){let o=t.selection,i="up"==n?o.$from:o.$to;return J(e,t,(()=>{let{node:t}=e.docView.domFromPos(i.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.dom;break}t=n.dom.parentNode}let o=G(e,i.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=x(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let i=t[e];if(i.bottom>i.top+1&&("up"==n?o.top-i.top>2*(i.bottom-o.top):i.bottom-o.bottom>2*(o.bottom-i.top)))return!1}}return!0}))}(e,t,n):function(e,t,n){let{$head:o}=t.selection;if(!o.parent.isTextblock)return!1;let i=o.parentOffset,s=!i,r=i==o.parent.content.size,l=e.domSelection();return Q.test(o.parent.textContent)&&l.modify?J(e,t,(()=>{let t=l.getRangeAt(0),i=l.focusNode,s=l.focusOffset,r=l.caretBidiLevel;l.modify("move",n,"character");let d=!(o.depth?e.docView.domAfterPos(o.before()):e.dom).contains(1==l.focusNode.nodeType?l.focusNode:l.focusNode.parentNode)||i==l.focusNode&&s==l.focusOffset;return l.removeAllRanges(),l.addRange(t),null!=r&&(l.caretBidiLevel=r),d})):"left"==n||"backward"==n?s:r}(e,t,n))}(this,t||this.state,e)}destroy(){this.docView&&(function(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Yt(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return function(e,t){at(e,t)||!it[t.type]||!e.editable&&t.type in st||it[t.type](e,t)}(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelection(){return this.root.getSelection()}}function tn(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",(n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e&&(t.class+=" "+n[e]),"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))})),[Et.node(0,e.state.doc.content.size,t)]}function nn(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Et.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function on(e){return!e.someProp("editable",(t=>!1===t(e.state)))}function sn(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function rn(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbW9uLWY4YzliODllLjZkMzMzZDVkYzQ0OTY4ZTQ0ODc1LmpzIiwibWFwcGluZ3MiOiJ5SkFJQSxNQUFNQSxFQUEwQixvQkFBYkMsVUFBMkJBLFVBQVksS0FDcERDLEVBQXlCLG9CQUFaQyxTQUEwQkEsU0FBVyxLQUNsREMsRUFBU0osR0FBT0EsRUFBSUssV0FBYyxHQUNsQ0MsRUFBVSxjQUFjQyxLQUFLSCxHQUM3QkksRUFBWSxVQUFVRCxLQUFLSCxHQUMzQkssRUFBVSx3Q0FBd0NGLEtBQUtILEdBQ3ZETSxLQUFRRixHQUFhQyxHQUFXSCxHQUNoQ0ssRUFBYUgsRUFBWUwsU0FBU1MsYUFBZUgsR0FBV0EsRUFBUSxHQUFLSCxHQUFXQSxFQUFRLEdBQUssRUFDakdPLEdBQVNILEdBQU0sZ0JBQWdCSSxLQUFLVixHQUMxQ1MsSUFBVyxpQkFBaUJOLEtBQUtILElBQVUsQ0FBQyxFQUFHLElBQUksR0FDbkQsTUFBTVcsR0FBV0wsR0FBTSxnQkFBZ0JILEtBQUtILEdBQ3RDWSxJQUFXRCxFQUNYRSxFQUFpQkYsR0FBV0EsRUFBUSxHQUFLLEVBQ3pDRyxHQUFVUixLQUFRVixHQUFPLGlCQUFpQmMsS0FBS2QsRUFBSW1CLFFBRW5EQyxFQUFNRixJQUFXLGNBQWNKLEtBQUtWLE1BQVlKLEdBQU9BLEVBQUlxQixlQUFpQixHQUM1RUMsRUFBTUYsS0FBUXBCLEdBQU0sTUFBTWMsS0FBS2QsRUFBSXVCLFVBQ25DQyxFQUFVLGFBQWFWLEtBQUtWLEdBQzVCcUIsSUFBV3ZCLEdBQU8sd0JBQXlCQSxFQUFJd0IsZ0JBQWdCQyxNQUMvREMsRUFBaUJILElBQVcsdUJBQXVCbEIsS0FBS04sVUFBVUksWUFBYyxDQUFDLEVBQUcsSUFBSSxHQUFLLEVBRTdGd0IsRUFBVyxTQUFVQyxHQUN2QixJQUFLLElBQUlDLEVBQVEsR0FBSUEsSUFFakIsS0FEQUQsRUFBT0EsRUFBS0UsaUJBRVIsT0FBT0QsQ0FFbkIsRUFDTUUsRUFBYSxTQUFVSCxHQUN6QixJQUFJSSxFQUFTSixFQUFLSyxj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QVk5eUIsR0FDakIsT0FBUUEsRUFBS0csU0FBUyxZQUFZZixJQUErQixJQUF0QkEsRUFBTVksRUFBS3VFLFFBQzFELENBS0EsU0FBU3l1QixHQUFlaHpCLEdBQ3BCLElBQUlnVSxFQUFTUSxPQUFPOUcsT0FBTyxNQUMzQixTQUFTdEIsRUFBSWl0QixHQUNULElBQUssSUFBSTVqQixLQUFRNGpCLEVBQ1I3a0IsT0FBT0QsVUFBVStrQixlQUFlM0gsS0FBSzNkLEVBQVF5QixLQUM5Q3pCLEVBQU95QixHQUFRNGpCLEVBQUk1akIsR0FDL0IsQ0FHQSxPQUZBelYsRUFBS0csU0FBUyxZQUFhaU0sR0FDM0JwTSxFQUFLRyxTQUFTLFlBQWFpTSxHQUNwQjRILENBQ1gsQ0FZQSxTQUFTNGUsR0FBb0IrRSxHQUN6QixHQUFJQSxFQUFPN3JCLEtBQUt2SCxPQUFTb3pCLEVBQU83ckIsS0FBS3l0QixtQkFBcUI1QixFQUFPN3JCLEtBQUswdEIsa0JBQ2xFLE1BQU0sSUFBSTF2QixXQUFXLHNFQUM3QixDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWluZG1hcC8uL25vZGVfbW9kdWxlcy9wcm9zZW1pcnJvci12aWV3L2Rpc3QvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGV4dFNlbGVjdGlvbiwgTm9kZVNlbGVjdGlvbiwgU2VsZWN0aW9uLCBBbGxTZWxlY3Rpb24gfSBmcm9tICdwcm9zZW1pcnJvci1zdGF0ZSc7XG5pbXBvcnQgeyBET01TZXJpYWxpemVyLCBGcmFnbWVudCwgTWFyaywgU2xpY2UsIERPTVBhcnNlciB9IGZyb20gJ3Byb3NlbWlycm9yLW1vZGVsJztcbmltcG9ydCB7IGRyb3BQb2ludCB9IGZyb20gJ3Byb3NlbWlycm9yLXRyYW5zZm9ybSc7XG5cbmNvbnN0IG5hdiA9IHR5cGVvZiBuYXZpZ2F0b3IgIT0gXCJ1bmRlZmluZWRcIiA/IG5hdmlnYXRvciA6IG51bGw7XG5jb25zdCBkb2MgPSB0eXBlb2YgZG9jdW1lbnQgIT0gXCJ1bmRlZmluZWRcIiA/IGRvY3VtZW50IDogbnVsbDtcbmNvbnN0IGFnZW50ID0gKG5hdiAmJiBuYXYudXNlckFnZW50KSB8fCBcIlwiO1xuY29uc3QgaWVfZWRnZSA9IC9FZGdlXFwvKFxcZCspLy5leGVjKGFnZW50KTtcbmNvbnN0IGllX3VwdG8xMCA9IC9NU0lFIFxcZC8uZXhlYyhhZ2VudCk7XG5jb25zdCBpZV8xMXVwID0gL1RyaWRlbnRcXC8oPzpbNy05XXxcXGR7Mix9KVxcLi4qcnY6KFxcZCspLy5leGVjKGFnZW50KTtcbmNvbnN0IGllID0gISEoaWVfdXB0bzEwIHx8IGllXzExdXAgfHwgaWVfZWRnZSk7XG5jb25zdCBpZV92ZXJzaW9uID0gaWVfdXB0bzEwID8gZG9jdW1lbnQuZG9jdW1lbnRNb2RlIDogaWVfMTF1cCA/ICtpZV8xMXVwWzFdIDogaWVfZWRnZSA/ICtpZV9lZGdlWzFdIDogMDtcbmNvbnN0IGdlY2tvID0gIWllICYmIC9nZWNrb1xcLyhcXGQrKS9pLnRlc3QoYWdlbnQpO1xuZ2Vja28gJiYgKygvRmlyZWZveFxcLyhcXGQrKS8uZXhlYyhhZ2VudCkgfHwgWzAsIDBdKVsxXTtcbmNvbnN0IF9jaHJvbWUgPSAhaWUgJiYgL0Nocm9tZVxcLyhcXGQrKS8uZXhlYyhhZ2VudCk7XG5jb25zdCBjaHJvbWUgPSAhIV9jaHJvbWU7XG5jb25zdCBjaHJvbWVfdmVyc2lvbiA9IF9jaHJvbWUgPyArX2Nocm9tZVsxXSA6IDA7XG5jb25zdCBzYWZhcmkgPSAhaWUgJiYgISFuYXYgJiYgL0FwcGxlIENvbXB1dGVyLy50ZXN0KG5hdi52ZW5kb3IpO1xuLy8gSXMgdHJ1ZSBmb3IgYm90aCBpT1MgYW5kIGlQYWRPUyBmb3IgY29udmVuaWVuY2VcbmNvbnN0IGlvcyA9IHNhZmFyaSAmJiAoL01vYmlsZVxcL1xcdysvLnRlc3QoYWdlbnQpIHx8ICEhbmF2ICYmIG5hdi5tYXhUb3VjaFBvaW50cyA+IDIpO1xuY29uc3QgbWFjID0gaW9zIHx8IChuYXYgPyAvTWFjLy50ZXN0KG5hdi5wbGF0Zm9ybSkgOiBmYWxzZSk7XG5jb25zdCBhbmRyb2lkID0gL0FuZHJvaWQgXFxkLy50ZXN0KGFnZW50KTtcbmNvbnN0IHdlYmtpdCA9ICEhZG9jICYmIFwid2Via2l0Rm9udFNtb290aGluZ1wiIGluIGRvYy5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XG5jb25zdCB3ZWJraXRfdmVyc2lvbiA9IHdlYmtpdCA/ICsoL1xcYkFwcGxlV2ViS2l0XFwvKFxcZCspLy5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpIHx8IFswLCAwXSlbMV0gOiAwO1xuXG5jb25zdCBkb21JbmRleCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgZm9yICh2YXIgaW5kZXggPSAwOzsgaW5kZXgrKykge1xuICAgICAgICBub2RlID0gbm9kZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgIGlmICghbm9kZSlcbiAgICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICB9XG59O1xuY29uc3QgcGFyZW50Tm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgbGV0IHBhcmVudCA9IG5vZGUuYXNzaWduZWRTbG90IHx8IG5vZGUucGFyZW50Tm9kZTtcbiAgICByZXR1cm4gcGFyZW50ICYmIHBhcmVudC5ub2RlVHlwZSA9PSAxMSA/IHBhcmVudC5ob3N0IDogcGFyZW50O1xufTtcbmxldCByZXVzZWRSYW5nZSA9IG51bGw7XG4vLyBOb3RlIHRoYXQgdGhpcyB3aWxsIGFsd2F5cyByZXR1cm4gdGhlIHNhbWUgcmFuZ2UsIGJlY2F1c2UgRE9NIHJhbmdlXG4vLyBvYmplY3RzIGFyZSBldmVyeSBleHBlbnNpdmUsIGFuZCBrZWVwIHNsb3dpbmcgZG93biBzdWJzZXF1ZW50IERPTVxuLy8gdXBkYXRlcywgZm9yIHNvbWUgcmVhc29uLlxuY29uc3QgdGV4dFJhbmdlID0gZnVuY3Rpb24gKG5vZGUsIGZyb20sIHRvKSB7XG4gICAgbGV0IHJhbmdlID0gcmV1c2VkUmFuZ2UgfHwgKHJldXNlZFJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSk7XG4gICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIHRvID09IG51bGwgPyBub2RlLm5vZGVWYWx1ZS5sZW5ndGggOiB0byk7XG4gICAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgZnJvbSB8fCAwKTtcbiAgICByZXR1cm4gcmFuZ2U7XG59O1xuLy8gU2NhbnMgZm9yd2FyZCBhbmQgYmFja3dhcmQgdGhyb3VnaCBET00gcG9zaXRpb25zIGVxdWl2YWxlbnQgdG8gdGhlXG4vLyBnaXZlbiBvbmUgdG8gc2VlIGlmIHRoZSB0d28gYXJlIGluIHRoZSBzYW1lIHBsYWNlIChpLmUuIGFmdGVyIGFcbi8vIHRleHQgbm9kZSB2cyBhdCB0aGUgZW5kIG9mIHRoYXQgdGV4dCBub2RlKVxuY29uc3QgaXNFcXVpdmFsZW50UG9zaXRpb24gPSBmdW5jdGlvbiAobm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYpIHtcbiAgICByZXR1cm4gdGFyZ2V0Tm9kZSAmJiAoc2NhbkZvcihub2RlLCBvZmYsIHRhcmdldE5vZGUsIHRhcmdldE9mZiwgLTEpIHx8XG4gICAgICAgIHNjYW5Gb3Iobm9kZSwgb2ZmLCB0YXJnZXROb2RlLCB0YXJnZXRPZmYsIDEpKTtcbn07XG5jb25zdCBhdG9tRWxlbWVudHMgPSAvXihpbWd8YnJ8aW5wdXR8dGV4dGFyZWF8aHIpJC9pO1xuZnVuY3Rpb24gc2NhbkZvcihub2RlLCBvZmYsIHRhcmdldE5vZGUsIHRhcmdldE9mZiwgZGlyKSB7XG4gICAgZm9yICg7Oykge1xuICAgICAgICBpZiAobm9kZSA9PSB0YXJnZXROb2RlICYmIG9mZiA9PSB0YXJnZXRPZmYpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKG9mZiA9PSAoZGlyIDwgMCA/IDAgOiBub2RlU2l6ZShub2RlKSkpIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICBpZiAoIXBhcmVudCB8fCBwYXJlbnQubm9kZVR5cGUgIT0gMSB8fCBoYXNCbG9ja0Rlc2Mobm9kZSkgfHwgYXRvbUVsZW1lbnRzLnRlc3Qobm9kZS5ub2RlTmFtZSkgfHxcbiAgICAgICAgICAgICAgICBub2RlLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgb2ZmID0gZG9tSW5kZXgobm9kZSkgKyAoZGlyIDwgMCA/IDAgOiAxKTtcbiAgICAgICAgICAgIG5vZGUgPSBwYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZE5vZGVzW29mZiArIChkaXIgPCAwID8gLTEgOiAwKV07XG4gICAgICAgICAgICBpZiAobm9kZS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIG9mZiA9IGRpciA8IDAgPyBub2RlU2l6ZShub2RlKSA6IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBub2RlU2l6ZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUubm9kZVR5cGUgPT0gMyA/IG5vZGUubm9kZVZhbHVlLmxlbmd0aCA6IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7XG59XG5mdW5jdGlvbiBpc09uRWRnZShub2RlLCBvZmZzZXQsIHBhcmVudCkge1xuICAgIGZvciAobGV0IGF0U3RhcnQgPSBvZmZzZXQgPT0gMCwgYXRFbmQgPSBvZmZzZXQgPT0gbm9kZVNpemUobm9kZSk7IGF0U3RhcnQgfHwgYXRFbmQ7KSB7XG4gICAgICAgIGlmIChub2RlID09IHBhcmVudClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBsZXQgaW5kZXggPSBkb21JbmRleChub2RlKTtcbiAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgaWYgKCFub2RlKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBhdFN0YXJ0ID0gYXRTdGFydCAmJiBpbmRleCA9PSAwO1xuICAgICAgICBhdEVuZCA9IGF0RW5kICYmIGluZGV4ID09IG5vZGVTaXplKG5vZGUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhc0Jsb2NrRGVzYyhkb20pIHtcbiAgICBsZXQgZGVzYztcbiAgICBmb3IgKGxldCBjdXIgPSBkb207IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUpXG4gICAgICAgIGlmIChkZXNjID0gY3VyLnBtVmlld0Rlc2MpXG4gICAgICAgICAgICBicmVhaztcbiAgICByZXR1cm4gZGVzYyAmJiBkZXNjLm5vZGUgJiYgZGVzYy5ub2RlLmlzQmxvY2sgJiYgKGRlc2MuZG9tID09IGRvbSB8fCBkZXNjLmNvbnRlbnRET00gPT0gZG9tKTtcbn1cbi8vIFdvcmsgYXJvdW5kIENocm9tZSBpc3N1ZSBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDc1MjNcbi8vIChpc0NvbGxhcHNlZCBpbmFwcHJvcHJpYXRlbHkgcmV0dXJucyB0cnVlIGluIHNoYWRvdyBkb20pXG5jb25zdCBzZWxlY3Rpb25Db2xsYXBzZWQgPSBmdW5jdGlvbiAoZG9tU2VsKSB7XG4gICAgbGV0IGNvbGxhcHNlZCA9IGRvbVNlbC5pc0NvbGxhcHNlZDtcbiAgICBpZiAoY29sbGFwc2VkICYmIGNocm9tZSAmJiBkb21TZWwucmFuZ2VDb3VudCAmJiAhZG9tU2VsLmdldFJhbmdlQXQoMCkuY29sbGFwc2VkKVxuICAgICAgICBjb2xsYXBzZWQgPSBmYWxzZTtcbiAgICByZXR1cm4gY29sbGFwc2VkO1xufTtcbmZ1bmN0aW9uIGtleUV2ZW50KGtleUNvZGUsIGtleSkge1xuICAgIGxldCBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7XG4gICAgZXZlbnQuaW5pdEV2ZW50KFwia2V5ZG93blwiLCB0cnVlLCB0cnVlKTtcbiAgICBldmVudC5rZXlDb2RlID0ga2V5Q29kZTtcbiAgICBldmVudC5rZXkgPSBldmVudC5jb2RlID0ga2V5O1xuICAgIHJldHVybiBldmVudDtcbn1cblxuZnVuY3Rpb24gd2luZG93UmVjdChkb2MpIHtcbiAgICByZXR1cm4geyBsZWZ0OiAwLCByaWdodDogZG9jLmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgdG9wOiAwLCBib3R0b206IGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IH07XG59XG5mdW5jdGlvbiBnZXRTaWRlKHZhbHVlLCBzaWRlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSBcIm51bWJlclwiID8gdmFsdWUgOiB2YWx1ZVtzaWRlXTtcbn1cbmZ1bmN0aW9uIGNsaWVudFJlY3Qobm9kZSkge1xuICAgIGxldCByZWN0ID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAvLyBBZGp1c3QgZm9yIGVsZW1lbnRzIHdpdGggc3R5bGUgXCJ0cmFuc2Zvcm06IHNjYWxlKClcIlxuICAgIGxldCBzY2FsZVggPSAocmVjdC53aWR0aCAvIG5vZGUub2Zmc2V0V2lkdGgpIHx8IDE7XG4gICAgbGV0IHNjYWxlWSA9IChyZWN0LmhlaWdodCAvIG5vZGUub2Zmc2V0SGVpZ2h0KSB8fCAxO1xuICAgIC8vIE1ha2Ugc3VyZSBzY3JvbGxiYXIgd2lkdGggaXNuJ3QgaW5jbHVkZWQgaW4gdGhlIHJlY3RhbmdsZVxuICAgIHJldHVybiB7IGxlZnQ6IHJlY3QubGVmdCwgcmlnaHQ6IHJlY3QubGVmdCArIG5vZGUuY2xpZW50V2lkdGggKiBzY2FsZVgsXG4gICAgICAgIHRvcDogcmVjdC50b3AsIGJvdHRvbTogcmVjdC50b3AgKyBub2RlLmNsaWVudEhlaWdodCAqIHNjYWxlWSB9O1xufVxuZnVuY3Rpb24gc2Nyb2xsUmVjdEludG9WaWV3KHZpZXcsIHJlY3QsIHN0YXJ0RE9NKSB7XG4gICAgbGV0IHNjcm9sbFRocmVzaG9sZCA9IHZpZXcuc29tZVByb3AoXCJzY3JvbGxUaHJlc2hvbGRcIikgfHwgMCwgc2Nyb2xsTWFyZ2luID0gdmlldy5zb21lUHJvcChcInNjcm9sbE1hcmdpblwiKSB8fCA1O1xuICAgIGxldCBkb2MgPSB2aWV3LmRvbS5vd25lckRvY3VtZW50O1xuICAgIGZvciAobGV0IHBhcmVudCA9IHN0YXJ0RE9NIHx8IHZpZXcuZG9tOzsgcGFyZW50ID0gcGFyZW50Tm9kZShwYXJlbnQpKSB7XG4gICAgICAgIGlmICghcGFyZW50KVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGlmIChwYXJlbnQubm9kZVR5cGUgIT0gMSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBsZXQgZWx0ID0gcGFyZW50O1xuICAgICAgICBsZXQgYXRUb3AgPSBlbHQgPT0gZG9jLmJvZHk7XG4gICAgICAgIGxldCBib3VuZGluZyA9IGF0VG9wID8gd2luZG93UmVjdChkb2MpIDogY2xpZW50UmVjdChlbHQpO1xuICAgICAgICBsZXQgbW92ZVggPSAwLCBtb3ZlWSA9IDA7XG4gICAgICAgIGlmIChyZWN0LnRvcCA8IGJvdW5kaW5nLnRvcCArIGdldFNpZGUoc2Nyb2xsVGhyZXNob2xkLCBcInRvcFwiKSlcbiAgICAgICAgICAgIG1vdmVZID0gLShib3VuZGluZy50b3AgLSByZWN0LnRvcCArIGdldFNpZGUoc2Nyb2xsTWFyZ2luLCBcInRvcFwiKSk7XG4gICAgICAgIGVsc2UgaWYgKHJlY3QuYm90dG9tID4gYm91bmRpbmcuYm90dG9tIC0gZ2V0U2lkZShzY3JvbGxUaHJlc2hvbGQsIFwiYm90dG9tXCIpKVxuICAgICAgICAgICAgbW92ZVkgPSByZWN0LmJvdHRvbSAtIGJvdW5kaW5nLmJvdHRvbSArIGdldFNpZGUoc2Nyb2xsTWFyZ2luLCBcImJvdHRvbVwiKTtcbiAgICAgICAgaWYgKHJlY3QubGVmdCA8IGJvdW5kaW5nLmxlZnQgKyBnZXRTaWRlKHNjcm9sbFRocmVzaG9sZCwgXCJsZWZ0XCIpKVxuICAgICAgICAgICAgbW92ZVggPSAtKGJvdW5kaW5nLmxlZnQgLSByZWN0LmxlZnQgKyBnZXRTaWRlKHNjcm9sbE1hcmdpbiwgXCJsZWZ0XCIpKTtcbiAgICAgICAgZWxzZSBpZiAocmVjdC5yaWdodCA+IGJvdW5kaW5nLnJpZ2h0IC0gZ2V0U2lkZShzY3JvbGxUaHJlc2hvbGQsIFwicmlnaHRcIikpXG4gICAgICAgICAgICBtb3ZlWCA9IHJlY3QucmlnaHQgLSBib3VuZGluZy5yaWdodCArIGdldFNpZGUoc2Nyb2xsTWFyZ2luLCBcInJpZ2h0XCIpO1xuICAgICAgICBpZiAobW92ZVggfHwgbW92ZVkpIHtcbiAgICAgICAgICAgIGlmIChhdFRvcCkge1xuICAgICAgICAgICAgICAgIGRvYy5kZWZhdWx0Vmlldy5zY3JvbGxCeShtb3ZlWCwgbW92ZVkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0WCA9IGVsdC5zY3JvbGxMZWZ0LCBzdGFydFkgPSBlbHQuc2Nyb2xsVG9wO1xuICAgICAgICAgICAgICAgIGlmIChtb3ZlWSlcbiAgICAgICAgICAgICAgICAgICAgZWx0LnNjcm9sbFRvcCArPSBtb3ZlWTtcbiAgICAgICAgICAgICAgICBpZiAobW92ZVgpXG4gICAgICAgICAgICAgICAgICAgIGVsdC5zY3JvbGxMZWZ0ICs9IG1vdmVYO1xuICAgICAgICAgICAgICAgIGxldCBkWCA9IGVsdC5zY3JvbGxMZWZ0IC0gc3RhcnRYLCBkWSA9IGVsdC5zY3JvbGxUb3AgLSBzdGFydFk7XG4gICAgICAgICAgICAgICAgcmVjdCA9IHsgbGVmdDogcmVjdC5sZWZ0IC0gZFgsIHRvcDogcmVjdC50b3AgLSBkWSwgcmlnaHQ6IHJlY3QucmlnaHQgLSBkWCwgYm90dG9tOiByZWN0LmJvdHRvbSAtIGRZIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGF0VG9wKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuLy8gU3RvcmUgdGhlIHNjcm9sbCBwb3NpdGlvbiBvZiB0aGUgZWRpdG9yJ3MgcGFyZW50IG5vZGVzLCBhbG9uZyB3aXRoXG4vLyB0aGUgdG9wIHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgbmVhciB0aGUgdG9wIG9mIHRoZSBlZGl0b3IsIHdoaWNoXG4vLyB3aWxsIGJlIHVzZWQgdG8gbWFrZSBzdXJlIHRoZSB2aXNpYmxlIHZpZXdwb3J0IHJlbWFpbnMgc3RhYmxlIGV2ZW5cbi8vIHdoZW4gdGhlIHNpemUgb2YgdGhlIGNvbnRlbnQgYWJvdmUgY2hhbmdlcy5cbmZ1bmN0aW9uIHN0b3JlU2Nyb2xsUG9zKHZpZXcpIHtcbiAgICBsZXQgcmVjdCA9IHZpZXcuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBzdGFydFkgPSBNYXRoLm1heCgwLCByZWN0LnRvcCk7XG4gICAgbGV0IHJlZkRPTSwgcmVmVG9wO1xuICAgIGZvciAobGV0IHggPSAocmVjdC5sZWZ0ICsgcmVjdC5yaWdodCkgLyAyLCB5ID0gc3RhcnRZICsgMTsgeSA8IE1hdGgubWluKGlubmVySGVpZ2h0LCByZWN0LmJvdHRvbSk7IHkgKz0gNSkge1xuICAgICAgICBsZXQgZG9tID0gdmlldy5yb290LmVsZW1lbnRGcm9tUG9pbnQoeCwgeSk7XG4gICAgICAgIGlmICghZG9tIHx8IGRvbSA9PSB2aWV3LmRvbSB8fCAhdmlldy5kb20uY29udGFpbnMoZG9tKSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBsZXQgbG9jYWxSZWN0ID0gZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAobG9jYWxSZWN0LnRvcCA+PSBzdGFydFkgLSAyMCkge1xuICAgICAgICAgICAgcmVmRE9NID0gZG9tO1xuICAgICAgICAgICAgcmVmVG9wID0gbG9jYWxSZWN0LnRvcDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IHJlZkRPTTogcmVmRE9NLCByZWZUb3A6IHJlZlRvcCwgc3RhY2s6IHNjcm9sbFN0YWNrKHZpZXcuZG9tKSB9O1xufVxuZnVuY3Rpb24gc2Nyb2xsU3RhY2soZG9tKSB7XG4gICAgbGV0IHN0YWNrID0gW10sIGRvYyA9IGRvbS5vd25lckRvY3VtZW50O1xuICAgIGZvciAobGV0IGN1ciA9IGRvbTsgY3VyOyBjdXIgPSBwYXJlbnROb2RlKGN1cikpIHtcbiAgICAgICAgc3RhY2sucHVzaCh7IGRvbTogY3VyLCB0b3A6IGN1ci5zY3JvbGxUb3AsIGxlZnQ6IGN1ci5zY3JvbGxMZWZ0IH0pO1xuICAgICAgICBpZiAoZG9tID09IGRvYylcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gc3RhY2s7XG59XG4vLyBSZXNldCB0aGUgc2Nyb2xsIHBvc2l0aW9uIG9mIHRoZSBlZGl0b3IncyBwYXJlbnQgbm9kZXMgdG8gdGhhdCB3aGF0XG4vLyBpdCB3YXMgYmVmb3JlLCB3aGVuIHN0b3JlU2Nyb2xsUG9zIHdhcyBjYWxsZWQuXG5mdW5jdGlvbiByZXNldFNjcm9sbFBvcyh7IHJlZkRPTSwgcmVmVG9wLCBzdGFjayB9KSB7XG4gICAgbGV0IG5ld1JlZlRvcCA9IHJlZkRPTSA/IHJlZkRPTS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgOiAwO1xuICAgIHJlc3RvcmVTY3JvbGxTdGFjayhzdGFjaywgbmV3UmVmVG9wID09IDAgPyAwIDogbmV3UmVmVG9wIC0gcmVmVG9wKTtcbn1cbmZ1bmN0aW9uIHJlc3RvcmVTY3JvbGxTdGFjayhzdGFjaywgZFRvcCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHsgZG9tLCB0b3AsIGxlZnQgfSA9IHN0YWNrW2ldO1xuICAgICAgICBpZiAoZG9tLnNjcm9sbFRvcCAhPSB0b3AgKyBkVG9wKVxuICAgICAgICAgICAgZG9tLnNjcm9sbFRvcCA9IHRvcCArIGRUb3A7XG4gICAgICAgIGlmIChkb20uc2Nyb2xsTGVmdCAhPSBsZWZ0KVxuICAgICAgICAgICAgZG9tLnNjcm9sbExlZnQgPSBsZWZ0O1xuICAgIH1cbn1cbmxldCBwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkID0gbnVsbDtcbi8vIEZlYXR1cmUtZGV0ZWN0cyBzdXBwb3J0IGZvciAuZm9jdXMoe3ByZXZlbnRTY3JvbGw6IHRydWV9KSwgYW5kIHVzZXNcbi8vIGEgZmFsbGJhY2sga2x1ZGdlIHdoZW4gbm90IHN1cHBvcnRlZC5cbmZ1bmN0aW9uIGZvY3VzUHJldmVudFNjcm9sbChkb20pIHtcbiAgICBpZiAoZG9tLnNldEFjdGl2ZSlcbiAgICAgICAgcmV0dXJuIGRvbS5zZXRBY3RpdmUoKTsgLy8gaW4gSUVcbiAgICBpZiAocHJldmVudFNjcm9sbFN1cHBvcnRlZClcbiAgICAgICAgcmV0dXJuIGRvbS5mb2N1cyhwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkKTtcbiAgICBsZXQgc3RvcmVkID0gc2Nyb2xsU3RhY2soZG9tKTtcbiAgICBkb20uZm9jdXMocHJldmVudFNjcm9sbFN1cHBvcnRlZCA9PSBudWxsID8ge1xuICAgICAgICBnZXQgcHJldmVudFNjcm9sbCgpIHtcbiAgICAgICAgICAgIHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQgPSB7IHByZXZlbnRTY3JvbGw6IHRydWUgfTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSA6IHVuZGVmaW5lZCk7XG4gICAgaWYgKCFwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkKSB7XG4gICAgICAgIHByZXZlbnRTY3JvbGxTdXBwb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgcmVzdG9yZVNjcm9sbFN0YWNrKHN0b3JlZCwgMCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZmluZE9mZnNldEluTm9kZShub2RlLCBjb29yZHMpIHtcbiAgICBsZXQgY2xvc2VzdCwgZHhDbG9zZXN0ID0gMmU4LCBjb29yZHNDbG9zZXN0LCBvZmZzZXQgPSAwO1xuICAgIGxldCByb3dCb3QgPSBjb29yZHMudG9wLCByb3dUb3AgPSBjb29yZHMudG9wO1xuICAgIGZvciAobGV0IGNoaWxkID0gbm9kZS5maXJzdENoaWxkLCBjaGlsZEluZGV4ID0gMDsgY2hpbGQ7IGNoaWxkID0gY2hpbGQubmV4dFNpYmxpbmcsIGNoaWxkSW5kZXgrKykge1xuICAgICAgICBsZXQgcmVjdHM7XG4gICAgICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PSAxKVxuICAgICAgICAgICAgcmVjdHMgPSBjaGlsZC5nZXRDbGllbnRSZWN0cygpO1xuICAgICAgICBlbHNlIGlmIChjaGlsZC5ub2RlVHlwZSA9PSAzKVxuICAgICAgICAgICAgcmVjdHMgPSB0ZXh0UmFuZ2UoY2hpbGQpLmdldENsaWVudFJlY3RzKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcmVjdCA9IHJlY3RzW2ldO1xuICAgICAgICAgICAgaWYgKHJlY3QudG9wIDw9IHJvd0JvdCAmJiByZWN0LmJvdHRvbSA+PSByb3dUb3ApIHtcbiAgICAgICAgICAgICAgICByb3dCb3QgPSBNYXRoLm1heChyZWN0LmJvdHRvbSwgcm93Qm90KTtcbiAgICAgICAgICAgICAgICByb3dUb3AgPSBNYXRoLm1pbihyZWN0LnRvcCwgcm93VG9wKTtcbiAgICAgICAgICAgICAgICBsZXQgZHggPSByZWN0LmxlZnQgPiBjb29yZHMubGVmdCA/IHJlY3QubGVmdCAtIGNvb3Jkcy5sZWZ0XG4gICAgICAgICAgICAgICAgICAgIDogcmVjdC5yaWdodCA8IGNvb3Jkcy5sZWZ0ID8gY29vcmRzLmxlZnQgLSByZWN0LnJpZ2h0IDogMDtcbiAgICAgICAgICAgICAgICBpZiAoZHggPCBkeENsb3Nlc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xvc2VzdCA9IGNoaWxkO1xuICAgICAgICAgICAgICAgICAgICBkeENsb3Nlc3QgPSBkeDtcbiAgICAgICAgICAgICAgICAgICAgY29vcmRzQ2xvc2VzdCA9IGR4ICYmIGNsb3Nlc3Qubm9kZVR5cGUgPT0gMyA/IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IHJlY3QucmlnaHQgPCBjb29yZHMubGVmdCA/IHJlY3QucmlnaHQgOiByZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6IGNvb3Jkcy50b3BcbiAgICAgICAgICAgICAgICAgICAgfSA6IGNvb3JkcztcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDEgJiYgZHgpXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBjaGlsZEluZGV4ICsgKGNvb3Jkcy5sZWZ0ID49IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDIgPyAxIDogMCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghY2xvc2VzdCAmJiAoY29vcmRzLmxlZnQgPj0gcmVjdC5yaWdodCAmJiBjb29yZHMudG9wID49IHJlY3QudG9wIHx8XG4gICAgICAgICAgICAgICAgY29vcmRzLmxlZnQgPj0gcmVjdC5sZWZ0ICYmIGNvb3Jkcy50b3AgPj0gcmVjdC5ib3R0b20pKVxuICAgICAgICAgICAgICAgIG9mZnNldCA9IGNoaWxkSW5kZXggKyAxO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChjbG9zZXN0ICYmIGNsb3Nlc3Qubm9kZVR5cGUgPT0gMylcbiAgICAgICAgcmV0dXJuIGZpbmRPZmZzZXRJblRleHQoY2xvc2VzdCwgY29vcmRzQ2xvc2VzdCk7XG4gICAgaWYgKCFjbG9zZXN0IHx8IChkeENsb3Nlc3QgJiYgY2xvc2VzdC5ub2RlVHlwZSA9PSAxKSlcbiAgICAgICAgcmV0dXJuIHsgbm9kZSwgb2Zmc2V0IH07XG4gICAgcmV0dXJuIGZpbmRPZmZzZXRJbk5vZGUoY2xvc2VzdCwgY29vcmRzQ2xvc2VzdCk7XG59XG5mdW5jdGlvbiBmaW5kT2Zmc2V0SW5UZXh0KG5vZGUsIGNvb3Jkcykge1xuICAgIGxldCBsZW4gPSBub2RlLm5vZGVWYWx1ZS5sZW5ndGg7XG4gICAgbGV0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHJhbmdlLnNldEVuZChub2RlLCBpICsgMSk7XG4gICAgICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIGkpO1xuICAgICAgICBsZXQgcmVjdCA9IHNpbmdsZVJlY3QocmFuZ2UsIDEpO1xuICAgICAgICBpZiAocmVjdC50b3AgPT0gcmVjdC5ib3R0b20pXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaWYgKGluUmVjdChjb29yZHMsIHJlY3QpKVxuICAgICAgICAgICAgcmV0dXJuIHsgbm9kZSwgb2Zmc2V0OiBpICsgKGNvb3Jkcy5sZWZ0ID49IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDIgPyAxIDogMCkgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgbm9kZSwgb2Zmc2V0OiAwIH07XG59XG5mdW5jdGlvbiBpblJlY3QoY29vcmRzLCByZWN0KSB7XG4gICAgcmV0dXJuIGNvb3Jkcy5sZWZ0ID49IHJlY3QubGVmdCAtIDEgJiYgY29vcmRzLmxlZnQgPD0gcmVjdC5yaWdodCArIDEgJiZcbiAgICAgICAgY29vcmRzLnRvcCA+PSByZWN0LnRvcCAtIDEgJiYgY29vcmRzLnRvcCA8PSByZWN0LmJvdHRvbSArIDE7XG59XG5mdW5jdGlvbiB0YXJnZXRLbHVkZ2UoZG9tLCBjb29yZHMpIHtcbiAgICBsZXQgcGFyZW50ID0gZG9tLnBhcmVudE5vZGU7XG4gICAgaWYgKHBhcmVudCAmJiAvXmxpJC9pLnRlc3QocGFyZW50Lm5vZGVOYW1lKSAmJiBjb29yZHMubGVmdCA8IGRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0KVxuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgIHJldHVybiBkb207XG59XG5mdW5jdGlvbiBwb3NGcm9tRWxlbWVudCh2aWV3LCBlbHQsIGNvb3Jkcykge1xuICAgIGxldCB7IG5vZGUsIG9mZnNldCB9ID0gZmluZE9mZnNldEluTm9kZShlbHQsIGNvb3JkcyksIGJpYXMgPSAtMTtcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmICFub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgbGV0IHJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBiaWFzID0gcmVjdC5sZWZ0ICE9IHJlY3QucmlnaHQgJiYgY29vcmRzLmxlZnQgPiAocmVjdC5sZWZ0ICsgcmVjdC5yaWdodCkgLyAyID8gMSA6IC0xO1xuICAgIH1cbiAgICByZXR1cm4gdmlldy5kb2NWaWV3LnBvc0Zyb21ET00obm9kZSwgb2Zmc2V0LCBiaWFzKTtcbn1cbmZ1bmN0aW9uIHBvc0Zyb21DYXJldCh2aWV3LCBub2RlLCBvZmZzZXQsIGNvb3Jkcykge1xuICAgIC8vIEJyb3dzZXIgKGluIGNhcmV0UG9zaXRpb24vUmFuZ2VGcm9tUG9pbnQpIHdpbGwgYWdyZXNzaXZlbHlcbiAgICAvLyBub3JtYWxpemUgdG93YXJkcyBuZWFyYnkgaW5saW5lIG5vZGVzLiBTaW5jZSB3ZSBhcmUgaW50ZXJlc3RlZCBpblxuICAgIC8vIHBvc2l0aW9ucyBiZXR3ZWVuIGJsb2NrIG5vZGVzIHRvbywgd2UgZmlyc3Qgd2FsayB1cCB0aGUgaGllcmFyY2h5XG4gICAgLy8gb2Ygbm9kZXMgdG8gc2VlIGlmIHRoZXJlIGFyZSBibG9jayBub2RlcyB0aGF0IHRoZSBjb29yZGluYXRlc1xuICAgIC8vIGZhbGwgb3V0c2lkZSBvZi4gSWYgc28sIHdlIHRha2UgdGhlIHBvc2l0aW9uIGJlZm9yZS9hZnRlciB0aGF0XG4gICAgLy8gYmxvY2suIElmIG5vdCwgd2UgY2FsbCBgcG9zRnJvbURPTWAgb24gdGhlIHJhdyBub2RlL29mZnNldC5cbiAgICBsZXQgb3V0c2lkZSA9IC0xO1xuICAgIGZvciAobGV0IGN1ciA9IG5vZGU7Oykge1xuICAgICAgICBpZiAoY3VyID09IHZpZXcuZG9tKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGxldCBkZXNjID0gdmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGN1ciwgdHJ1ZSk7XG4gICAgICAgIGlmICghZGVzYylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoZGVzYy5ub2RlLmlzQmxvY2sgJiYgZGVzYy5wYXJlbnQpIHtcbiAgICAgICAgICAgIGxldCByZWN0ID0gZGVzYy5kb20uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBpZiAocmVjdC5sZWZ0ID4gY29vcmRzLmxlZnQgfHwgcmVjdC50b3AgPiBjb29yZHMudG9wKVxuICAgICAgICAgICAgICAgIG91dHNpZGUgPSBkZXNjLnBvc0JlZm9yZTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHJlY3QucmlnaHQgPCBjb29yZHMubGVmdCB8fCByZWN0LmJvdHRvbSA8IGNvb3Jkcy50b3ApXG4gICAgICAgICAgICAgICAgb3V0c2lkZSA9IGRlc2MucG9zQWZ0ZXI7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY3VyID0gZGVzYy5kb20ucGFyZW50Tm9kZTtcbiAgICB9XG4gICAgcmV0dXJuIG91dHNpZGUgPiAtMSA/IG91dHNpZGUgOiB2aWV3LmRvY1ZpZXcucG9zRnJvbURPTShub2RlLCBvZmZzZXQsIDEpO1xufVxuZnVuY3Rpb24gZWxlbWVudEZyb21Qb2ludChlbGVtZW50LCBjb29yZHMsIGJveCkge1xuICAgIGxldCBsZW4gPSBlbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoO1xuICAgIGlmIChsZW4gJiYgYm94LnRvcCA8IGJveC5ib3R0b20pIHtcbiAgICAgICAgZm9yIChsZXQgc3RhcnRJID0gTWF0aC5tYXgoMCwgTWF0aC5taW4obGVuIC0gMSwgTWF0aC5mbG9vcihsZW4gKiAoY29vcmRzLnRvcCAtIGJveC50b3ApIC8gKGJveC5ib3R0b20gLSBib3gudG9wKSkgLSAyKSksIGkgPSBzdGFydEk7Oykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gZWxlbWVudC5jaGlsZE5vZGVzW2ldO1xuICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVjdHMgPSBjaGlsZC5nZXRDbGllbnRSZWN0cygpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgcmVjdHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJlY3QgPSByZWN0c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluUmVjdChjb29yZHMsIHJlY3QpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRGcm9tUG9pbnQoY2hpbGQsIGNvb3JkcywgcmVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChpID0gKGkgKyAxKSAlIGxlbikgPT0gc3RhcnRJKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlbGVtZW50O1xufVxuLy8gR2l2ZW4gYW4geCx5IHBvc2l0aW9uIG9uIHRoZSBlZGl0b3IsIGdldCB0aGUgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50LlxuZnVuY3Rpb24gcG9zQXRDb29yZHModmlldywgY29vcmRzKSB7XG4gICAgbGV0IGRvYyA9IHZpZXcuZG9tLm93bmVyRG9jdW1lbnQsIG5vZGUsIG9mZnNldCA9IDA7XG4gICAgaWYgKGRvYy5jYXJldFBvc2l0aW9uRnJvbVBvaW50KSB7XG4gICAgICAgIHRyeSB7IC8vIEZpcmVmb3ggdGhyb3dzIGZvciB0aGlzIGNhbGwgaW4gaGFyZC10by1wcmVkaWN0IGNpcmN1bXN0YW5jZXMgKCM5OTQpXG4gICAgICAgICAgICBsZXQgcG9zID0gZG9jLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQoY29vcmRzLmxlZnQsIGNvb3Jkcy50b3ApO1xuICAgICAgICAgICAgaWYgKHBvcylcbiAgICAgICAgICAgICAgICAoeyBvZmZzZXROb2RlOiBub2RlLCBvZmZzZXQgfSA9IHBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgIH1cbiAgICBpZiAoIW5vZGUgJiYgZG9jLmNhcmV0UmFuZ2VGcm9tUG9pbnQpIHtcbiAgICAgICAgbGV0IHJhbmdlID0gZG9jLmNhcmV0UmFuZ2VGcm9tUG9pbnQoY29vcmRzLmxlZnQsIGNvb3Jkcy50b3ApO1xuICAgICAgICBpZiAocmFuZ2UpXG4gICAgICAgICAgICAoeyBzdGFydENvbnRhaW5lcjogbm9kZSwgc3RhcnRPZmZzZXQ6IG9mZnNldCB9ID0gcmFuZ2UpO1xuICAgIH1cbiAgICBsZXQgZWx0ID0gKHZpZXcucm9vdC5lbGVtZW50RnJvbVBvaW50ID8gdmlldy5yb290IDogZG9jKVxuICAgICAgICAuZWxlbWVudEZyb21Qb2ludChjb29yZHMubGVmdCwgY29vcmRzLnRvcCArIDEpO1xuICAgIGxldCBwb3M7XG4gICAgaWYgKCFlbHQgfHwgIXZpZXcuZG9tLmNvbnRhaW5zKGVsdC5ub2RlVHlwZSAhPSAxID8gZWx0LnBhcmVudE5vZGUgOiBlbHQpKSB7XG4gICAgICAgIGxldCBib3ggPSB2aWV3LmRvbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKCFpblJlY3QoY29vcmRzLCBib3gpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGVsdCA9IGVsZW1lbnRGcm9tUG9pbnQodmlldy5kb20sIGNvb3JkcywgYm94KTtcbiAgICAgICAgaWYgKCFlbHQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLy8gU2FmYXJpJ3MgY2FyZXRSYW5nZUZyb21Qb2ludCByZXR1cm5zIG5vbnNlbnNlIHdoZW4gb24gYSBkcmFnZ2FibGUgZWxlbWVudFxuICAgIGlmIChzYWZhcmkpIHtcbiAgICAgICAgZm9yIChsZXQgcCA9IGVsdDsgbm9kZSAmJiBwOyBwID0gcGFyZW50Tm9kZShwKSlcbiAgICAgICAgICAgIGlmIChwLmRyYWdnYWJsZSlcbiAgICAgICAgICAgICAgICBub2RlID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBlbHQgPSB0YXJnZXRLbHVkZ2UoZWx0LCBjb29yZHMpO1xuICAgIGlmIChub2RlKSB7XG4gICAgICAgIGlmIChnZWNrbyAmJiBub2RlLm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggd2lsbCBzb21ldGltZXMgcmV0dXJuIG9mZnNldHMgaW50byA8aW5wdXQ+IG5vZGVzLCB3aGljaFxuICAgICAgICAgICAgLy8gaGF2ZSBubyBhY3R1YWwgY2hpbGRyZW4sIGZyb20gY2FyZXRQb3NpdGlvbkZyb21Qb2ludCAoIzk1MylcbiAgICAgICAgICAgIG9mZnNldCA9IE1hdGgubWluKG9mZnNldCwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCk7XG4gICAgICAgICAgICAvLyBJdCdsbCBhbHNvIG1vdmUgdGhlIHJldHVybmVkIHBvc2l0aW9uIGJlZm9yZSBpbWFnZSBub2RlcyxcbiAgICAgICAgICAgIC8vIGV2ZW4gaWYgdGhvc2UgYXJlIGJlaGluZCBpdC5cbiAgICAgICAgICAgIGlmIChvZmZzZXQgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IG5leHQgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XSwgYm94O1xuICAgICAgICAgICAgICAgIGlmIChuZXh0Lm5vZGVOYW1lID09IFwiSU1HXCIgJiYgKGJveCA9IG5leHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpLnJpZ2h0IDw9IGNvb3Jkcy5sZWZ0ICYmXG4gICAgICAgICAgICAgICAgICAgIGJveC5ib3R0b20gPiBjb29yZHMudG9wKVxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBTdXNwaWNpb3VzbHkgc3BlY2lmaWMga2x1ZGdlIHRvIHdvcmsgYXJvdW5kIGNhcmV0KkZyb21Qb2ludFxuICAgICAgICAvLyBuZXZlciByZXR1cm5pbmcgYSBwb3NpdGlvbiBhdCB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudFxuICAgICAgICBpZiAobm9kZSA9PSB2aWV3LmRvbSAmJiBvZmZzZXQgPT0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCAtIDEgJiYgbm9kZS5sYXN0Q2hpbGQubm9kZVR5cGUgPT0gMSAmJlxuICAgICAgICAgICAgY29vcmRzLnRvcCA+IG5vZGUubGFzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbSlcbiAgICAgICAgICAgIHBvcyA9IHZpZXcuc3RhdGUuZG9jLmNvbnRlbnQuc2l6ZTtcbiAgICAgICAgLy8gSWdub3JlIHBvc2l0aW9ucyBkaXJlY3RseSBhZnRlciBhIEJSLCBzaW5jZSBjYXJldCpGcm9tUG9pbnRcbiAgICAgICAgLy8gJ3JvdW5kIHVwJyBwb3NpdGlvbnMgdGhhdCB3b3VsZCBiZSBtb3JlIGFjY3VyYXRlbHkgcGxhY2VkXG4gICAgICAgIC8vIGJlZm9yZSB0aGUgQlIgbm9kZS5cbiAgICAgICAgZWxzZSBpZiAob2Zmc2V0ID09IDAgfHwgbm9kZS5ub2RlVHlwZSAhPSAxIHx8IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXS5ub2RlTmFtZSAhPSBcIkJSXCIpXG4gICAgICAgICAgICBwb3MgPSBwb3NGcm9tQ2FyZXQodmlldywgbm9kZSwgb2Zmc2V0LCBjb29yZHMpO1xuICAgIH1cbiAgICBpZiAocG9zID09IG51bGwpXG4gICAgICAgIHBvcyA9IHBvc0Zyb21FbGVtZW50KHZpZXcsIGVsdCwgY29vcmRzKTtcbiAgICBsZXQgZGVzYyA9IHZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyhlbHQsIHRydWUpO1xuICAgIHJldHVybiB7IHBvcywgaW5zaWRlOiBkZXNjID8gZGVzYy5wb3NBdFN0YXJ0IC0gZGVzYy5ib3JkZXIgOiAtMSB9O1xufVxuZnVuY3Rpb24gc2luZ2xlUmVjdCh0YXJnZXQsIGJpYXMpIHtcbiAgICBsZXQgcmVjdHMgPSB0YXJnZXQuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICByZXR1cm4gIXJlY3RzLmxlbmd0aCA/IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IHJlY3RzW2JpYXMgPCAwID8gMCA6IHJlY3RzLmxlbmd0aCAtIDFdO1xufVxuY29uc3QgQklESSA9IC9bXFx1MDU5MC1cXHUwNWY0XFx1MDYwMC1cXHUwNmZmXFx1MDcwMC1cXHUwOGFjXS87XG4vLyBHaXZlbiBhIHBvc2l0aW9uIGluIHRoZSBkb2N1bWVudCBtb2RlbCwgZ2V0IGEgYm91bmRpbmcgYm94IG9mIHRoZVxuLy8gY2hhcmFjdGVyIGF0IHRoYXQgcG9zaXRpb24sIHJlbGF0aXZlIHRvIHRoZSB3aW5kb3cuXG5mdW5jdGlvbiBjb29yZHNBdFBvcyh2aWV3LCBwb3MsIHNpZGUpIHtcbiAgICBsZXQgeyBub2RlLCBvZmZzZXQgfSA9IHZpZXcuZG9jVmlldy5kb21Gcm9tUG9zKHBvcywgc2lkZSA8IDAgPyAtMSA6IDEpO1xuICAgIGxldCBzdXBwb3J0RW1wdHlSYW5nZSA9IHdlYmtpdCB8fCBnZWNrbztcbiAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAzKSB7XG4gICAgICAgIC8vIFRoZXNlIGJyb3dzZXJzIHN1cHBvcnQgcXVlcnlpbmcgZW1wdHkgdGV4dCByYW5nZXMuIFByZWZlciB0aGF0IGluXG4gICAgICAgIC8vIGJpZGkgY29udGV4dCBvciB3aGVuIGF0IHRoZSBlbmQgb2YgYSBub2RlLlxuICAgICAgICBpZiAoc3VwcG9ydEVtcHR5UmFuZ2UgJiYgKEJJREkudGVzdChub2RlLm5vZGVWYWx1ZSkgfHwgKHNpZGUgPCAwID8gIW9mZnNldCA6IG9mZnNldCA9PSBub2RlLm5vZGVWYWx1ZS5sZW5ndGgpKSkge1xuICAgICAgICAgICAgbGV0IHJlY3QgPSBzaW5nbGVSZWN0KHRleHRSYW5nZShub2RlLCBvZmZzZXQsIG9mZnNldCksIHNpZGUpO1xuICAgICAgICAgICAgLy8gRmlyZWZveCByZXR1cm5zIGJhZCByZXN1bHRzICh0aGUgcG9zaXRpb24gYmVmb3JlIHRoZSBzcGFjZSlcbiAgICAgICAgICAgIC8vIHdoZW4gcXVlcnlpbmcgYSBwb3NpdGlvbiBkaXJlY3RseSBhZnRlciBsaW5lLWJyb2tlblxuICAgICAgICAgICAgLy8gd2hpdGVzcGFjZS4gRGV0ZWN0IHRoaXMgc2l0dWF0aW9uIGFuZCBhbmQga2x1ZGdlIGFyb3VuZCBpdFxuICAgICAgICAgICAgaWYgKGdlY2tvICYmIG9mZnNldCAmJiAvXFxzLy50ZXN0KG5vZGUubm9kZVZhbHVlW29mZnNldCAtIDFdKSAmJiBvZmZzZXQgPCBub2RlLm5vZGVWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBsZXQgcmVjdEJlZm9yZSA9IHNpbmdsZVJlY3QodGV4dFJhbmdlKG5vZGUsIG9mZnNldCAtIDEsIG9mZnNldCAtIDEpLCAtMSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlY3RCZWZvcmUudG9wID09IHJlY3QudG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCByZWN0QWZ0ZXIgPSBzaW5nbGVSZWN0KHRleHRSYW5nZShub2RlLCBvZmZzZXQsIG9mZnNldCArIDEpLCAtMSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWN0QWZ0ZXIudG9wICE9IHJlY3QudG9wKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZsYXR0ZW5WKHJlY3RBZnRlciwgcmVjdEFmdGVyLmxlZnQgPCByZWN0QmVmb3JlLmxlZnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZWN0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGZyb20gPSBvZmZzZXQsIHRvID0gb2Zmc2V0LCB0YWtlU2lkZSA9IHNpZGUgPCAwID8gMSA6IC0xO1xuICAgICAgICAgICAgaWYgKHNpZGUgPCAwICYmICFvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICB0bysrO1xuICAgICAgICAgICAgICAgIHRha2VTaWRlID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzaWRlID49IDAgJiYgb2Zmc2V0ID09IG5vZGUubm9kZVZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGZyb20tLTtcbiAgICAgICAgICAgICAgICB0YWtlU2lkZSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChzaWRlIDwgMCkge1xuICAgICAgICAgICAgICAgIGZyb20tLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmxhdHRlblYoc2luZ2xlUmVjdCh0ZXh0UmFuZ2Uobm9kZSwgZnJvbSwgdG8pLCB0YWtlU2lkZSksIHRha2VTaWRlIDwgMCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gUmV0dXJuIGEgaG9yaXpvbnRhbCBsaW5lIGluIGJsb2NrIGNvbnRleHRcbiAgICBpZiAoIXZpZXcuc3RhdGUuZG9jLnJlc29sdmUocG9zKS5wYXJlbnQuaW5saW5lQ29udGVudCkge1xuICAgICAgICBpZiAob2Zmc2V0ICYmIChzaWRlIDwgMCB8fCBvZmZzZXQgPT0gbm9kZVNpemUobm9kZSkpKSB7XG4gICAgICAgICAgICBsZXQgYmVmb3JlID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdO1xuICAgICAgICAgICAgaWYgKGJlZm9yZS5ub2RlVHlwZSA9PSAxKVxuICAgICAgICAgICAgICAgIHJldHVybiBmbGF0dGVuSChiZWZvcmUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob2Zmc2V0IDwgbm9kZVNpemUobm9kZSkpIHtcbiAgICAgICAgICAgIGxldCBhZnRlciA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdO1xuICAgICAgICAgICAgaWYgKGFmdGVyLm5vZGVUeXBlID09IDEpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZsYXR0ZW5IKGFmdGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmxhdHRlbkgobm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgc2lkZSA+PSAwKTtcbiAgICB9XG4gICAgLy8gSW5saW5lLCBub3QgaW4gdGV4dCBub2RlICh0aGlzIGlzIG5vdCBCaWRpLXNhZmUpXG4gICAgaWYgKG9mZnNldCAmJiAoc2lkZSA8IDAgfHwgb2Zmc2V0ID09IG5vZGVTaXplKG5vZGUpKSkge1xuICAgICAgICBsZXQgYmVmb3JlID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gYmVmb3JlLm5vZGVUeXBlID09IDMgPyB0ZXh0UmFuZ2UoYmVmb3JlLCBub2RlU2l6ZShiZWZvcmUpIC0gKHN1cHBvcnRFbXB0eVJhbmdlID8gMCA6IDEpKVxuICAgICAgICAgICAgLy8gQlIgbm9kZXMgdGVuZCB0byBvbmx5IHJldHVybiB0aGUgcmVjdGFuZ2xlIGJlZm9yZSB0aGVtLlxuICAgICAgICAgICAgLy8gT25seSB1c2UgdGhlbSBpZiB0aGV5IGFyZSB0aGUgbGFzdCBlbGVtZW50IGluIHRoZWlyIHBhcmVudFxuICAgICAgICAgICAgOiBiZWZvcmUubm9kZVR5cGUgPT0gMSAmJiAoYmVmb3JlLm5vZGVOYW1lICE9IFwiQlJcIiB8fCAhYmVmb3JlLm5leHRTaWJsaW5nKSA/IGJlZm9yZSA6IG51bGw7XG4gICAgICAgIGlmICh0YXJnZXQpXG4gICAgICAgICAgICByZXR1cm4gZmxhdHRlblYoc2luZ2xlUmVjdCh0YXJnZXQsIDEpLCBmYWxzZSk7XG4gICAgfVxuICAgIGlmIChvZmZzZXQgPCBub2RlU2l6ZShub2RlKSkge1xuICAgICAgICBsZXQgYWZ0ZXIgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XTtcbiAgICAgICAgd2hpbGUgKGFmdGVyLnBtVmlld0Rlc2MgJiYgYWZ0ZXIucG1WaWV3RGVzYy5pZ25vcmVGb3JDb29yZHMpXG4gICAgICAgICAgICBhZnRlciA9IGFmdGVyLm5leHRTaWJsaW5nO1xuICAgICAgICBsZXQgdGFyZ2V0ID0gIWFmdGVyID8gbnVsbCA6IGFmdGVyLm5vZGVUeXBlID09IDMgPyB0ZXh0UmFuZ2UoYWZ0ZXIsIDAsIChzdXBwb3J0RW1wdHlSYW5nZSA/IDAgOiAxKSlcbiAgICAgICAgICAgIDogYWZ0ZXIubm9kZVR5cGUgPT0gMSA/IGFmdGVyIDogbnVsbDtcbiAgICAgICAgaWYgKHRhcmdldClcbiAgICAgICAgICAgIHJldHVybiBmbGF0dGVuVihzaW5nbGVSZWN0KHRhcmdldCwgLTEpLCB0cnVlKTtcbiAgICB9XG4gICAgLy8gQWxsIGVsc2UgZmFpbGVkLCBqdXN0IHRyeSB0byBnZXQgYSByZWN0YW5nbGUgZm9yIHRoZSB0YXJnZXQgbm9kZVxuICAgIHJldHVybiBmbGF0dGVuVihzaW5nbGVSZWN0KG5vZGUubm9kZVR5cGUgPT0gMyA/IHRleHRSYW5nZShub2RlKSA6IG5vZGUsIC1zaWRlKSwgc2lkZSA+PSAwKTtcbn1cbmZ1bmN0aW9uIGZsYXR0ZW5WKHJlY3QsIGxlZnQpIHtcbiAgICBpZiAocmVjdC53aWR0aCA9PSAwKVxuICAgICAgICByZXR1cm4gcmVjdDtcbiAgICBsZXQgeCA9IGxlZnQgPyByZWN0LmxlZnQgOiByZWN0LnJpZ2h0O1xuICAgIHJldHVybiB7IHRvcDogcmVjdC50b3AsIGJvdHRvbTogcmVjdC5ib3R0b20sIGxlZnQ6IHgsIHJpZ2h0OiB4IH07XG59XG5mdW5jdGlvbiBmbGF0dGVuSChyZWN0LCB0b3ApIHtcbiAgICBpZiAocmVjdC5oZWlnaHQgPT0gMClcbiAgICAgICAgcmV0dXJuIHJlY3Q7XG4gICAgbGV0IHkgPSB0b3AgPyByZWN0LnRvcCA6IHJlY3QuYm90dG9tO1xuICAgIHJldHVybiB7IHRvcDogeSwgYm90dG9tOiB5LCBsZWZ0OiByZWN0LmxlZnQsIHJpZ2h0OiByZWN0LnJpZ2h0IH07XG59XG5mdW5jdGlvbiB3aXRoRmx1c2hlZFN0YXRlKHZpZXcsIHN0YXRlLCBmKSB7XG4gICAgbGV0IHZpZXdTdGF0ZSA9IHZpZXcuc3RhdGUsIGFjdGl2ZSA9IHZpZXcucm9vdC5hY3RpdmVFbGVtZW50O1xuICAgIGlmICh2aWV3U3RhdGUgIT0gc3RhdGUpXG4gICAgICAgIHZpZXcudXBkYXRlU3RhdGUoc3RhdGUpO1xuICAgIGlmIChhY3RpdmUgIT0gdmlldy5kb20pXG4gICAgICAgIHZpZXcuZm9jdXMoKTtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZigpO1xuICAgIH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgaWYgKHZpZXdTdGF0ZSAhPSBzdGF0ZSlcbiAgICAgICAgICAgIHZpZXcudXBkYXRlU3RhdGUodmlld1N0YXRlKTtcbiAgICAgICAgaWYgKGFjdGl2ZSAhPSB2aWV3LmRvbSAmJiBhY3RpdmUpXG4gICAgICAgICAgICBhY3RpdmUuZm9jdXMoKTtcbiAgICB9XG59XG4vLyBXaGV0aGVyIHZlcnRpY2FsIHBvc2l0aW9uIG1vdGlvbiBpbiBhIGdpdmVuIGRpcmVjdGlvblxuLy8gZnJvbSBhIHBvc2l0aW9uIHdvdWxkIGxlYXZlIGEgdGV4dCBibG9jay5cbmZ1bmN0aW9uIGVuZE9mVGV4dGJsb2NrVmVydGljYWwodmlldywgc3RhdGUsIGRpcikge1xuICAgIGxldCBzZWwgPSBzdGF0ZS5zZWxlY3Rpb247XG4gICAgbGV0ICRwb3MgPSBkaXIgPT0gXCJ1cFwiID8gc2VsLiRmcm9tIDogc2VsLiR0bztcbiAgICByZXR1cm4gd2l0aEZsdXNoZWRTdGF0ZSh2aWV3LCBzdGF0ZSwgKCkgPT4ge1xuICAgICAgICBsZXQgeyBub2RlOiBkb20gfSA9IHZpZXcuZG9jVmlldy5kb21Gcm9tUG9zKCRwb3MucG9zLCBkaXIgPT0gXCJ1cFwiID8gLTEgOiAxKTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgbGV0IG5lYXJlc3QgPSB2aWV3LmRvY1ZpZXcubmVhcmVzdERlc2MoZG9tLCB0cnVlKTtcbiAgICAgICAgICAgIGlmICghbmVhcmVzdClcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGlmIChuZWFyZXN0Lm5vZGUuaXNCbG9jaykge1xuICAgICAgICAgICAgICAgIGRvbSA9IG5lYXJlc3QuZG9tO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9tID0gbmVhcmVzdC5kb20ucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29vcmRzID0gY29vcmRzQXRQb3ModmlldywgJHBvcy5wb3MsIDEpO1xuICAgICAgICBmb3IgKGxldCBjaGlsZCA9IGRvbS5maXJzdENoaWxkOyBjaGlsZDsgY2hpbGQgPSBjaGlsZC5uZXh0U2libGluZykge1xuICAgICAgICAgICAgbGV0IGJveGVzO1xuICAgICAgICAgICAgaWYgKGNoaWxkLm5vZGVUeXBlID09IDEpXG4gICAgICAgICAgICAgICAgYm94ZXMgPSBjaGlsZC5nZXRDbGllbnRSZWN0cygpO1xuICAgICAgICAgICAgZWxzZSBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMylcbiAgICAgICAgICAgICAgICBib3hlcyA9IHRleHRSYW5nZShjaGlsZCwgMCwgY2hpbGQubm9kZVZhbHVlLmxlbmd0aCkuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYm94ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgYm94ID0gYm94ZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGJveC5ib3R0b20gPiBib3gudG9wICsgMSAmJlxuICAgICAgICAgICAgICAgICAgICAoZGlyID09IFwidXBcIiA/IGNvb3Jkcy50b3AgLSBib3gudG9wID4gKGJveC5ib3R0b20gLSBjb29yZHMudG9wKSAqIDJcbiAgICAgICAgICAgICAgICAgICAgICAgIDogYm94LmJvdHRvbSAtIGNvb3Jkcy5ib3R0b20gPiAoY29vcmRzLmJvdHRvbSAtIGJveC50b3ApICogMikpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9KTtcbn1cbmNvbnN0IG1heWJlUlRMID0gL1tcXHUwNTkwLVxcdTA4YWNdLztcbmZ1bmN0aW9uIGVuZE9mVGV4dGJsb2NrSG9yaXpvbnRhbCh2aWV3LCBzdGF0ZSwgZGlyKSB7XG4gICAgbGV0IHsgJGhlYWQgfSA9IHN0YXRlLnNlbGVjdGlvbjtcbiAgICBpZiAoISRoZWFkLnBhcmVudC5pc1RleHRibG9jaylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBvZmZzZXQgPSAkaGVhZC5wYXJlbnRPZmZzZXQsIGF0U3RhcnQgPSAhb2Zmc2V0LCBhdEVuZCA9IG9mZnNldCA9PSAkaGVhZC5wYXJlbnQuY29udGVudC5zaXplO1xuICAgIGxldCBzZWwgPSB2aWV3LmRvbVNlbGVjdGlvbigpO1xuICAgIC8vIElmIHRoZSB0ZXh0YmxvY2sgaXMgYWxsIExUUiwgb3IgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0XG4gICAgLy8gU2VsZWN0aW9uLm1vZGlmeSAoRWRnZSksIGZhbGwgYmFjayB0byBhIHByaW1pdGl2ZSBhcHByb2FjaFxuICAgIGlmICghbWF5YmVSVEwudGVzdCgkaGVhZC5wYXJlbnQudGV4dENvbnRlbnQpIHx8ICFzZWwubW9kaWZ5KVxuICAgICAgICByZXR1cm4gZGlyID09IFwibGVmdFwiIHx8IGRpciA9PSBcImJhY2t3YXJkXCIgPyBhdFN0YXJ0IDogYXRFbmQ7XG4gICAgcmV0dXJuIHdpdGhGbHVzaGVkU3RhdGUodmlldywgc3RhdGUsICgpID0+IHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIGh1Z2UgaGFjaywgYnV0IGFwcGVhcnMgdG8gYmUgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGN1cnJlbnRseSBkbzogdXNlIGBTZWxlY3Rpb24ubW9kaWZ5YCB0byBtb3ZlIHRoZSBzZWxlY3Rpb24gYnlcbiAgICAgICAgLy8gb25lIGNoYXJhY3RlciwgYW5kIHNlZSBpZiB0aGF0IG1vdmVzIHRoZSBjdXJzb3Igb3V0IG9mIHRoZVxuICAgICAgICAvLyB0ZXh0YmxvY2sgKG9yIGRvZXNuJ3QgbW92ZSBpdCBhdCBhbGwsIHdoZW4gYXQgdGhlIHN0YXJ0L2VuZCBvZlxuICAgICAgICAvLyB0aGUgZG9jdW1lbnQpLlxuICAgICAgICBsZXQgb2xkUmFuZ2UgPSBzZWwuZ2V0UmFuZ2VBdCgwKSwgb2xkTm9kZSA9IHNlbC5mb2N1c05vZGUsIG9sZE9mZiA9IHNlbC5mb2N1c09mZnNldDtcbiAgICAgICAgbGV0IG9sZEJpZGlMZXZlbCA9IHNlbC5jYXJldEJpZGlMZXZlbCAvLyBPbmx5IGZvciBGaXJlZm94XG4gICAgICAgIDtcbiAgICAgICAgc2VsLm1vZGlmeShcIm1vdmVcIiwgZGlyLCBcImNoYXJhY3RlclwiKTtcbiAgICAgICAgbGV0IHBhcmVudERPTSA9ICRoZWFkLmRlcHRoID8gdmlldy5kb2NWaWV3LmRvbUFmdGVyUG9zKCRoZWFkLmJlZm9yZSgpKSA6IHZpZXcuZG9tO1xuICAgICAgICBsZXQgcmVzdWx0ID0gIXBhcmVudERPTS5jb250YWlucyhzZWwuZm9jdXNOb2RlLm5vZGVUeXBlID09IDEgPyBzZWwuZm9jdXNOb2RlIDogc2VsLmZvY3VzTm9kZS5wYXJlbnROb2RlKSB8fFxuICAgICAgICAgICAgKG9sZE5vZGUgPT0gc2VsLmZvY3VzTm9kZSAmJiBvbGRPZmYgPT0gc2VsLmZvY3VzT2Zmc2V0KTtcbiAgICAgICAgLy8gUmVzdG9yZSB0aGUgcHJldmlvdXMgc2VsZWN0aW9uXG4gICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgc2VsLmFkZFJhbmdlKG9sZFJhbmdlKTtcbiAgICAgICAgaWYgKG9sZEJpZGlMZXZlbCAhPSBudWxsKVxuICAgICAgICAgICAgc2VsLmNhcmV0QmlkaUxldmVsID0gb2xkQmlkaUxldmVsO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xufVxubGV0IGNhY2hlZFN0YXRlID0gbnVsbDtcbmxldCBjYWNoZWREaXIgPSBudWxsO1xubGV0IGNhY2hlZFJlc3VsdCA9IGZhbHNlO1xuZnVuY3Rpb24gZW5kT2ZUZXh0YmxvY2sodmlldywgc3RhdGUsIGRpcikge1xuICAgIGlmIChjYWNoZWRTdGF0ZSA9PSBzdGF0ZSAmJiBjYWNoZWREaXIgPT0gZGlyKVxuICAgICAgICByZXR1cm4gY2FjaGVkUmVzdWx0O1xuICAgIGNhY2hlZFN0YXRlID0gc3RhdGU7XG4gICAgY2FjaGVkRGlyID0gZGlyO1xuICAgIHJldHVybiBjYWNoZWRSZXN1bHQgPSBkaXIgPT0gXCJ1cFwiIHx8IGRpciA9PSBcImRvd25cIlxuICAgICAgICA/IGVuZE9mVGV4dGJsb2NrVmVydGljYWwodmlldywgc3RhdGUsIGRpcilcbiAgICAgICAgOiBlbmRPZlRleHRibG9ja0hvcml6b250YWwodmlldywgc3RhdGUsIGRpcik7XG59XG5cbi8vIFZpZXcgZGVzY3JpcHRpb25zIGFyZSBkYXRhIHN0cnVjdHVyZXMgdGhhdCBkZXNjcmliZSB0aGUgRE9NIHRoYXQgaXNcbi8vIHVzZWQgdG8gcmVwcmVzZW50IHRoZSBlZGl0b3IncyBjb250ZW50LiBUaGV5IGFyZSB1c2VkIGZvcjpcbi8vXG4vLyAtIEluY3JlbWVudGFsIHJlZHJhd2luZyB3aGVuIHRoZSBkb2N1bWVudCBjaGFuZ2VzXG4vL1xuLy8gLSBGaWd1cmluZyBvdXQgd2hhdCBwYXJ0IG9mIHRoZSBkb2N1bWVudCBhIGdpdmVuIERPTSBwb3NpdGlvblxuLy8gICBjb3JyZXNwb25kcyB0b1xuLy9cbi8vIC0gV2lyaW5nIGluIGN1c3RvbSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIGVkaXRpbmcgaW50ZXJmYWNlIGZvciBhXG4vLyAgIGdpdmVuIG5vZGVcbi8vXG4vLyBUaGV5IGZvcm0gYSBkb3VibHktbGlua2VkIG11dGFibGUgdHJlZSwgc3RhcnRpbmcgYXQgYHZpZXcuZG9jVmlld2AuXG5jb25zdCBOT1RfRElSVFkgPSAwLCBDSElMRF9ESVJUWSA9IDEsIENPTlRFTlRfRElSVFkgPSAyLCBOT0RFX0RJUlRZID0gMztcbi8vIFN1cGVyY2xhc3MgZm9yIHRoZSB2YXJpb3VzIGtpbmRzIG9mIGRlc2NyaXB0aW9ucy4gRGVmaW5lcyB0aGVpclxuLy8gYmFzaWMgc3RydWN0dXJlIGFuZCBzaGFyZWQgbWV0aG9kcy5cbmNsYXNzIFZpZXdEZXNjIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIGNoaWxkcmVuLCBkb20sIFxuICAgIC8vIFRoaXMgaXMgdGhlIG5vZGUgdGhhdCBob2xkcyB0aGUgY2hpbGQgdmlld3MuIEl0IG1heSBiZSBudWxsIGZvclxuICAgIC8vIGRlc2NzIHRoYXQgZG9uJ3QgaGF2ZSBjaGlsZHJlbi5cbiAgICBjb250ZW50RE9NKSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgIHRoaXMuZG9tID0gZG9tO1xuICAgICAgICB0aGlzLmNvbnRlbnRET00gPSBjb250ZW50RE9NO1xuICAgICAgICB0aGlzLmRpcnR5ID0gTk9UX0RJUlRZO1xuICAgICAgICAvLyBBbiBleHBhbmRvIHByb3BlcnR5IG9uIHRoZSBET00gbm9kZSBwcm92aWRlcyBhIGxpbmsgYmFjayB0byBpdHNcbiAgICAgICAgLy8gZGVzY3JpcHRpb24uXG4gICAgICAgIGRvbS5wbVZpZXdEZXNjID0gdGhpcztcbiAgICB9XG4gICAgLy8gVXNlZCB0byBjaGVjayB3aGV0aGVyIGEgZ2l2ZW4gZGVzY3JpcHRpb24gY29ycmVzcG9uZHMgdG8gYVxuICAgIC8vIHdpZGdldC9tYXJrL25vZGUuXG4gICAgbWF0Y2hlc1dpZGdldCh3aWRnZXQpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgbWF0Y2hlc01hcmsobWFyaykgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBtYXRjaGVzTm9kZShub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbykgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBtYXRjaGVzSGFjayhub2RlTmFtZSkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICAvLyBXaGVuIHBhcnNpbmcgaW4tZWRpdG9yIGNvbnRlbnQgKGluIGRvbWNoYW5nZS5qcyksIHdlIGFsbG93XG4gICAgLy8gZGVzY3JpcHRpb25zIHRvIGRldGVybWluZSB0aGUgcGFyc2UgcnVsZXMgdGhhdCBzaG91bGQgYmUgdXNlZCB0b1xuICAgIC8vIHBhcnNlIHRoZW0uXG4gICAgcGFyc2VSdWxlKCkgeyByZXR1cm4gbnVsbDsgfVxuICAgIC8vIFVzZWQgYnkgdGhlIGVkaXRvcidzIGV2ZW50IGhhbmRsZXIgdG8gaWdub3JlIGV2ZW50cyB0aGF0IGNvbWVcbiAgICAvLyBmcm9tIGNlcnRhaW4gZGVzY3MuXG4gICAgc3RvcEV2ZW50KGV2ZW50KSB7IHJldHVybiBmYWxzZTsgfVxuICAgIC8vIFRoZSBzaXplIG9mIHRoZSBjb250ZW50IHJlcHJlc2VudGVkIGJ5IHRoaXMgZGVzYy5cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgbGV0IHNpemUgPSAwO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBzaXplICs9IHRoaXMuY2hpbGRyZW5baV0uc2l6ZTtcbiAgICAgICAgcmV0dXJuIHNpemU7XG4gICAgfVxuICAgIC8vIEZvciBibG9jayBub2RlcywgdGhpcyByZXByZXNlbnRzIHRoZSBzcGFjZSB0YWtlbiB1cCBieSB0aGVpclxuICAgIC8vIHN0YXJ0L2VuZCB0b2tlbnMuXG4gICAgZ2V0IGJvcmRlcigpIHsgcmV0dXJuIDA7IH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLnBhcmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHRoaXMuZG9tLnBtVmlld0Rlc2MgPT0gdGhpcylcbiAgICAgICAgICAgIHRoaXMuZG9tLnBtVmlld0Rlc2MgPSB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baV0uZGVzdHJveSgpO1xuICAgIH1cbiAgICBwb3NCZWZvcmVDaGlsZChjaGlsZCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgcG9zID0gdGhpcy5wb3NBdFN0YXJ0OzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY3VyID0gdGhpcy5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIGlmIChjdXIgPT0gY2hpbGQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgICAgICAgIHBvcyArPSBjdXIuc2l6ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgcG9zQmVmb3JlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQucG9zQmVmb3JlQ2hpbGQodGhpcyk7XG4gICAgfVxuICAgIGdldCBwb3NBdFN0YXJ0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnQgPyB0aGlzLnBhcmVudC5wb3NCZWZvcmVDaGlsZCh0aGlzKSArIHRoaXMuYm9yZGVyIDogMDtcbiAgICB9XG4gICAgZ2V0IHBvc0FmdGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wb3NCZWZvcmUgKyB0aGlzLnNpemU7XG4gICAgfVxuICAgIGdldCBwb3NBdEVuZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zQXRTdGFydCArIHRoaXMuc2l6ZSAtIDIgKiB0aGlzLmJvcmRlcjtcbiAgICB9XG4gICAgbG9jYWxQb3NGcm9tRE9NKGRvbSwgb2Zmc2V0LCBiaWFzKSB7XG4gICAgICAgIC8vIElmIHRoZSBET00gcG9zaXRpb24gaXMgaW4gdGhlIGNvbnRlbnQsIHVzZSB0aGUgY2hpbGQgZGVzYyBhZnRlclxuICAgICAgICAvLyBpdCB0byBmaWd1cmUgb3V0IGEgcG9zaXRpb24uXG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRET00gJiYgdGhpcy5jb250ZW50RE9NLmNvbnRhaW5zKGRvbS5ub2RlVHlwZSA9PSAxID8gZG9tIDogZG9tLnBhcmVudE5vZGUpKSB7XG4gICAgICAgICAgICBpZiAoYmlhcyA8IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgZG9tQmVmb3JlLCBkZXNjO1xuICAgICAgICAgICAgICAgIGlmIChkb20gPT0gdGhpcy5jb250ZW50RE9NKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvbUJlZm9yZSA9IGRvbS5jaGlsZE5vZGVzW29mZnNldCAtIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGRvbS5wYXJlbnROb2RlICE9IHRoaXMuY29udGVudERPTSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbSA9IGRvbS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBkb21CZWZvcmUgPSBkb20ucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB3aGlsZSAoZG9tQmVmb3JlICYmICEoKGRlc2MgPSBkb21CZWZvcmUucG1WaWV3RGVzYykgJiYgZGVzYy5wYXJlbnQgPT0gdGhpcykpXG4gICAgICAgICAgICAgICAgICAgIGRvbUJlZm9yZSA9IGRvbUJlZm9yZS5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbUJlZm9yZSA/IHRoaXMucG9zQmVmb3JlQ2hpbGQoZGVzYykgKyBkZXNjLnNpemUgOiB0aGlzLnBvc0F0U3RhcnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgZG9tQWZ0ZXIsIGRlc2M7XG4gICAgICAgICAgICAgICAgaWYgKGRvbSA9PSB0aGlzLmNvbnRlbnRET00pIHtcbiAgICAgICAgICAgICAgICAgICAgZG9tQWZ0ZXIgPSBkb20uY2hpbGROb2Rlc1tvZmZzZXRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGRvbS5wYXJlbnROb2RlICE9IHRoaXMuY29udGVudERPTSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbSA9IGRvbS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBkb21BZnRlciA9IGRvbS5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2hpbGUgKGRvbUFmdGVyICYmICEoKGRlc2MgPSBkb21BZnRlci5wbVZpZXdEZXNjKSAmJiBkZXNjLnBhcmVudCA9PSB0aGlzKSlcbiAgICAgICAgICAgICAgICAgICAgZG9tQWZ0ZXIgPSBkb21BZnRlci5uZXh0U2libGluZztcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tQWZ0ZXIgPyB0aGlzLnBvc0JlZm9yZUNoaWxkKGRlc2MpIDogdGhpcy5wb3NBdEVuZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlcndpc2UsIHVzZSB2YXJpb3VzIGhldXJpc3RpY3MsIGZhbGxpbmcgYmFjayBvbiB0aGUgYmlhc1xuICAgICAgICAvLyBwYXJhbWV0ZXIsIHRvIGRldGVybWluZSB3aGV0aGVyIHRvIHJldHVybiB0aGUgcG9zaXRpb24gYXQgdGhlXG4gICAgICAgIC8vIHN0YXJ0IG9yIGF0IHRoZSBlbmQgb2YgdGhpcyB2aWV3IGRlc2MuXG4gICAgICAgIGxldCBhdEVuZDtcbiAgICAgICAgaWYgKGRvbSA9PSB0aGlzLmRvbSAmJiB0aGlzLmNvbnRlbnRET00pIHtcbiAgICAgICAgICAgIGF0RW5kID0gb2Zmc2V0ID4gZG9tSW5kZXgodGhpcy5jb250ZW50RE9NKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmNvbnRlbnRET00gJiYgdGhpcy5jb250ZW50RE9NICE9IHRoaXMuZG9tICYmIHRoaXMuZG9tLmNvbnRhaW5zKHRoaXMuY29udGVudERPTSkpIHtcbiAgICAgICAgICAgIGF0RW5kID0gZG9tLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHRoaXMuY29udGVudERPTSkgJiAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZG9tLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPT0gMClcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzZWFyY2ggPSBkb207OyBzZWFyY2ggPSBzZWFyY2gucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VhcmNoID09IHRoaXMuZG9tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdEVuZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlYXJjaC5wcmV2aW91c1NpYmxpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYXRFbmQgPT0gbnVsbCAmJiBvZmZzZXQgPT0gZG9tLmNoaWxkTm9kZXMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGZvciAobGV0IHNlYXJjaCA9IGRvbTs7IHNlYXJjaCA9IHNlYXJjaC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2ggPT0gdGhpcy5kb20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0RW5kID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWFyY2gubmV4dFNpYmxpbmcpXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChhdEVuZCA9PSBudWxsID8gYmlhcyA+IDAgOiBhdEVuZCkgPyB0aGlzLnBvc0F0RW5kIDogdGhpcy5wb3NBdFN0YXJ0O1xuICAgIH1cbiAgICAvLyBTY2FuIHVwIHRoZSBkb20gZmluZGluZyB0aGUgZmlyc3QgZGVzYyB0aGF0IGlzIGEgZGVzY2VuZGFudCBvZlxuICAgIC8vIHRoaXMgb25lLlxuICAgIG5lYXJlc3REZXNjKGRvbSwgb25seU5vZGVzID0gZmFsc2UpIHtcbiAgICAgICAgZm9yIChsZXQgZmlyc3QgPSB0cnVlLCBjdXIgPSBkb207IGN1cjsgY3VyID0gY3VyLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIGxldCBkZXNjID0gdGhpcy5nZXREZXNjKGN1ciksIG5vZGVET007XG4gICAgICAgICAgICBpZiAoZGVzYyAmJiAoIW9ubHlOb2RlcyB8fCBkZXNjLm5vZGUpKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgZG9tIGlzIG91dHNpZGUgb2YgdGhpcyBkZXNjJ3Mgbm9kZURPTSwgZG9uJ3QgY291bnQgaXQuXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0ICYmIChub2RlRE9NID0gZGVzYy5ub2RlRE9NKSAmJlxuICAgICAgICAgICAgICAgICAgICAhKG5vZGVET00ubm9kZVR5cGUgPT0gMSA/IG5vZGVET00uY29udGFpbnMoZG9tLm5vZGVUeXBlID09IDEgPyBkb20gOiBkb20ucGFyZW50Tm9kZSkgOiBub2RlRE9NID09IGRvbSkpXG4gICAgICAgICAgICAgICAgICAgIGZpcnN0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVzYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXREZXNjKGRvbSkge1xuICAgICAgICBsZXQgZGVzYyA9IGRvbS5wbVZpZXdEZXNjO1xuICAgICAgICBmb3IgKGxldCBjdXIgPSBkZXNjOyBjdXI7IGN1ciA9IGN1ci5wYXJlbnQpXG4gICAgICAgICAgICBpZiAoY3VyID09IHRoaXMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlc2M7XG4gICAgfVxuICAgIHBvc0Zyb21ET00oZG9tLCBvZmZzZXQsIGJpYXMpIHtcbiAgICAgICAgZm9yIChsZXQgc2NhbiA9IGRvbTsgc2Nhbjsgc2NhbiA9IHNjYW4ucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgbGV0IGRlc2MgPSB0aGlzLmdldERlc2Moc2Nhbik7XG4gICAgICAgICAgICBpZiAoZGVzYylcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzYy5sb2NhbFBvc0Zyb21ET00oZG9tLCBvZmZzZXQsIGJpYXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgLy8gRmluZCB0aGUgZGVzYyBmb3IgdGhlIG5vZGUgYWZ0ZXIgdGhlIGdpdmVuIHBvcywgaWYgYW55LiAoV2hlbiBhXG4gICAgLy8gcGFyZW50IG5vZGUgb3ZlcnJvZGUgcmVuZGVyaW5nLCB0aGVyZSBtaWdodCBub3QgYmUgb25lLilcbiAgICBkZXNjQXQocG9zKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBvZmZzZXQgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgZW5kID0gb2Zmc2V0ICsgY2hpbGQuc2l6ZTtcbiAgICAgICAgICAgIGlmIChvZmZzZXQgPT0gcG9zICYmIGVuZCAhPSBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAoIWNoaWxkLmJvcmRlciAmJiBjaGlsZC5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkID0gY2hpbGQuY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHBvcyA8IGVuZClcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQuZGVzY0F0KHBvcyAtIG9mZnNldCAtIGNoaWxkLmJvcmRlcik7XG4gICAgICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZG9tRnJvbVBvcyhwb3MsIHNpZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRlbnRET00pXG4gICAgICAgICAgICByZXR1cm4geyBub2RlOiB0aGlzLmRvbSwgb2Zmc2V0OiAwIH07XG4gICAgICAgIC8vIEZpcnN0IGZpbmQgdGhlIHBvc2l0aW9uIGluIHRoZSBjaGlsZCBhcnJheVxuICAgICAgICBsZXQgaSA9IDAsIG9mZnNldCA9IDA7XG4gICAgICAgIGZvciAobGV0IGN1clBvcyA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBjdXJQb3MgKyBjaGlsZC5zaXplO1xuICAgICAgICAgICAgaWYgKGVuZCA+IHBvcyB8fCBjaGlsZCBpbnN0YW5jZW9mIFRyYWlsaW5nSGFja1ZpZXdEZXNjKSB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gcG9zIC0gY3VyUG9zO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3VyUG9zID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoaXMgcG9pbnRzIGludG8gdGhlIG1pZGRsZSBvZiBhIGNoaWxkLCBjYWxsIHRocm91Z2hcbiAgICAgICAgaWYgKG9mZnNldClcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuW2ldLmRvbUZyb21Qb3Mob2Zmc2V0IC0gdGhpcy5jaGlsZHJlbltpXS5ib3JkZXIsIHNpZGUpO1xuICAgICAgICAvLyBHbyBiYWNrIGlmIHRoZXJlIHdlcmUgYW55IHplcm8tbGVuZ3RoIHdpZGdldHMgd2l0aCBzaWRlID49IDAgYmVmb3JlIHRoaXMgcG9pbnRcbiAgICAgICAgZm9yIChsZXQgcHJldjsgaSAmJiAhKHByZXYgPSB0aGlzLmNoaWxkcmVuW2kgLSAxXSkuc2l6ZSAmJiBwcmV2IGluc3RhbmNlb2YgV2lkZ2V0Vmlld0Rlc2MgJiYgcHJldi5zaWRlID49IDA7IGktLSkgeyB9XG4gICAgICAgIC8vIFNjYW4gdG93YXJkcyB0aGUgZmlyc3QgdXNlYWJsZSBub2RlXG4gICAgICAgIGlmIChzaWRlIDw9IDApIHtcbiAgICAgICAgICAgIGxldCBwcmV2LCBlbnRlciA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKDs7IGktLSwgZW50ZXIgPSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHByZXYgPSBpID8gdGhpcy5jaGlsZHJlbltpIC0gMV0gOiBudWxsO1xuICAgICAgICAgICAgICAgIGlmICghcHJldiB8fCBwcmV2LmRvbS5wYXJlbnROb2RlID09IHRoaXMuY29udGVudERPTSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJldiAmJiBzaWRlICYmIGVudGVyICYmICFwcmV2LmJvcmRlciAmJiAhcHJldi5kb21BdG9tKVxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2LmRvbUZyb21Qb3MocHJldi5zaXplLCBzaWRlKTtcbiAgICAgICAgICAgIHJldHVybiB7IG5vZGU6IHRoaXMuY29udGVudERPTSwgb2Zmc2V0OiBwcmV2ID8gZG9tSW5kZXgocHJldi5kb20pICsgMSA6IDAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBuZXh0LCBlbnRlciA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKDs7IGkrKywgZW50ZXIgPSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIG5leHQgPSBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGggPyB0aGlzLmNoaWxkcmVuW2ldIDogbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoIW5leHQgfHwgbmV4dC5kb20ucGFyZW50Tm9kZSA9PSB0aGlzLmNvbnRlbnRET00pXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5leHQgJiYgZW50ZXIgJiYgIW5leHQuYm9yZGVyICYmICFuZXh0LmRvbUF0b20pXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5leHQuZG9tRnJvbVBvcygwLCBzaWRlKTtcbiAgICAgICAgICAgIHJldHVybiB7IG5vZGU6IHRoaXMuY29udGVudERPTSwgb2Zmc2V0OiBuZXh0ID8gZG9tSW5kZXgobmV4dC5kb20pIDogdGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RoIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVXNlZCB0byBmaW5kIGEgRE9NIHJhbmdlIGluIGEgc2luZ2xlIHBhcmVudCBmb3IgYSBnaXZlbiBjaGFuZ2VkXG4gICAgLy8gcmFuZ2UuXG4gICAgcGFyc2VSYW5nZShmcm9tLCB0bywgYmFzZSA9IDApIHtcbiAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID09IDApXG4gICAgICAgICAgICByZXR1cm4geyBub2RlOiB0aGlzLmNvbnRlbnRET00sIGZyb20sIHRvLCBmcm9tT2Zmc2V0OiAwLCB0b09mZnNldDogdGhpcy5jb250ZW50RE9NLmNoaWxkTm9kZXMubGVuZ3RoIH07XG4gICAgICAgIGxldCBmcm9tT2Zmc2V0ID0gLTEsIHRvT2Zmc2V0ID0gLTE7XG4gICAgICAgIGZvciAobGV0IG9mZnNldCA9IGJhc2UsIGkgPSAwOzsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBvZmZzZXQgKyBjaGlsZC5zaXplO1xuICAgICAgICAgICAgaWYgKGZyb21PZmZzZXQgPT0gLTEgJiYgZnJvbSA8PSBlbmQpIHtcbiAgICAgICAgICAgICAgICBsZXQgY2hpbGRCYXNlID0gb2Zmc2V0ICsgY2hpbGQuYm9yZGVyO1xuICAgICAgICAgICAgICAgIC8vIEZJWE1FIG1heWJlIGRlc2NlbmQgbWFyayB2aWV3cyB0byBwYXJzZSBhIG5hcnJvd2VyIHJhbmdlP1xuICAgICAgICAgICAgICAgIGlmIChmcm9tID49IGNoaWxkQmFzZSAmJiB0byA8PSBlbmQgLSBjaGlsZC5ib3JkZXIgJiYgY2hpbGQubm9kZSAmJlxuICAgICAgICAgICAgICAgICAgICBjaGlsZC5jb250ZW50RE9NICYmIHRoaXMuY29udGVudERPTS5jb250YWlucyhjaGlsZC5jb250ZW50RE9NKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLnBhcnNlUmFuZ2UoZnJvbSwgdG8sIGNoaWxkQmFzZSk7XG4gICAgICAgICAgICAgICAgZnJvbSA9IG9mZnNldDtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gaTsgaiA+IDA7IGotLSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJldiA9IHRoaXMuY2hpbGRyZW5baiAtIDFdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldi5zaXplICYmIHByZXYuZG9tLnBhcmVudE5vZGUgPT0gdGhpcy5jb250ZW50RE9NICYmICFwcmV2LmVtcHR5Q2hpbGRBdCgxKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbU9mZnNldCA9IGRvbUluZGV4KHByZXYuZG9tKSArIDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmcm9tIC09IHByZXYuc2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZyb21PZmZzZXQgPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIGZyb21PZmZzZXQgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZyb21PZmZzZXQgPiAtMSAmJiAoZW5kID4gdG8gfHwgaSA9PSB0aGlzLmNoaWxkcmVuLmxlbmd0aCAtIDEpKSB7XG4gICAgICAgICAgICAgICAgdG8gPSBlbmQ7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMuY2hpbGRyZW5bal07XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0LnNpemUgJiYgbmV4dC5kb20ucGFyZW50Tm9kZSA9PSB0aGlzLmNvbnRlbnRET00gJiYgIW5leHQuZW1wdHlDaGlsZEF0KC0xKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9PZmZzZXQgPSBkb21JbmRleChuZXh0LmRvbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0byArPSBuZXh0LnNpemU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0b09mZnNldCA9PSAtMSlcbiAgICAgICAgICAgICAgICAgICAgdG9PZmZzZXQgPSB0aGlzLmNvbnRlbnRET00uY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgbm9kZTogdGhpcy5jb250ZW50RE9NLCBmcm9tLCB0bywgZnJvbU9mZnNldCwgdG9PZmZzZXQgfTtcbiAgICB9XG4gICAgZW1wdHlDaGlsZEF0KHNpZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuYm9yZGVyIHx8ICF0aGlzLmNvbnRlbnRET00gfHwgIXRoaXMuY2hpbGRyZW4ubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW3NpZGUgPCAwID8gMCA6IHRoaXMuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gICAgICAgIHJldHVybiBjaGlsZC5zaXplID09IDAgfHwgY2hpbGQuZW1wdHlDaGlsZEF0KHNpZGUpO1xuICAgIH1cbiAgICBkb21BZnRlclBvcyhwb3MpIHtcbiAgICAgICAgbGV0IHsgbm9kZSwgb2Zmc2V0IH0gPSB0aGlzLmRvbUZyb21Qb3MocG9zLCAwKTtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgIT0gMSB8fCBvZmZzZXQgPT0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aClcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiTm8gbm9kZSBhZnRlciBwb3MgXCIgKyBwb3MpO1xuICAgICAgICByZXR1cm4gbm9kZS5jaGlsZE5vZGVzW29mZnNldF07XG4gICAgfVxuICAgIC8vIFZpZXcgZGVzY3MgYXJlIHJlc3BvbnNpYmxlIGZvciBzZXR0aW5nIGFueSBzZWxlY3Rpb24gdGhhdCBmYWxsc1xuICAgIC8vIGVudGlyZWx5IGluc2lkZSBvZiB0aGVtLCBzbyB0aGF0IGN1c3RvbSBpbXBsZW1lbnRhdGlvbnMgY2FuIGRvXG4gICAgLy8gY3VzdG9tIHRoaW5ncyB3aXRoIHRoZSBzZWxlY3Rpb24uIE5vdGUgdGhhdCB0aGlzIGZhbGxzIGFwYXJ0IHdoZW5cbiAgICAvLyBhIHNlbGVjdGlvbiBzdGFydHMgaW4gc3VjaCBhIG5vZGUgYW5kIGVuZHMgaW4gYW5vdGhlciwgaW4gd2hpY2hcbiAgICAvLyBjYXNlIHdlIGp1c3QgdXNlIHdoYXRldmVyIGRvbUZyb21Qb3MgcHJvZHVjZXMgYXMgYSBiZXN0IGVmZm9ydC5cbiAgICBzZXRTZWxlY3Rpb24oYW5jaG9yLCBoZWFkLCByb290LCBmb3JjZSA9IGZhbHNlKSB7XG4gICAgICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gZmFsbHMgZW50aXJlbHkgaW4gYSBjaGlsZCwgZ2l2ZSBpdCB0byB0aGF0IGNoaWxkXG4gICAgICAgIGxldCBmcm9tID0gTWF0aC5taW4oYW5jaG9yLCBoZWFkKSwgdG8gPSBNYXRoLm1heChhbmNob3IsIGhlYWQpO1xuICAgICAgICBmb3IgKGxldCBpID0gMCwgb2Zmc2V0ID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIGVuZCA9IG9mZnNldCArIGNoaWxkLnNpemU7XG4gICAgICAgICAgICBpZiAoZnJvbSA+IG9mZnNldCAmJiB0byA8IGVuZClcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQuc2V0U2VsZWN0aW9uKGFuY2hvciAtIG9mZnNldCAtIGNoaWxkLmJvcmRlciwgaGVhZCAtIG9mZnNldCAtIGNoaWxkLmJvcmRlciwgcm9vdCwgZm9yY2UpO1xuICAgICAgICAgICAgb2Zmc2V0ID0gZW5kO1xuICAgICAgICB9XG4gICAgICAgIGxldCBhbmNob3JET00gPSB0aGlzLmRvbUZyb21Qb3MoYW5jaG9yLCBhbmNob3IgPyAtMSA6IDEpO1xuICAgICAgICBsZXQgaGVhZERPTSA9IGhlYWQgPT0gYW5jaG9yID8gYW5jaG9yRE9NIDogdGhpcy5kb21Gcm9tUG9zKGhlYWQsIGhlYWQgPyAtMSA6IDEpO1xuICAgICAgICBsZXQgZG9tU2VsID0gcm9vdC5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgbGV0IGJyS2x1ZGdlID0gZmFsc2U7XG4gICAgICAgIC8vIE9uIEZpcmVmb3gsIHVzaW5nIFNlbGVjdGlvbi5jb2xsYXBzZSB0byBwdXQgdGhlIGN1cnNvciBhZnRlciBhXG4gICAgICAgIC8vIEJSIG5vZGUgZm9yIHNvbWUgcmVhc29uIGRvZXNuJ3QgYWx3YXlzIHdvcmsgKCMxMDczKS4gT24gU2FmYXJpLFxuICAgICAgICAvLyB0aGUgY3Vyc29yIHNvbWV0aW1lcyBpbmV4cGxpY2FibGUgdmlzdWFsbHkgbGFncyBiZWhpbmQgaXRzXG4gICAgICAgIC8vIHJlcG9ydGVkIHBvc2l0aW9uIGluIHN1Y2ggc2l0dWF0aW9ucyAoIzEwOTIpLlxuICAgICAgICBpZiAoKGdlY2tvIHx8IHNhZmFyaSkgJiYgYW5jaG9yID09IGhlYWQpIHtcbiAgICAgICAgICAgIGxldCB7IG5vZGUsIG9mZnNldCB9ID0gYW5jaG9yRE9NO1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykge1xuICAgICAgICAgICAgICAgIGJyS2x1ZGdlID0gISEob2Zmc2V0ICYmIG5vZGUubm9kZVZhbHVlW29mZnNldCAtIDFdID09IFwiXFxuXCIpO1xuICAgICAgICAgICAgICAgIC8vIElzc3VlICMxMTI4XG4gICAgICAgICAgICAgICAgaWYgKGJyS2x1ZGdlICYmIG9mZnNldCA9PSBub2RlLm5vZGVWYWx1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgc2NhbiA9IG5vZGUsIGFmdGVyOyBzY2FuOyBzY2FuID0gc2Nhbi5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWZ0ZXIgPSBzY2FuLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFmdGVyLm5vZGVOYW1lID09IFwiQlJcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yRE9NID0gaGVhZERPTSA9IHsgbm9kZTogYWZ0ZXIucGFyZW50Tm9kZSwgb2Zmc2V0OiBkb21JbmRleChhZnRlcikgKyAxIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZGVzYyA9IHNjYW4ucG1WaWV3RGVzYztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXNjICYmIGRlc2Mubm9kZSAmJiBkZXNjLm5vZGUuaXNCbG9jaylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBwcmV2ID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldCAtIDFdO1xuICAgICAgICAgICAgICAgIGJyS2x1ZGdlID0gcHJldiAmJiAocHJldi5ub2RlTmFtZSA9PSBcIkJSXCIgfHwgcHJldi5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBGaXJlZm94IGNhbiBhY3Qgc3RyYW5nZWx5IHdoZW4gdGhlIHNlbGVjdGlvbiBpcyBpbiBmcm9udCBvZiBhblxuICAgICAgICAvLyB1bmVkaXRhYmxlIG5vZGUuIFNlZSAjMTE2MyBhbmQgaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTcwOTUzNlxuICAgICAgICBpZiAoZ2Vja28gJiYgZG9tU2VsLmZvY3VzTm9kZSAmJiBkb21TZWwuZm9jdXNOb2RlICE9IGhlYWRET00ubm9kZSAmJiBkb21TZWwuZm9jdXNOb2RlLm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgICAgIGxldCBhZnRlciA9IGRvbVNlbC5mb2N1c05vZGUuY2hpbGROb2Rlc1tkb21TZWwuZm9jdXNPZmZzZXRdO1xuICAgICAgICAgICAgaWYgKGFmdGVyICYmIGFmdGVyLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpXG4gICAgICAgICAgICAgICAgZm9yY2UgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKGZvcmNlIHx8IGJyS2x1ZGdlICYmIHNhZmFyaSkgJiZcbiAgICAgICAgICAgIGlzRXF1aXZhbGVudFBvc2l0aW9uKGFuY2hvckRPTS5ub2RlLCBhbmNob3JET00ub2Zmc2V0LCBkb21TZWwuYW5jaG9yTm9kZSwgZG9tU2VsLmFuY2hvck9mZnNldCkgJiZcbiAgICAgICAgICAgIGlzRXF1aXZhbGVudFBvc2l0aW9uKGhlYWRET00ubm9kZSwgaGVhZERPTS5vZmZzZXQsIGRvbVNlbC5mb2N1c05vZGUsIGRvbVNlbC5mb2N1c09mZnNldCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIFNlbGVjdGlvbi5leHRlbmQgY2FuIGJlIHVzZWQgdG8gY3JlYXRlIGFuICdpbnZlcnRlZCcgc2VsZWN0aW9uXG4gICAgICAgIC8vIChvbmUgd2hlcmUgdGhlIGZvY3VzIGlzIGJlZm9yZSB0aGUgYW5jaG9yKSwgYnV0IG5vdCBhbGxcbiAgICAgICAgLy8gYnJvd3NlcnMgc3VwcG9ydCBpdCB5ZXQuXG4gICAgICAgIGxldCBkb21TZWxFeHRlbmRlZCA9IGZhbHNlO1xuICAgICAgICBpZiAoKGRvbVNlbC5leHRlbmQgfHwgYW5jaG9yID09IGhlYWQpICYmICFicktsdWRnZSkge1xuICAgICAgICAgICAgZG9tU2VsLmNvbGxhcHNlKGFuY2hvckRPTS5ub2RlLCBhbmNob3JET00ub2Zmc2V0KTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGFuY2hvciAhPSBoZWFkKVxuICAgICAgICAgICAgICAgICAgICBkb21TZWwuZXh0ZW5kKGhlYWRET00ubm9kZSwgaGVhZERPTS5vZmZzZXQpO1xuICAgICAgICAgICAgICAgIGRvbVNlbEV4dGVuZGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAvLyBJbiBzb21lIGNhc2VzIHdpdGggQ2hyb21lIHRoZSBzZWxlY3Rpb24gaXMgZW1wdHkgYWZ0ZXIgY2FsbGluZ1xuICAgICAgICAgICAgICAgIC8vIGNvbGxhcHNlLCBldmVuIHdoZW4gaXQgc2hvdWxkIGJlIHZhbGlkLiBUaGlzIGFwcGVhcnMgdG8gYmUgYSBidWcsIGJ1dFxuICAgICAgICAgICAgICAgIC8vIGl0IGlzIGRpZmZpY3VsdCB0byBpc29sYXRlLiBJZiB0aGlzIGhhcHBlbnMgZmFsbGJhY2sgdG8gdGhlIG9sZCBwYXRoXG4gICAgICAgICAgICAgICAgLy8gd2l0aG91dCB1c2luZyBleHRlbmQuXG4gICAgICAgICAgICAgICAgaWYgKCEoZXJyIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uKSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgICAgIC8vIGRlY2xhcmUgZ2xvYmFsOiBET01FeGNlcHRpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRvbVNlbEV4dGVuZGVkKSB7XG4gICAgICAgICAgICBpZiAoYW5jaG9yID4gaGVhZCkge1xuICAgICAgICAgICAgICAgIGxldCB0bXAgPSBhbmNob3JET007XG4gICAgICAgICAgICAgICAgYW5jaG9yRE9NID0gaGVhZERPTTtcbiAgICAgICAgICAgICAgICBoZWFkRE9NID0gdG1wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgIHJhbmdlLnNldEVuZChoZWFkRE9NLm5vZGUsIGhlYWRET00ub2Zmc2V0KTtcbiAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGFuY2hvckRPTS5ub2RlLCBhbmNob3JET00ub2Zmc2V0KTtcbiAgICAgICAgICAgIGRvbVNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgIGRvbVNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWdub3JlTXV0YXRpb24obXV0YXRpb24pIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmNvbnRlbnRET00gJiYgbXV0YXRpb24udHlwZSAhPSBcInNlbGVjdGlvblwiO1xuICAgIH1cbiAgICBnZXQgY29udGVudExvc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRET00gJiYgdGhpcy5jb250ZW50RE9NICE9IHRoaXMuZG9tICYmICF0aGlzLmRvbS5jb250YWlucyh0aGlzLmNvbnRlbnRET00pO1xuICAgIH1cbiAgICAvLyBSZW1vdmUgYSBzdWJ0cmVlIG9mIHRoZSBlbGVtZW50IHRyZWUgdGhhdCBoYXMgYmVlbiB0b3VjaGVkXG4gICAgLy8gYnkgYSBET00gY2hhbmdlLCBzbyB0aGF0IHRoZSBuZXh0IHVwZGF0ZSB3aWxsIHJlZHJhdyBpdC5cbiAgICBtYXJrRGlydHkoZnJvbSwgdG8pIHtcbiAgICAgICAgZm9yIChsZXQgb2Zmc2V0ID0gMCwgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBlbmQgPSBvZmZzZXQgKyBjaGlsZC5zaXplO1xuICAgICAgICAgICAgaWYgKG9mZnNldCA9PSBlbmQgPyBmcm9tIDw9IGVuZCAmJiB0byA+PSBvZmZzZXQgOiBmcm9tIDwgZW5kICYmIHRvID4gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgbGV0IHN0YXJ0SW5zaWRlID0gb2Zmc2V0ICsgY2hpbGQuYm9yZGVyLCBlbmRJbnNpZGUgPSBlbmQgLSBjaGlsZC5ib3JkZXI7XG4gICAgICAgICAgICAgICAgaWYgKGZyb20gPj0gc3RhcnRJbnNpZGUgJiYgdG8gPD0gZW5kSW5zaWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmcm9tID09IG9mZnNldCB8fCB0byA9PSBlbmQgPyBDT05URU5UX0RJUlRZIDogQ0hJTERfRElSVFk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmcm9tID09IHN0YXJ0SW5zaWRlICYmIHRvID09IGVuZEluc2lkZSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGNoaWxkLmNvbnRlbnRMb3N0IHx8IGNoaWxkLmRvbS5wYXJlbnROb2RlICE9IHRoaXMuY29udGVudERPTSkpXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5kaXJ0eSA9IE5PREVfRElSVFk7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLm1hcmtEaXJ0eShmcm9tIC0gc3RhcnRJbnNpZGUsIHRvIC0gc3RhcnRJbnNpZGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZC5kaXJ0eSA9IGNoaWxkLmRvbSA9PSBjaGlsZC5jb250ZW50RE9NICYmIGNoaWxkLmRvbS5wYXJlbnROb2RlID09IHRoaXMuY29udGVudERPTSAmJiAhY2hpbGQuY2hpbGRyZW4ubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICAgICA/IENPTlRFTlRfRElSVFkgOiBOT0RFX0RJUlRZO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9mZnNldCA9IGVuZDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpcnR5ID0gQ09OVEVOVF9ESVJUWTtcbiAgICB9XG4gICAgbWFya1BhcmVudHNEaXJ0eSgpIHtcbiAgICAgICAgbGV0IGxldmVsID0gMTtcbiAgICAgICAgZm9yIChsZXQgbm9kZSA9IHRoaXMucGFyZW50OyBub2RlOyBub2RlID0gbm9kZS5wYXJlbnQsIGxldmVsKyspIHtcbiAgICAgICAgICAgIGxldCBkaXJ0eSA9IGxldmVsID09IDEgPyBDT05URU5UX0RJUlRZIDogQ0hJTERfRElSVFk7XG4gICAgICAgICAgICBpZiAobm9kZS5kaXJ0eSA8IGRpcnR5KVxuICAgICAgICAgICAgICAgIG5vZGUuZGlydHkgPSBkaXJ0eTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZG9tQXRvbSgpIHsgcmV0dXJuIGZhbHNlOyB9XG4gICAgZ2V0IGlnbm9yZUZvckNvb3JkcygpIHsgcmV0dXJuIGZhbHNlOyB9XG59XG4vLyBBIHdpZGdldCBkZXNjIHJlcHJlc2VudHMgYSB3aWRnZXQgZGVjb3JhdGlvbiwgd2hpY2ggaXMgYSBET00gbm9kZVxuLy8gZHJhd24gYmV0d2VlbiB0aGUgZG9jdW1lbnQgbm9kZXMuXG5jbGFzcyBXaWRnZXRWaWV3RGVzYyBleHRlbmRzIFZpZXdEZXNjIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIHdpZGdldCwgdmlldywgcG9zKSB7XG4gICAgICAgIGxldCBzZWxmLCBkb20gPSB3aWRnZXQudHlwZS50b0RPTTtcbiAgICAgICAgaWYgKHR5cGVvZiBkb20gPT0gXCJmdW5jdGlvblwiKVxuICAgICAgICAgICAgZG9tID0gZG9tKHZpZXcsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXNlbGYpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3M7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYucGFyZW50KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5wYXJlbnQucG9zQmVmb3JlQ2hpbGQoc2VsZik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF3aWRnZXQudHlwZS5zcGVjLnJhdykge1xuICAgICAgICAgICAgaWYgKGRvbS5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgICAgICAgICAgbGV0IHdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgICAgICB3cmFwLmFwcGVuZENoaWxkKGRvbSk7XG4gICAgICAgICAgICAgICAgZG9tID0gd3JhcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCI7XG4gICAgICAgICAgICBkb20uY2xhc3NMaXN0LmFkZChcIlByb3NlTWlycm9yLXdpZGdldFwiKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcihwYXJlbnQsIFtdLCBkb20sIG51bGwpO1xuICAgICAgICB0aGlzLndpZGdldCA9IHdpZGdldDtcbiAgICAgICAgdGhpcy53aWRnZXQgPSB3aWRnZXQ7XG4gICAgICAgIHNlbGYgPSB0aGlzO1xuICAgIH1cbiAgICBtYXRjaGVzV2lkZ2V0KHdpZGdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaXJ0eSA9PSBOT1RfRElSVFkgJiYgd2lkZ2V0LnR5cGUuZXEodGhpcy53aWRnZXQudHlwZSk7XG4gICAgfVxuICAgIHBhcnNlUnVsZSgpIHsgcmV0dXJuIHsgaWdub3JlOiB0cnVlIH07IH1cbiAgICBzdG9wRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgbGV0IHN0b3AgPSB0aGlzLndpZGdldC5zcGVjLnN0b3BFdmVudDtcbiAgICAgICAgcmV0dXJuIHN0b3AgPyBzdG9wKGV2ZW50KSA6IGZhbHNlO1xuICAgIH1cbiAgICBpZ25vcmVNdXRhdGlvbihtdXRhdGlvbikge1xuICAgICAgICByZXR1cm4gbXV0YXRpb24udHlwZSAhPSBcInNlbGVjdGlvblwiIHx8IHRoaXMud2lkZ2V0LnNwZWMuaWdub3JlU2VsZWN0aW9uO1xuICAgIH1cbiAgICBkZXN0cm95KCkge1xuICAgICAgICB0aGlzLndpZGdldC50eXBlLmRlc3Ryb3kodGhpcy5kb20pO1xuICAgICAgICBzdXBlci5kZXN0cm95KCk7XG4gICAgfVxuICAgIGdldCBkb21BdG9tKCkgeyByZXR1cm4gdHJ1ZTsgfVxuICAgIGdldCBzaWRlKCkgeyByZXR1cm4gdGhpcy53aWRnZXQudHlwZS5zaWRlOyB9XG59XG5jbGFzcyBDb21wb3NpdGlvblZpZXdEZXNjIGV4dGVuZHMgVmlld0Rlc2Mge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgZG9tLCB0ZXh0RE9NLCB0ZXh0KSB7XG4gICAgICAgIHN1cGVyKHBhcmVudCwgW10sIGRvbSwgbnVsbCk7XG4gICAgICAgIHRoaXMudGV4dERPTSA9IHRleHRET007XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgfVxuICAgIGdldCBzaXplKCkgeyByZXR1cm4gdGhpcy50ZXh0Lmxlbmd0aDsgfVxuICAgIGxvY2FsUG9zRnJvbURPTShkb20sIG9mZnNldCkge1xuICAgICAgICBpZiAoZG9tICE9IHRoaXMudGV4dERPTSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnBvc0F0U3RhcnQgKyAob2Zmc2V0ID8gdGhpcy5zaXplIDogMCk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvc0F0U3RhcnQgKyBvZmZzZXQ7XG4gICAgfVxuICAgIGRvbUZyb21Qb3MocG9zKSB7XG4gICAgICAgIHJldHVybiB7IG5vZGU6IHRoaXMudGV4dERPTSwgb2Zmc2V0OiBwb3MgfTtcbiAgICB9XG4gICAgaWdub3JlTXV0YXRpb24obXV0KSB7XG4gICAgICAgIHJldHVybiBtdXQudHlwZSA9PT0gJ2NoYXJhY3RlckRhdGEnICYmIG11dC50YXJnZXQubm9kZVZhbHVlID09IG11dC5vbGRWYWx1ZTtcbiAgICB9XG59XG4vLyBBIG1hcmsgZGVzYyByZXByZXNlbnRzIGEgbWFyay4gTWF5IGhhdmUgbXVsdGlwbGUgY2hpbGRyZW4sXG4vLyBkZXBlbmRpbmcgb24gaG93IHRoZSBtYXJrIGlzIHNwbGl0LiBOb3RlIHRoYXQgbWFya3MgYXJlIGRyYXduIHVzaW5nXG4vLyBhIGZpeGVkIG5lc3Rpbmcgb3JkZXIsIGZvciBzaW1wbGljaXR5IGFuZCBwcmVkaWN0YWJpbGl0eSwgc28gaW5cbi8vIHNvbWUgY2FzZXMgdGhleSB3aWxsIGJlIHNwbGl0IG1vcmUgb2Z0ZW4gdGhhbiB3b3VsZCBhcHBlYXJcbi8vIG5lY2Vzc2FyeS5cbmNsYXNzIE1hcmtWaWV3RGVzYyBleHRlbmRzIFZpZXdEZXNjIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIG1hcmssIGRvbSwgY29udGVudERPTSkge1xuICAgICAgICBzdXBlcihwYXJlbnQsIFtdLCBkb20sIGNvbnRlbnRET00pO1xuICAgICAgICB0aGlzLm1hcmsgPSBtYXJrO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKHBhcmVudCwgbWFyaywgaW5saW5lLCB2aWV3KSB7XG4gICAgICAgIGxldCBjdXN0b20gPSB2aWV3Lm5vZGVWaWV3c1ttYXJrLnR5cGUubmFtZV07XG4gICAgICAgIGxldCBzcGVjID0gY3VzdG9tICYmIGN1c3RvbShtYXJrLCB2aWV3LCBpbmxpbmUpO1xuICAgICAgICBpZiAoIXNwZWMgfHwgIXNwZWMuZG9tKVxuICAgICAgICAgICAgc3BlYyA9IERPTVNlcmlhbGl6ZXIucmVuZGVyU3BlYyhkb2N1bWVudCwgbWFyay50eXBlLnNwZWMudG9ET00obWFyaywgaW5saW5lKSk7XG4gICAgICAgIHJldHVybiBuZXcgTWFya1ZpZXdEZXNjKHBhcmVudCwgbWFyaywgc3BlYy5kb20sIHNwZWMuY29udGVudERPTSB8fCBzcGVjLmRvbSk7XG4gICAgfVxuICAgIHBhcnNlUnVsZSgpIHtcbiAgICAgICAgaWYgKCh0aGlzLmRpcnR5ICYgTk9ERV9ESVJUWSkgfHwgdGhpcy5tYXJrLnR5cGUuc3BlYy5yZXBhcnNlSW5WaWV3KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiB7IG1hcms6IHRoaXMubWFyay50eXBlLm5hbWUsIGF0dHJzOiB0aGlzLm1hcmsuYXR0cnMsIGNvbnRlbnRFbGVtZW50OiB0aGlzLmNvbnRlbnRET00gfHwgdW5kZWZpbmVkIH07XG4gICAgfVxuICAgIG1hdGNoZXNNYXJrKG1hcmspIHsgcmV0dXJuIHRoaXMuZGlydHkgIT0gTk9ERV9ESVJUWSAmJiB0aGlzLm1hcmsuZXEobWFyayk7IH1cbiAgICBtYXJrRGlydHkoZnJvbSwgdG8pIHtcbiAgICAgICAgc3VwZXIubWFya0RpcnR5KGZyb20sIHRvKTtcbiAgICAgICAgLy8gTW92ZSBkaXJ0eSBpbmZvIHRvIG5lYXJlc3Qgbm9kZSB2aWV3XG4gICAgICAgIGlmICh0aGlzLmRpcnR5ICE9IE5PVF9ESVJUWSkge1xuICAgICAgICAgICAgbGV0IHBhcmVudCA9IHRoaXMucGFyZW50O1xuICAgICAgICAgICAgd2hpbGUgKCFwYXJlbnQubm9kZSlcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBwYXJlbnQucGFyZW50O1xuICAgICAgICAgICAgaWYgKHBhcmVudC5kaXJ0eSA8IHRoaXMuZGlydHkpXG4gICAgICAgICAgICAgICAgcGFyZW50LmRpcnR5ID0gdGhpcy5kaXJ0eTtcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBOT1RfRElSVFk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2xpY2UoZnJvbSwgdG8sIHZpZXcpIHtcbiAgICAgICAgbGV0IGNvcHkgPSBNYXJrVmlld0Rlc2MuY3JlYXRlKHRoaXMucGFyZW50LCB0aGlzLm1hcmssIHRydWUsIHZpZXcpO1xuICAgICAgICBsZXQgbm9kZXMgPSB0aGlzLmNoaWxkcmVuLCBzaXplID0gdGhpcy5zaXplO1xuICAgICAgICBpZiAodG8gPCBzaXplKVxuICAgICAgICAgICAgbm9kZXMgPSByZXBsYWNlTm9kZXMobm9kZXMsIHRvLCBzaXplLCB2aWV3KTtcbiAgICAgICAgaWYgKGZyb20gPiAwKVxuICAgICAgICAgICAgbm9kZXMgPSByZXBsYWNlTm9kZXMobm9kZXMsIDAsIGZyb20sIHZpZXcpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgbm9kZXNbaV0ucGFyZW50ID0gY29weTtcbiAgICAgICAgY29weS5jaGlsZHJlbiA9IG5vZGVzO1xuICAgICAgICByZXR1cm4gY29weTtcbiAgICB9XG59XG4vLyBOb2RlIHZpZXcgZGVzY3MgYXJlIHRoZSBtYWluLCBtb3N0IGNvbW1vbiB0eXBlIG9mIHZpZXcgZGVzYywgYW5kXG4vLyBjb3JyZXNwb25kIHRvIGFuIGFjdHVhbCBub2RlIGluIHRoZSBkb2N1bWVudC4gVW5saWtlIG1hcmsgZGVzY3MsXG4vLyB0aGV5IHBvcHVsYXRlIHRoZWlyIGNoaWxkIGFycmF5IHRoZW1zZWx2ZXMuXG5jbGFzcyBOb2RlVmlld0Rlc2MgZXh0ZW5kcyBWaWV3RGVzYyB7XG4gICAgY29uc3RydWN0b3IocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBjb250ZW50RE9NLCBub2RlRE9NLCB2aWV3LCBwb3MpIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBbXSwgZG9tLCBjb250ZW50RE9NKTtcbiAgICAgICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgICAgICAgdGhpcy5vdXRlckRlY28gPSBvdXRlckRlY287XG4gICAgICAgIHRoaXMuaW5uZXJEZWNvID0gaW5uZXJEZWNvO1xuICAgICAgICB0aGlzLm5vZGVET00gPSBub2RlRE9NO1xuICAgICAgICBpZiAoY29udGVudERPTSlcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ2hpbGRyZW4odmlldywgcG9zKTtcbiAgICB9XG4gICAgLy8gQnkgZGVmYXVsdCwgYSBub2RlIGlzIHJlbmRlcmVkIHVzaW5nIHRoZSBgdG9ET01gIG1ldGhvZCBmcm9tIHRoZVxuICAgIC8vIG5vZGUgdHlwZSBzcGVjLiBCdXQgY2xpZW50IGNvZGUgY2FuIHVzZSB0aGUgYG5vZGVWaWV3c2Agc3BlYyB0b1xuICAgIC8vIHN1cHBseSBhIGN1c3RvbSBub2RlIHZpZXcsIHdoaWNoIGNhbiBpbmZsdWVuY2UgdmFyaW91cyBhc3BlY3RzIG9mXG4gICAgLy8gdGhlIHdheSB0aGUgbm9kZSB3b3Jrcy5cbiAgICAvL1xuICAgIC8vIChVc2luZyBzdWJjbGFzc2luZyBmb3IgdGhpcyB3YXMgaW50ZW50aW9uYWxseSBkZWNpZGVkIGFnYWluc3QsXG4gICAgLy8gc2luY2UgaXQnZCByZXF1aXJlIGV4cG9zaW5nIGEgd2hvbGUgc2xldyBvZiBmaW5pY2t5XG4gICAgLy8gaW1wbGVtZW50YXRpb24gZGV0YWlscyB0byB0aGUgdXNlciBjb2RlIHRoYXQgdGhleSBwcm9iYWJseSB3aWxsXG4gICAgLy8gbmV2ZXIgbmVlZC4pXG4gICAgc3RhdGljIGNyZWF0ZShwYXJlbnQsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3LCBwb3MpIHtcbiAgICAgICAgbGV0IGN1c3RvbSA9IHZpZXcubm9kZVZpZXdzW25vZGUudHlwZS5uYW1lXSwgZGVzY09iajtcbiAgICAgICAgbGV0IHNwZWMgPSBjdXN0b20gJiYgY3VzdG9tKG5vZGUsIHZpZXcsICgpID0+IHtcbiAgICAgICAgICAgIC8vIChUaGlzIGlzIGEgZnVuY3Rpb24gdGhhdCBhbGxvd3MgdGhlIGN1c3RvbSB2aWV3IHRvIGZpbmQgaXRzXG4gICAgICAgICAgICAvLyBvd24gcG9zaXRpb24pXG4gICAgICAgICAgICBpZiAoIWRlc2NPYmopXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvcztcbiAgICAgICAgICAgIGlmIChkZXNjT2JqLnBhcmVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVzY09iai5wYXJlbnQucG9zQmVmb3JlQ2hpbGQoZGVzY09iaik7XG4gICAgICAgIH0sIG91dGVyRGVjbywgaW5uZXJEZWNvKTtcbiAgICAgICAgbGV0IGRvbSA9IHNwZWMgJiYgc3BlYy5kb20sIGNvbnRlbnRET00gPSBzcGVjICYmIHNwZWMuY29udGVudERPTTtcbiAgICAgICAgaWYgKG5vZGUuaXNUZXh0KSB7XG4gICAgICAgICAgICBpZiAoIWRvbSlcbiAgICAgICAgICAgICAgICBkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShub2RlLnRleHQpO1xuICAgICAgICAgICAgZWxzZSBpZiAoZG9tLm5vZGVUeXBlICE9IDMpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUZXh0IG11c3QgYmUgcmVuZGVyZWQgYXMgYSBET00gdGV4dCBub2RlXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFkb20pIHtcbiAgICAgICAgICAgICh7IGRvbSwgY29udGVudERPTSB9ID0gRE9NU2VyaWFsaXplci5yZW5kZXJTcGVjKGRvY3VtZW50LCBub2RlLnR5cGUuc3BlYy50b0RPTShub2RlKSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29udGVudERPTSAmJiAhbm9kZS5pc1RleHQgJiYgZG9tLm5vZGVOYW1lICE9IFwiQlJcIikgeyAvLyBDaHJvbWUgZ2V0cyBjb25mdXNlZCBieSA8YnIgY29udGVudGVkaXRhYmxlPWZhbHNlPlxuICAgICAgICAgICAgaWYgKCFkb20uaGFzQXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKVxuICAgICAgICAgICAgICAgIGRvbS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCI7XG4gICAgICAgICAgICBpZiAobm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlKVxuICAgICAgICAgICAgICAgIGRvbS5kcmFnZ2FibGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBub2RlRE9NID0gZG9tO1xuICAgICAgICBkb20gPSBhcHBseU91dGVyRGVjbyhkb20sIG91dGVyRGVjbywgbm9kZSk7XG4gICAgICAgIGlmIChzcGVjKVxuICAgICAgICAgICAgcmV0dXJuIGRlc2NPYmogPSBuZXcgQ3VzdG9tTm9kZVZpZXdEZXNjKHBhcmVudCwgbm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgY29udGVudERPTSB8fCBudWxsLCBub2RlRE9NLCBzcGVjLCB2aWV3LCBwb3MgKyAxKTtcbiAgICAgICAgZWxzZSBpZiAobm9kZS5pc1RleHQpXG4gICAgICAgICAgICByZXR1cm4gbmV3IFRleHRWaWV3RGVzYyhwYXJlbnQsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIG5vZGVET00sIHZpZXcpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vZGVWaWV3RGVzYyhwYXJlbnQsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIGNvbnRlbnRET00gfHwgbnVsbCwgbm9kZURPTSwgdmlldywgcG9zICsgMSk7XG4gICAgfVxuICAgIHBhcnNlUnVsZSgpIHtcbiAgICAgICAgLy8gRXhwZXJpbWVudGFsIGtsdWRnZSB0byBhbGxvdyBvcHQtaW4gcmUtcGFyc2luZyBvZiBub2Rlc1xuICAgICAgICBpZiAodGhpcy5ub2RlLnR5cGUuc3BlYy5yZXBhcnNlSW5WaWV3KVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIC8vIEZJWE1FIHRoZSBhc3N1bXB0aW9uIHRoYXQgdGhpcyBjYW4gYWx3YXlzIHJldHVybiB0aGUgY3VycmVudFxuICAgICAgICAvLyBhdHRycyBtZWFucyB0aGF0IGlmIHRoZSB1c2VyIHNvbWVob3cgbWFuYWdlcyB0byBjaGFuZ2UgdGhlXG4gICAgICAgIC8vIGF0dHJzIGluIHRoZSBkb20sIHRoYXQgd29uJ3QgYmUgcGlja2VkIHVwLiBOb3QgZW50aXJlbHkgc3VyZVxuICAgICAgICAvLyB3aGV0aGVyIHRoaXMgaXMgYSBwcm9ibGVtXG4gICAgICAgIGxldCBydWxlID0geyBub2RlOiB0aGlzLm5vZGUudHlwZS5uYW1lLCBhdHRyczogdGhpcy5ub2RlLmF0dHJzIH07XG4gICAgICAgIGlmICh0aGlzLm5vZGUudHlwZS53aGl0ZXNwYWNlID09IFwicHJlXCIpXG4gICAgICAgICAgICBydWxlLnByZXNlcnZlV2hpdGVzcGFjZSA9IFwiZnVsbFwiO1xuICAgICAgICBpZiAoIXRoaXMuY29udGVudERPTSkge1xuICAgICAgICAgICAgcnVsZS5nZXRDb250ZW50ID0gKCkgPT4gdGhpcy5ub2RlLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIXRoaXMuY29udGVudExvc3QpIHtcbiAgICAgICAgICAgIHJ1bGUuY29udGVudEVsZW1lbnQgPSB0aGlzLmNvbnRlbnRET007XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBDaHJvbWUgbGlrZXMgdG8gcmFuZG9tbHkgcmVjcmVhdGUgcGFyZW50IG5vZGVzIHdoZW5cbiAgICAgICAgICAgIC8vIGJhY2tzcGFjaW5nIHRoaW5ncy4gV2hlbiB0aGF0IGhhcHBlbnMsIHRoaXMgdHJpZXMgdG8gZmluZCB0aGVcbiAgICAgICAgICAgIC8vIG5ldyBwYXJlbnQuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5jaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZG9tLmNvbnRhaW5zKGNoaWxkLmRvbS5wYXJlbnROb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBydWxlLmNvbnRlbnRFbGVtZW50ID0gY2hpbGQuZG9tLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghcnVsZS5jb250ZW50RWxlbWVudClcbiAgICAgICAgICAgICAgICBydWxlLmdldENvbnRlbnQgPSAoKSA9PiBGcmFnbWVudC5lbXB0eTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnVsZTtcbiAgICB9XG4gICAgbWF0Y2hlc05vZGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlydHkgPT0gTk9UX0RJUlRZICYmIG5vZGUuZXEodGhpcy5ub2RlKSAmJlxuICAgICAgICAgICAgc2FtZU91dGVyRGVjbyhvdXRlckRlY28sIHRoaXMub3V0ZXJEZWNvKSAmJiBpbm5lckRlY28uZXEodGhpcy5pbm5lckRlY28pO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHsgcmV0dXJuIHRoaXMubm9kZS5ub2RlU2l6ZTsgfVxuICAgIGdldCBib3JkZXIoKSB7IHJldHVybiB0aGlzLm5vZGUuaXNMZWFmID8gMCA6IDE7IH1cbiAgICAvLyBTeW5jcyBgdGhpcy5jaGlsZHJlbmAgdG8gbWF0Y2ggYHRoaXMubm9kZS5jb250ZW50YCBhbmQgdGhlIGxvY2FsXG4gICAgLy8gZGVjb3JhdGlvbnMsIHBvc3NpYmx5IGludHJvZHVjaW5nIG5lc3RpbmcgZm9yIG1hcmtzLiBUaGVuLCBpbiBhXG4gICAgLy8gc2VwYXJhdGUgc3RlcCwgc3luY3MgdGhlIERPTSBpbnNpZGUgYHRoaXMuY29udGVudERPTWAgdG9cbiAgICAvLyBgdGhpcy5jaGlsZHJlbmAuXG4gICAgdXBkYXRlQ2hpbGRyZW4odmlldywgcG9zKSB7XG4gICAgICAgIGxldCBpbmxpbmUgPSB0aGlzLm5vZGUuaW5saW5lQ29udGVudCwgb2ZmID0gcG9zO1xuICAgICAgICBsZXQgY29tcG9zaXRpb24gPSB2aWV3LmNvbXBvc2luZyA/IHRoaXMubG9jYWxDb21wb3NpdGlvbkluZm8odmlldywgcG9zKSA6IG51bGw7XG4gICAgICAgIGxldCBsb2NhbENvbXBvc2l0aW9uID0gY29tcG9zaXRpb24gJiYgY29tcG9zaXRpb24ucG9zID4gLTEgPyBjb21wb3NpdGlvbiA6IG51bGw7XG4gICAgICAgIGxldCBjb21wb3NpdGlvbkluQ2hpbGQgPSBjb21wb3NpdGlvbiAmJiBjb21wb3NpdGlvbi5wb3MgPCAwO1xuICAgICAgICBsZXQgdXBkYXRlciA9IG5ldyBWaWV3VHJlZVVwZGF0ZXIodGhpcywgbG9jYWxDb21wb3NpdGlvbiAmJiBsb2NhbENvbXBvc2l0aW9uLm5vZGUpO1xuICAgICAgICBpdGVyRGVjbyh0aGlzLm5vZGUsIHRoaXMuaW5uZXJEZWNvLCAod2lkZ2V0LCBpLCBpbnNpZGVOb2RlKSA9PiB7XG4gICAgICAgICAgICBpZiAod2lkZ2V0LnNwZWMubWFya3MpXG4gICAgICAgICAgICAgICAgdXBkYXRlci5zeW5jVG9NYXJrcyh3aWRnZXQuc3BlYy5tYXJrcywgaW5saW5lLCB2aWV3KTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHdpZGdldC50eXBlLnNpZGUgPj0gMCAmJiAhaW5zaWRlTm9kZSlcbiAgICAgICAgICAgICAgICB1cGRhdGVyLnN5bmNUb01hcmtzKGkgPT0gdGhpcy5ub2RlLmNoaWxkQ291bnQgPyBNYXJrLm5vbmUgOiB0aGlzLm5vZGUuY2hpbGQoaSkubWFya3MsIGlubGluZSwgdmlldyk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgbmV4dCBub2RlIGlzIGEgZGVzYyBtYXRjaGluZyB0aGlzIHdpZGdldCwgcmV1c2UgaXQsXG4gICAgICAgICAgICAvLyBvdGhlcndpc2UgaW5zZXJ0IHRoZSB3aWRnZXQgYXMgYSBuZXcgdmlldyBkZXNjLlxuICAgICAgICAgICAgdXBkYXRlci5wbGFjZVdpZGdldCh3aWRnZXQsIHZpZXcsIG9mZik7XG4gICAgICAgIH0sIChjaGlsZCwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGkpID0+IHtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgd3JhcHBpbmcgbWFyayBkZXNjcyBtYXRjaCB0aGUgbm9kZSdzIG1hcmtzLlxuICAgICAgICAgICAgdXBkYXRlci5zeW5jVG9NYXJrcyhjaGlsZC5tYXJrcywgaW5saW5lLCB2aWV3KTtcbiAgICAgICAgICAgIC8vIFRyeSBzZXZlcmFsIHN0cmF0ZWdpZXMgZm9yIGRyYXdpbmcgdGhpcyBub2RlXG4gICAgICAgICAgICBsZXQgY29tcEluZGV4O1xuICAgICAgICAgICAgaWYgKHVwZGF0ZXIuZmluZE5vZGVNYXRjaChjaGlsZCwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGkpKSA7XG4gICAgICAgICAgICBlbHNlIGlmIChjb21wb3NpdGlvbkluQ2hpbGQgJiYgdmlldy5zdGF0ZS5zZWxlY3Rpb24uZnJvbSA+IG9mZiAmJlxuICAgICAgICAgICAgICAgIHZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvIDwgb2ZmICsgY2hpbGQubm9kZVNpemUgJiZcbiAgICAgICAgICAgICAgICAoY29tcEluZGV4ID0gdXBkYXRlci5maW5kSW5kZXhXaXRoQ2hpbGQoY29tcG9zaXRpb24ubm9kZSkpID4gLTEgJiZcbiAgICAgICAgICAgICAgICB1cGRhdGVyLnVwZGF0ZU5vZGVBdChjaGlsZCwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGNvbXBJbmRleCwgdmlldykpIDtcbiAgICAgICAgICAgIGVsc2UgaWYgKHVwZGF0ZXIudXBkYXRlTmV4dE5vZGUoY2hpbGQsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3LCBpKSkgO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gQWRkIGl0IGFzIGEgbmV3IHZpZXdcbiAgICAgICAgICAgICAgICB1cGRhdGVyLmFkZE5vZGUoY2hpbGQsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3LCBvZmYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb2ZmICs9IGNoaWxkLm5vZGVTaXplO1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gRHJvcCBhbGwgcmVtYWluaW5nIGRlc2NzIGFmdGVyIHRoZSBjdXJyZW50IHBvc2l0aW9uLlxuICAgICAgICB1cGRhdGVyLnN5bmNUb01hcmtzKFtdLCBpbmxpbmUsIHZpZXcpO1xuICAgICAgICBpZiAodGhpcy5ub2RlLmlzVGV4dGJsb2NrKVxuICAgICAgICAgICAgdXBkYXRlci5hZGRUZXh0YmxvY2tIYWNrcygpO1xuICAgICAgICB1cGRhdGVyLmRlc3Ryb3lSZXN0KCk7XG4gICAgICAgIC8vIFN5bmMgdGhlIERPTSBpZiBhbnl0aGluZyBjaGFuZ2VkXG4gICAgICAgIGlmICh1cGRhdGVyLmNoYW5nZWQgfHwgdGhpcy5kaXJ0eSA9PSBDT05URU5UX0RJUlRZKSB7XG4gICAgICAgICAgICAvLyBNYXkgaGF2ZSB0byBwcm90ZWN0IGZvY3VzZWQgRE9NIGZyb20gYmVpbmcgY2hhbmdlZCBpZiBhIGNvbXBvc2l0aW9uIGlzIGFjdGl2ZVxuICAgICAgICAgICAgaWYgKGxvY2FsQ29tcG9zaXRpb24pXG4gICAgICAgICAgICAgICAgdGhpcy5wcm90ZWN0TG9jYWxDb21wb3NpdGlvbih2aWV3LCBsb2NhbENvbXBvc2l0aW9uKTtcbiAgICAgICAgICAgIHJlbmRlckRlc2NzKHRoaXMuY29udGVudERPTSwgdGhpcy5jaGlsZHJlbiwgdmlldyk7XG4gICAgICAgICAgICBpZiAoaW9zKVxuICAgICAgICAgICAgICAgIGlvc0hhY2tzKHRoaXMuZG9tKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsb2NhbENvbXBvc2l0aW9uSW5mbyh2aWV3LCBwb3MpIHtcbiAgICAgICAgLy8gT25seSBkbyBzb21ldGhpbmcgaWYgYm90aCB0aGUgc2VsZWN0aW9uIGFuZCBhIGZvY3VzZWQgdGV4dCBub2RlXG4gICAgICAgIC8vIGFyZSBpbnNpZGUgb2YgdGhpcyBub2RlXG4gICAgICAgIGxldCB7IGZyb20sIHRvIH0gPSB2aWV3LnN0YXRlLnNlbGVjdGlvbjtcbiAgICAgICAgaWYgKCEodmlldy5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uKSB8fCBmcm9tIDwgcG9zIHx8IHRvID4gcG9zICsgdGhpcy5ub2RlLmNvbnRlbnQuc2l6ZSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBsZXQgc2VsID0gdmlldy5kb21TZWxlY3Rpb24oKTtcbiAgICAgICAgbGV0IHRleHROb2RlID0gbmVhcmJ5VGV4dE5vZGUoc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KTtcbiAgICAgICAgaWYgKCF0ZXh0Tm9kZSB8fCAhdGhpcy5kb20uY29udGFpbnModGV4dE5vZGUucGFyZW50Tm9kZSkpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgaWYgKHRoaXMubm9kZS5pbmxpbmVDb250ZW50KSB7XG4gICAgICAgICAgICAvLyBGaW5kIHRoZSB0ZXh0IGluIHRoZSBmb2N1c2VkIG5vZGUgaW4gdGhlIG5vZGUsIHN0b3AgaWYgaXQncyBub3RcbiAgICAgICAgICAgIC8vIHRoZXJlIChtYXkgaGF2ZSBiZWVuIG1vZGlmaWVkIHRocm91Z2ggb3RoZXIgbWVhbnMsIGluIHdoaWNoXG4gICAgICAgICAgICAvLyBjYXNlIGl0IHNob3VsZCBvdmVyd3JpdHRlbilcbiAgICAgICAgICAgIGxldCB0ZXh0ID0gdGV4dE5vZGUubm9kZVZhbHVlO1xuICAgICAgICAgICAgbGV0IHRleHRQb3MgPSBmaW5kVGV4dEluRnJhZ21lbnQodGhpcy5ub2RlLmNvbnRlbnQsIHRleHQsIGZyb20gLSBwb3MsIHRvIC0gcG9zKTtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0UG9zIDwgMCA/IG51bGwgOiB7IG5vZGU6IHRleHROb2RlLCBwb3M6IHRleHRQb3MsIHRleHQgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IG5vZGU6IHRleHROb2RlLCBwb3M6IC0xLCB0ZXh0OiBcIlwiIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcHJvdGVjdExvY2FsQ29tcG9zaXRpb24odmlldywgeyBub2RlLCBwb3MsIHRleHQgfSkge1xuICAgICAgICAvLyBUaGUgbm9kZSBpcyBhbHJlYWR5IHBhcnQgb2YgYSBsb2NhbCB2aWV3IGRlc2MsIGxlYXZlIGl0IHRoZXJlXG4gICAgICAgIGlmICh0aGlzLmdldERlc2Mobm9kZSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIC8vIENyZWF0ZSBhIGNvbXBvc2l0aW9uIHZpZXcgZm9yIHRoZSBvcnBoYW5lZCBub2Rlc1xuICAgICAgICBsZXQgdG9wTm9kZSA9IG5vZGU7XG4gICAgICAgIGZvciAoOzsgdG9wTm9kZSA9IHRvcE5vZGUucGFyZW50Tm9kZSkge1xuICAgICAgICAgICAgaWYgKHRvcE5vZGUucGFyZW50Tm9kZSA9PSB0aGlzLmNvbnRlbnRET00pXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB3aGlsZSAodG9wTm9kZS5wcmV2aW91c1NpYmxpbmcpXG4gICAgICAgICAgICAgICAgdG9wTm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRvcE5vZGUucHJldmlvdXNTaWJsaW5nKTtcbiAgICAgICAgICAgIHdoaWxlICh0b3BOb2RlLm5leHRTaWJsaW5nKVxuICAgICAgICAgICAgICAgIHRvcE5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0b3BOb2RlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgIGlmICh0b3BOb2RlLnBtVmlld0Rlc2MpXG4gICAgICAgICAgICAgICAgdG9wTm9kZS5wbVZpZXdEZXNjID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGxldCBkZXNjID0gbmV3IENvbXBvc2l0aW9uVmlld0Rlc2ModGhpcywgdG9wTm9kZSwgbm9kZSwgdGV4dCk7XG4gICAgICAgIHZpZXcuaW5wdXQuY29tcG9zaXRpb25Ob2Rlcy5wdXNoKGRlc2MpO1xuICAgICAgICAvLyBQYXRjaCB1cCB0aGlzLmNoaWxkcmVuIHRvIGNvbnRhaW4gdGhlIGNvbXBvc2l0aW9uIHZpZXdcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IHJlcGxhY2VOb2Rlcyh0aGlzLmNoaWxkcmVuLCBwb3MsIHBvcyArIHRleHQubGVuZ3RoLCB2aWV3LCBkZXNjKTtcbiAgICB9XG4gICAgLy8gSWYgdGhpcyBkZXNjIG11c3QgYmUgdXBkYXRlZCB0byBtYXRjaCB0aGUgZ2l2ZW4gbm9kZSBkZWNvcmF0aW9uLFxuICAgIC8vIGRvIHNvIGFuZCByZXR1cm4gdHJ1ZS5cbiAgICB1cGRhdGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkgPT0gTk9ERV9ESVJUWSB8fFxuICAgICAgICAgICAgIW5vZGUuc2FtZU1hcmt1cCh0aGlzLm5vZGUpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLnVwZGF0ZUlubmVyKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3KTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHVwZGF0ZUlubmVyKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3KSB7XG4gICAgICAgIHRoaXMudXBkYXRlT3V0ZXJEZWNvKG91dGVyRGVjbyk7XG4gICAgICAgIHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIHRoaXMuaW5uZXJEZWNvID0gaW5uZXJEZWNvO1xuICAgICAgICBpZiAodGhpcy5jb250ZW50RE9NKVxuICAgICAgICAgICAgdGhpcy51cGRhdGVDaGlsZHJlbih2aWV3LCB0aGlzLnBvc0F0U3RhcnQpO1xuICAgICAgICB0aGlzLmRpcnR5ID0gTk9UX0RJUlRZO1xuICAgIH1cbiAgICB1cGRhdGVPdXRlckRlY28ob3V0ZXJEZWNvKSB7XG4gICAgICAgIGlmIChzYW1lT3V0ZXJEZWNvKG91dGVyRGVjbywgdGhpcy5vdXRlckRlY28pKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBsZXQgbmVlZHNXcmFwID0gdGhpcy5ub2RlRE9NLm5vZGVUeXBlICE9IDE7XG4gICAgICAgIGxldCBvbGRET00gPSB0aGlzLmRvbTtcbiAgICAgICAgdGhpcy5kb20gPSBwYXRjaE91dGVyRGVjbyh0aGlzLmRvbSwgdGhpcy5ub2RlRE9NLCBjb21wdXRlT3V0ZXJEZWNvKHRoaXMub3V0ZXJEZWNvLCB0aGlzLm5vZGUsIG5lZWRzV3JhcCksIGNvbXB1dGVPdXRlckRlY28ob3V0ZXJEZWNvLCB0aGlzLm5vZGUsIG5lZWRzV3JhcCkpO1xuICAgICAgICBpZiAodGhpcy5kb20gIT0gb2xkRE9NKSB7XG4gICAgICAgICAgICBvbGRET00ucG1WaWV3RGVzYyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuZG9tLnBtVmlld0Rlc2MgPSB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3V0ZXJEZWNvID0gb3V0ZXJEZWNvO1xuICAgIH1cbiAgICAvLyBNYXJrIHRoaXMgbm9kZSBhcyBiZWluZyB0aGUgc2VsZWN0ZWQgbm9kZS5cbiAgICBzZWxlY3ROb2RlKCkge1xuICAgICAgICBpZiAodGhpcy5ub2RlRE9NLm5vZGVUeXBlID09IDEpXG4gICAgICAgICAgICB0aGlzLm5vZGVET00uY2xhc3NMaXN0LmFkZChcIlByb3NlTWlycm9yLXNlbGVjdGVkbm9kZVwiKTtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudERPTSB8fCAhdGhpcy5ub2RlLnR5cGUuc3BlYy5kcmFnZ2FibGUpXG4gICAgICAgICAgICB0aGlzLmRvbS5kcmFnZ2FibGUgPSB0cnVlO1xuICAgIH1cbiAgICAvLyBSZW1vdmUgc2VsZWN0ZWQgbm9kZSBtYXJraW5nIGZyb20gdGhpcyBub2RlLlxuICAgIGRlc2VsZWN0Tm9kZSgpIHtcbiAgICAgICAgaWYgKHRoaXMubm9kZURPTS5ub2RlVHlwZSA9PSAxKVxuICAgICAgICAgICAgdGhpcy5ub2RlRE9NLmNsYXNzTGlzdC5yZW1vdmUoXCJQcm9zZU1pcnJvci1zZWxlY3RlZG5vZGVcIik7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnRET00gfHwgIXRoaXMubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlKVxuICAgICAgICAgICAgdGhpcy5kb20ucmVtb3ZlQXR0cmlidXRlKFwiZHJhZ2dhYmxlXCIpO1xuICAgIH1cbiAgICBnZXQgZG9tQXRvbSgpIHsgcmV0dXJuIHRoaXMubm9kZS5pc0F0b207IH1cbn1cbi8vIENyZWF0ZSBhIHZpZXcgZGVzYyBmb3IgdGhlIHRvcC1sZXZlbCBkb2N1bWVudCBub2RlLCB0byBiZSBleHBvcnRlZFxuLy8gYW5kIHVzZWQgYnkgdGhlIHZpZXcgY2xhc3MuXG5mdW5jdGlvbiBkb2NWaWV3RGVzYyhkb2MsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIHZpZXcpIHtcbiAgICBhcHBseU91dGVyRGVjbyhkb20sIG91dGVyRGVjbywgZG9jKTtcbiAgICByZXR1cm4gbmV3IE5vZGVWaWV3RGVzYyh1bmRlZmluZWQsIGRvYywgb3V0ZXJEZWNvLCBpbm5lckRlY28sIGRvbSwgZG9tLCBkb20sIHZpZXcsIDApO1xufVxuY2xhc3MgVGV4dFZpZXdEZXNjIGV4dGVuZHMgTm9kZVZpZXdEZXNjIHtcbiAgICBjb25zdHJ1Y3RvcihwYXJlbnQsIG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCBkb20sIG5vZGVET00sIHZpZXcpIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBudWxsLCBub2RlRE9NLCB2aWV3LCAwKTtcbiAgICB9XG4gICAgcGFyc2VSdWxlKCkge1xuICAgICAgICBsZXQgc2tpcCA9IHRoaXMubm9kZURPTS5wYXJlbnROb2RlO1xuICAgICAgICB3aGlsZSAoc2tpcCAmJiBza2lwICE9IHRoaXMuZG9tICYmICFza2lwLnBtSXNEZWNvKVxuICAgICAgICAgICAgc2tpcCA9IHNraXAucGFyZW50Tm9kZTtcbiAgICAgICAgcmV0dXJuIHsgc2tpcDogKHNraXAgfHwgdHJ1ZSkgfTtcbiAgICB9XG4gICAgdXBkYXRlKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3KSB7XG4gICAgICAgIGlmICh0aGlzLmRpcnR5ID09IE5PREVfRElSVFkgfHwgKHRoaXMuZGlydHkgIT0gTk9UX0RJUlRZICYmICF0aGlzLmluUGFyZW50KCkpIHx8XG4gICAgICAgICAgICAhbm9kZS5zYW1lTWFya3VwKHRoaXMubm9kZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHRoaXMudXBkYXRlT3V0ZXJEZWNvKG91dGVyRGVjbyk7XG4gICAgICAgIGlmICgodGhpcy5kaXJ0eSAhPSBOT1RfRElSVFkgfHwgbm9kZS50ZXh0ICE9IHRoaXMubm9kZS50ZXh0KSAmJiBub2RlLnRleHQgIT0gdGhpcy5ub2RlRE9NLm5vZGVWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5ub2RlRE9NLm5vZGVWYWx1ZSA9IG5vZGUudGV4dDtcbiAgICAgICAgICAgIGlmICh2aWV3LnRyYWNrV3JpdGVzID09IHRoaXMubm9kZURPTSlcbiAgICAgICAgICAgICAgICB2aWV3LnRyYWNrV3JpdGVzID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLmRpcnR5ID0gTk9UX0RJUlRZO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaW5QYXJlbnQoKSB7XG4gICAgICAgIGxldCBwYXJlbnRET00gPSB0aGlzLnBhcmVudC5jb250ZW50RE9NO1xuICAgICAgICBmb3IgKGxldCBuID0gdGhpcy5ub2RlRE9NOyBuOyBuID0gbi5wYXJlbnROb2RlKVxuICAgICAgICAgICAgaWYgKG4gPT0gcGFyZW50RE9NKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGRvbUZyb21Qb3MocG9zKSB7XG4gICAgICAgIHJldHVybiB7IG5vZGU6IHRoaXMubm9kZURPTSwgb2Zmc2V0OiBwb3MgfTtcbiAgICB9XG4gICAgbG9jYWxQb3NGcm9tRE9NKGRvbSwgb2Zmc2V0LCBiaWFzKSB7XG4gICAgICAgIGlmIChkb20gPT0gdGhpcy5ub2RlRE9NKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zQXRTdGFydCArIE1hdGgubWluKG9mZnNldCwgdGhpcy5ub2RlLnRleHQubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmxvY2FsUG9zRnJvbURPTShkb20sIG9mZnNldCwgYmlhcyk7XG4gICAgfVxuICAgIGlnbm9yZU11dGF0aW9uKG11dGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBtdXRhdGlvbi50eXBlICE9IFwiY2hhcmFjdGVyRGF0YVwiICYmIG11dGF0aW9uLnR5cGUgIT0gXCJzZWxlY3Rpb25cIjtcbiAgICB9XG4gICAgc2xpY2UoZnJvbSwgdG8sIHZpZXcpIHtcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLm5vZGUuY3V0KGZyb20sIHRvKSwgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobm9kZS50ZXh0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBUZXh0Vmlld0Rlc2ModGhpcy5wYXJlbnQsIG5vZGUsIHRoaXMub3V0ZXJEZWNvLCB0aGlzLmlubmVyRGVjbywgZG9tLCBkb20sIHZpZXcpO1xuICAgIH1cbiAgICBtYXJrRGlydHkoZnJvbSwgdG8pIHtcbiAgICAgICAgc3VwZXIubWFya0RpcnR5KGZyb20sIHRvKTtcbiAgICAgICAgaWYgKHRoaXMuZG9tICE9IHRoaXMubm9kZURPTSAmJiAoZnJvbSA9PSAwIHx8IHRvID09IHRoaXMubm9kZURPTS5ub2RlVmFsdWUubGVuZ3RoKSlcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBOT0RFX0RJUlRZO1xuICAgIH1cbiAgICBnZXQgZG9tQXRvbSgpIHsgcmV0dXJuIGZhbHNlOyB9XG59XG4vLyBBIGR1bW15IGRlc2MgdXNlZCB0byB0YWcgdHJhaWxpbmcgQlIgb3IgSU1HIG5vZGVzIGNyZWF0ZWQgdG8gd29ya1xuLy8gYXJvdW5kIGNvbnRlbnRFZGl0YWJsZSB0ZXJyaWJsZW5lc3MuXG5jbGFzcyBUcmFpbGluZ0hhY2tWaWV3RGVzYyBleHRlbmRzIFZpZXdEZXNjIHtcbiAgICBwYXJzZVJ1bGUoKSB7IHJldHVybiB7IGlnbm9yZTogdHJ1ZSB9OyB9XG4gICAgbWF0Y2hlc0hhY2sobm9kZU5hbWUpIHsgcmV0dXJuIHRoaXMuZGlydHkgPT0gTk9UX0RJUlRZICYmIHRoaXMuZG9tLm5vZGVOYW1lID09IG5vZGVOYW1lOyB9XG4gICAgZ2V0IGRvbUF0b20oKSB7IHJldHVybiB0cnVlOyB9XG4gICAgZ2V0IGlnbm9yZUZvckNvb3JkcygpIHsgcmV0dXJuIHRoaXMuZG9tLm5vZGVOYW1lID09IFwiSU1HXCI7IH1cbn1cbi8vIEEgc2VwYXJhdGUgc3ViY2xhc3MgaXMgdXNlZCBmb3IgY3VzdG9taXplZCBub2RlIHZpZXdzLCBzbyB0aGF0IHRoZVxuLy8gZXh0cmEgY2hlY2tzIG9ubHkgaGF2ZSB0byBiZSBtYWRlIGZvciBub2RlcyB0aGF0IGFyZSBhY3R1YWxseVxuLy8gY3VzdG9taXplZC5cbmNsYXNzIEN1c3RvbU5vZGVWaWV3RGVzYyBleHRlbmRzIE5vZGVWaWV3RGVzYyB7XG4gICAgY29uc3RydWN0b3IocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBjb250ZW50RE9NLCBub2RlRE9NLCBzcGVjLCB2aWV3LCBwb3MpIHtcbiAgICAgICAgc3VwZXIocGFyZW50LCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgZG9tLCBjb250ZW50RE9NLCBub2RlRE9NLCB2aWV3LCBwb3MpO1xuICAgICAgICB0aGlzLnNwZWMgPSBzcGVjO1xuICAgIH1cbiAgICAvLyBBIGN1c3RvbSBgdXBkYXRlYCBtZXRob2QgZ2V0cyB0byBkZWNpZGUgd2hldGhlciB0aGUgdXBkYXRlIGdvZXNcbiAgICAvLyB0aHJvdWdoLiBJZiBpdCBkb2VzLCBhbmQgdGhlcmUncyBhIGBjb250ZW50RE9NYCBub2RlLCBvdXIgbG9naWNcbiAgICAvLyB1cGRhdGVzIHRoZSBjaGlsZHJlbi5cbiAgICB1cGRhdGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcpIHtcbiAgICAgICAgaWYgKHRoaXMuZGlydHkgPT0gTk9ERV9ESVJUWSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMuc3BlYy51cGRhdGUpIHtcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSB0aGlzLnNwZWMudXBkYXRlKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQpXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVJbm5lcihub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLmNvbnRlbnRET00gJiYgIW5vZGUuaXNMZWFmKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gc3VwZXIudXBkYXRlKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZWxlY3ROb2RlKCkge1xuICAgICAgICB0aGlzLnNwZWMuc2VsZWN0Tm9kZSA/IHRoaXMuc3BlYy5zZWxlY3ROb2RlKCkgOiBzdXBlci5zZWxlY3ROb2RlKCk7XG4gICAgfVxuICAgIGRlc2VsZWN0Tm9kZSgpIHtcbiAgICAgICAgdGhpcy5zcGVjLmRlc2VsZWN0Tm9kZSA/IHRoaXMuc3BlYy5kZXNlbGVjdE5vZGUoKSA6IHN1cGVyLmRlc2VsZWN0Tm9kZSgpO1xuICAgIH1cbiAgICBzZXRTZWxlY3Rpb24oYW5jaG9yLCBoZWFkLCByb290LCBmb3JjZSkge1xuICAgICAgICB0aGlzLnNwZWMuc2V0U2VsZWN0aW9uID8gdGhpcy5zcGVjLnNldFNlbGVjdGlvbihhbmNob3IsIGhlYWQsIHJvb3QpXG4gICAgICAgICAgICA6IHN1cGVyLnNldFNlbGVjdGlvbihhbmNob3IsIGhlYWQsIHJvb3QsIGZvcmNlKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc3BlYy5kZXN0cm95KVxuICAgICAgICAgICAgdGhpcy5zcGVjLmRlc3Ryb3koKTtcbiAgICAgICAgc3VwZXIuZGVzdHJveSgpO1xuICAgIH1cbiAgICBzdG9wRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BlYy5zdG9wRXZlbnQgPyB0aGlzLnNwZWMuc3RvcEV2ZW50KGV2ZW50KSA6IGZhbHNlO1xuICAgIH1cbiAgICBpZ25vcmVNdXRhdGlvbihtdXRhdGlvbikge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGVjLmlnbm9yZU11dGF0aW9uID8gdGhpcy5zcGVjLmlnbm9yZU11dGF0aW9uKG11dGF0aW9uKSA6IHN1cGVyLmlnbm9yZU11dGF0aW9uKG11dGF0aW9uKTtcbiAgICB9XG59XG4vLyBTeW5jIHRoZSBjb250ZW50IG9mIHRoZSBnaXZlbiBET00gbm9kZSB3aXRoIHRoZSBub2RlcyBhc3NvY2lhdGVkXG4vLyB3aXRoIHRoZSBnaXZlbiBhcnJheSBvZiB2aWV3IGRlc2NzLCByZWN1cnNpbmcgaW50byBtYXJrIGRlc2NzXG4vLyBiZWNhdXNlIHRoaXMgc2hvdWxkIHN5bmMgdGhlIHN1YnRyZWUgZm9yIGEgd2hvbGUgbm9kZSBhdCBhIHRpbWUuXG5mdW5jdGlvbiByZW5kZXJEZXNjcyhwYXJlbnRET00sIGRlc2NzLCB2aWV3KSB7XG4gICAgbGV0IGRvbSA9IHBhcmVudERPTS5maXJzdENoaWxkLCB3cml0dGVuID0gZmFsc2U7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkZXNjcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgZGVzYyA9IGRlc2NzW2ldLCBjaGlsZERPTSA9IGRlc2MuZG9tO1xuICAgICAgICBpZiAoY2hpbGRET00ucGFyZW50Tm9kZSA9PSBwYXJlbnRET00pIHtcbiAgICAgICAgICAgIHdoaWxlIChjaGlsZERPTSAhPSBkb20pIHtcbiAgICAgICAgICAgICAgICBkb20gPSBybShkb20pO1xuICAgICAgICAgICAgICAgIHdyaXR0ZW4gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9tID0gZG9tLm5leHRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd3JpdHRlbiA9IHRydWU7XG4gICAgICAgICAgICBwYXJlbnRET00uaW5zZXJ0QmVmb3JlKGNoaWxkRE9NLCBkb20pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkZXNjIGluc3RhbmNlb2YgTWFya1ZpZXdEZXNjKSB7XG4gICAgICAgICAgICBsZXQgcG9zID0gZG9tID8gZG9tLnByZXZpb3VzU2libGluZyA6IHBhcmVudERPTS5sYXN0Q2hpbGQ7XG4gICAgICAgICAgICByZW5kZXJEZXNjcyhkZXNjLmNvbnRlbnRET00sIGRlc2MuY2hpbGRyZW4sIHZpZXcpO1xuICAgICAgICAgICAgZG9tID0gcG9zID8gcG9zLm5leHRTaWJsaW5nIDogcGFyZW50RE9NLmZpcnN0Q2hpbGQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd2hpbGUgKGRvbSkge1xuICAgICAgICBkb20gPSBybShkb20pO1xuICAgICAgICB3cml0dGVuID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKHdyaXR0ZW4gJiYgdmlldy50cmFja1dyaXRlcyA9PSBwYXJlbnRET00pXG4gICAgICAgIHZpZXcudHJhY2tXcml0ZXMgPSBudWxsO1xufVxuY29uc3QgT3V0ZXJEZWNvTGV2ZWwgPSBmdW5jdGlvbiAobm9kZU5hbWUpIHtcbiAgICBpZiAobm9kZU5hbWUpXG4gICAgICAgIHRoaXMubm9kZU5hbWUgPSBub2RlTmFtZTtcbn07XG5PdXRlckRlY29MZXZlbC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuY29uc3Qgbm9EZWNvID0gW25ldyBPdXRlckRlY29MZXZlbF07XG5mdW5jdGlvbiBjb21wdXRlT3V0ZXJEZWNvKG91dGVyRGVjbywgbm9kZSwgbmVlZHNXcmFwKSB7XG4gICAgaWYgKG91dGVyRGVjby5sZW5ndGggPT0gMClcbiAgICAgICAgcmV0dXJuIG5vRGVjbztcbiAgICBsZXQgdG9wID0gbmVlZHNXcmFwID8gbm9EZWNvWzBdIDogbmV3IE91dGVyRGVjb0xldmVsLCByZXN1bHQgPSBbdG9wXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG91dGVyRGVjby5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgYXR0cnMgPSBvdXRlckRlY29baV0udHlwZS5hdHRycztcbiAgICAgICAgaWYgKCFhdHRycylcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBpZiAoYXR0cnMubm9kZU5hbWUpXG4gICAgICAgICAgICByZXN1bHQucHVzaCh0b3AgPSBuZXcgT3V0ZXJEZWNvTGV2ZWwoYXR0cnMubm9kZU5hbWUpKTtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBhdHRycykge1xuICAgICAgICAgICAgbGV0IHZhbCA9IGF0dHJzW25hbWVdO1xuICAgICAgICAgICAgaWYgKHZhbCA9PSBudWxsKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKG5lZWRzV3JhcCAmJiByZXN1bHQubGVuZ3RoID09IDEpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2godG9wID0gbmV3IE91dGVyRGVjb0xldmVsKG5vZGUuaXNJbmxpbmUgPyBcInNwYW5cIiA6IFwiZGl2XCIpKTtcbiAgICAgICAgICAgIGlmIChuYW1lID09IFwiY2xhc3NcIilcbiAgICAgICAgICAgICAgICB0b3AuY2xhc3MgPSAodG9wLmNsYXNzID8gdG9wLmNsYXNzICsgXCIgXCIgOiBcIlwiKSArIHZhbDtcbiAgICAgICAgICAgIGVsc2UgaWYgKG5hbWUgPT0gXCJzdHlsZVwiKVxuICAgICAgICAgICAgICAgIHRvcC5zdHlsZSA9ICh0b3Auc3R5bGUgPyB0b3Auc3R5bGUgKyBcIjtcIiA6IFwiXCIpICsgdmFsO1xuICAgICAgICAgICAgZWxzZSBpZiAobmFtZSAhPSBcIm5vZGVOYW1lXCIpXG4gICAgICAgICAgICAgICAgdG9wW25hbWVdID0gdmFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBwYXRjaE91dGVyRGVjbyhvdXRlckRPTSwgbm9kZURPTSwgcHJldkNvbXB1dGVkLCBjdXJDb21wdXRlZCkge1xuICAgIC8vIFNob3J0Y3V0IGZvciB0cml2aWFsIGNhc2VcbiAgICBpZiAocHJldkNvbXB1dGVkID09IG5vRGVjbyAmJiBjdXJDb21wdXRlZCA9PSBub0RlY28pXG4gICAgICAgIHJldHVybiBub2RlRE9NO1xuICAgIGxldCBjdXJET00gPSBub2RlRE9NO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VyQ29tcHV0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGRlY28gPSBjdXJDb21wdXRlZFtpXSwgcHJldiA9IHByZXZDb21wdXRlZFtpXTtcbiAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnQ7XG4gICAgICAgICAgICBpZiAocHJldiAmJiBwcmV2Lm5vZGVOYW1lID09IGRlY28ubm9kZU5hbWUgJiYgY3VyRE9NICE9IG91dGVyRE9NICYmXG4gICAgICAgICAgICAgICAgKHBhcmVudCA9IGN1ckRPTS5wYXJlbnROb2RlKSAmJiBwYXJlbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSBkZWNvLm5vZGVOYW1lKSB7XG4gICAgICAgICAgICAgICAgY3VyRE9NID0gcGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChkZWNvLm5vZGVOYW1lKTtcbiAgICAgICAgICAgICAgICBwYXJlbnQucG1Jc0RlY28gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChjdXJET00pO1xuICAgICAgICAgICAgICAgIHByZXYgPSBub0RlY29bMF07XG4gICAgICAgICAgICAgICAgY3VyRE9NID0gcGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBhdGNoQXR0cmlidXRlcyhjdXJET00sIHByZXYgfHwgbm9EZWNvWzBdLCBkZWNvKTtcbiAgICB9XG4gICAgcmV0dXJuIGN1ckRPTTtcbn1cbmZ1bmN0aW9uIHBhdGNoQXR0cmlidXRlcyhkb20sIHByZXYsIGN1cikge1xuICAgIGZvciAobGV0IG5hbWUgaW4gcHJldilcbiAgICAgICAgaWYgKG5hbWUgIT0gXCJjbGFzc1wiICYmIG5hbWUgIT0gXCJzdHlsZVwiICYmIG5hbWUgIT0gXCJub2RlTmFtZVwiICYmICEobmFtZSBpbiBjdXIpKVxuICAgICAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcbiAgICBmb3IgKGxldCBuYW1lIGluIGN1cilcbiAgICAgICAgaWYgKG5hbWUgIT0gXCJjbGFzc1wiICYmIG5hbWUgIT0gXCJzdHlsZVwiICYmIG5hbWUgIT0gXCJub2RlTmFtZVwiICYmIGN1cltuYW1lXSAhPSBwcmV2W25hbWVdKVxuICAgICAgICAgICAgZG9tLnNldEF0dHJpYnV0ZShuYW1lLCBjdXJbbmFtZV0pO1xuICAgIGlmIChwcmV2LmNsYXNzICE9IGN1ci5jbGFzcykge1xuICAgICAgICBsZXQgcHJldkxpc3QgPSBwcmV2LmNsYXNzID8gcHJldi5jbGFzcy5zcGxpdChcIiBcIikuZmlsdGVyKEJvb2xlYW4pIDogW107XG4gICAgICAgIGxldCBjdXJMaXN0ID0gY3VyLmNsYXNzID8gY3VyLmNsYXNzLnNwbGl0KFwiIFwiKS5maWx0ZXIoQm9vbGVhbikgOiBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2TGlzdC5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmIChjdXJMaXN0LmluZGV4T2YocHJldkxpc3RbaV0pID09IC0xKVxuICAgICAgICAgICAgICAgIGRvbS5jbGFzc0xpc3QucmVtb3ZlKHByZXZMaXN0W2ldKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjdXJMaXN0Lmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgaWYgKHByZXZMaXN0LmluZGV4T2YoY3VyTGlzdFtpXSkgPT0gLTEpXG4gICAgICAgICAgICAgICAgZG9tLmNsYXNzTGlzdC5hZGQoY3VyTGlzdFtpXSk7XG4gICAgICAgIGlmIChkb20uY2xhc3NMaXN0Lmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgZG9tLnJlbW92ZUF0dHJpYnV0ZShcImNsYXNzXCIpO1xuICAgIH1cbiAgICBpZiAocHJldi5zdHlsZSAhPSBjdXIuc3R5bGUpIHtcbiAgICAgICAgaWYgKHByZXYuc3R5bGUpIHtcbiAgICAgICAgICAgIGxldCBwcm9wID0gL1xccyooW1xcd1xcLVxceGExLVxcdWZmZmZdKylcXHMqOig/OlwiKD86XFxcXC58W15cIl0pKlwifCcoPzpcXFxcLnxbXiddKSonfFxcKC4qP1xcKXxbXjtdKSovZywgbTtcbiAgICAgICAgICAgIHdoaWxlIChtID0gcHJvcC5leGVjKHByZXYuc3R5bGUpKVxuICAgICAgICAgICAgICAgIGRvbS5zdHlsZS5yZW1vdmVQcm9wZXJ0eShtWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VyLnN0eWxlKVxuICAgICAgICAgICAgZG9tLnN0eWxlLmNzc1RleHQgKz0gY3VyLnN0eWxlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFwcGx5T3V0ZXJEZWNvKGRvbSwgZGVjbywgbm9kZSkge1xuICAgIHJldHVybiBwYXRjaE91dGVyRGVjbyhkb20sIGRvbSwgbm9EZWNvLCBjb21wdXRlT3V0ZXJEZWNvKGRlY28sIG5vZGUsIGRvbS5ub2RlVHlwZSAhPSAxKSk7XG59XG5mdW5jdGlvbiBzYW1lT3V0ZXJEZWNvKGEsIGIpIHtcbiAgICBpZiAoYS5sZW5ndGggIT0gYi5sZW5ndGgpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGEubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmICghYVtpXS50eXBlLmVxKGJbaV0udHlwZSkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyBSZW1vdmUgYSBET00gbm9kZSBhbmQgcmV0dXJuIGl0cyBuZXh0IHNpYmxpbmcuXG5mdW5jdGlvbiBybShkb20pIHtcbiAgICBsZXQgbmV4dCA9IGRvbS5uZXh0U2libGluZztcbiAgICBkb20ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChkb20pO1xuICAgIHJldHVybiBuZXh0O1xufVxuLy8gSGVscGVyIGNsYXNzIGZvciBpbmNyZW1lbnRhbGx5IHVwZGF0aW5nIGEgdHJlZSBvZiBtYXJrIGRlc2NzIGFuZFxuLy8gdGhlIHdpZGdldCBhbmQgbm9kZSBkZXNjcyBpbnNpZGUgb2YgdGhlbS5cbmNsYXNzIFZpZXdUcmVlVXBkYXRlciB7XG4gICAgY29uc3RydWN0b3IodG9wLCBsb2NrKSB7XG4gICAgICAgIHRoaXMubG9jayA9IGxvY2s7XG4gICAgICAgIC8vIEluZGV4IGludG8gYHRoaXMudG9wYCdzIGNoaWxkIGFycmF5LCByZXByZXNlbnRzIHRoZSBjdXJyZW50XG4gICAgICAgIC8vIHVwZGF0ZSBwb3NpdGlvbi5cbiAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIC8vIFdoZW4gZW50ZXJpbmcgYSBtYXJrLCB0aGUgY3VycmVudCB0b3AgYW5kIGluZGV4IGFyZSBwdXNoZWRcbiAgICAgICAgLy8gb250byB0aGlzLlxuICAgICAgICB0aGlzLnN0YWNrID0gW107XG4gICAgICAgIC8vIFRyYWNrcyB3aGV0aGVyIGFueXRoaW5nIHdhcyBjaGFuZ2VkXG4gICAgICAgIHRoaXMuY2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnRvcCA9IHRvcDtcbiAgICAgICAgdGhpcy5wcmVNYXRjaCA9IHByZU1hdGNoKHRvcC5ub2RlLmNvbnRlbnQsIHRvcCk7XG4gICAgfVxuICAgIC8vIERlc3Ryb3kgYW5kIHJlbW92ZSB0aGUgY2hpbGRyZW4gYmV0d2VlbiB0aGUgZ2l2ZW4gaW5kaWNlcyBpblxuICAgIC8vIGB0aGlzLnRvcGAuXG4gICAgZGVzdHJveUJldHdlZW4oc3RhcnQsIGVuZCkge1xuICAgICAgICBpZiAoc3RhcnQgPT0gZW5kKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPCBlbmQ7IGkrKylcbiAgICAgICAgICAgIHRoaXMudG9wLmNoaWxkcmVuW2ldLmRlc3Ryb3koKTtcbiAgICAgICAgdGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHN0YXJ0LCBlbmQgLSBzdGFydCk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuICAgIC8vIERlc3Ryb3kgYWxsIHJlbWFpbmluZyBjaGlsZHJlbiBpbiBgdGhpcy50b3BgLlxuICAgIGRlc3Ryb3lSZXN0KCkge1xuICAgICAgICB0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsIHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCk7XG4gICAgfVxuICAgIC8vIFN5bmMgdGhlIGN1cnJlbnQgc3RhY2sgb2YgbWFyayBkZXNjcyB3aXRoIHRoZSBnaXZlbiBhcnJheSBvZlxuICAgIC8vIG1hcmtzLCByZXVzaW5nIGV4aXN0aW5nIG1hcmsgZGVzY3Mgd2hlbiBwb3NzaWJsZS5cbiAgICBzeW5jVG9NYXJrcyhtYXJrcywgaW5saW5lLCB2aWV3KSB7XG4gICAgICAgIGxldCBrZWVwID0gMCwgZGVwdGggPSB0aGlzLnN0YWNrLmxlbmd0aCA+PiAxO1xuICAgICAgICBsZXQgbWF4S2VlcCA9IE1hdGgubWluKGRlcHRoLCBtYXJrcy5sZW5ndGgpO1xuICAgICAgICB3aGlsZSAoa2VlcCA8IG1heEtlZXAgJiZcbiAgICAgICAgICAgIChrZWVwID09IGRlcHRoIC0gMSA/IHRoaXMudG9wIDogdGhpcy5zdGFja1soa2VlcCArIDEpIDw8IDFdKVxuICAgICAgICAgICAgICAgIC5tYXRjaGVzTWFyayhtYXJrc1trZWVwXSkgJiYgbWFya3Nba2VlcF0udHlwZS5zcGVjLnNwYW5uaW5nICE9PSBmYWxzZSlcbiAgICAgICAgICAgIGtlZXArKztcbiAgICAgICAgd2hpbGUgKGtlZXAgPCBkZXB0aCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95UmVzdCgpO1xuICAgICAgICAgICAgdGhpcy50b3AuZGlydHkgPSBOT1RfRElSVFk7XG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gdGhpcy5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHRoaXMudG9wID0gdGhpcy5zdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGRlcHRoLS07XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKGRlcHRoIDwgbWFya3MubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnN0YWNrLnB1c2godGhpcy50b3AsIHRoaXMuaW5kZXggKyAxKTtcbiAgICAgICAgICAgIGxldCBmb3VuZCA9IC0xO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuaW5kZXg7IGkgPCBNYXRoLm1pbih0aGlzLmluZGV4ICsgMywgdGhpcy50b3AuY2hpbGRyZW4ubGVuZ3RoKTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudG9wLmNoaWxkcmVuW2ldLm1hdGNoZXNNYXJrKG1hcmtzW2RlcHRoXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZm91bmQgPiAtMSkge1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZCA+IHRoaXMuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LCBmb3VuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudG9wID0gdGhpcy50b3AuY2hpbGRyZW5bdGhpcy5pbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBsZXQgbWFya0Rlc2MgPSBNYXJrVmlld0Rlc2MuY3JlYXRlKHRoaXMudG9wLCBtYXJrc1tkZXB0aF0sIGlubGluZSwgdmlldyk7XG4gICAgICAgICAgICAgICAgdGhpcy50b3AuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgsIDAsIG1hcmtEZXNjKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvcCA9IG1hcmtEZXNjO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgICAgICAgIGRlcHRoKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gVHJ5IHRvIGZpbmQgYSBub2RlIGRlc2MgbWF0Y2hpbmcgdGhlIGdpdmVuIGRhdGEuIFNraXAgb3ZlciBpdCBhbmRcbiAgICAvLyByZXR1cm4gdHJ1ZSB3aGVuIHN1Y2Nlc3NmdWwuXG4gICAgZmluZE5vZGVNYXRjaChub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgaW5kZXgpIHtcbiAgICAgICAgbGV0IGZvdW5kID0gLTEsIHRhcmdldERlc2M7XG4gICAgICAgIGlmIChpbmRleCA+PSB0aGlzLnByZU1hdGNoLmluZGV4ICYmXG4gICAgICAgICAgICAodGFyZ2V0RGVzYyA9IHRoaXMucHJlTWF0Y2gubWF0Y2hlc1tpbmRleCAtIHRoaXMucHJlTWF0Y2guaW5kZXhdKS5wYXJlbnQgPT0gdGhpcy50b3AgJiZcbiAgICAgICAgICAgIHRhcmdldERlc2MubWF0Y2hlc05vZGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28pKSB7XG4gICAgICAgICAgICBmb3VuZCA9IHRoaXMudG9wLmNoaWxkcmVuLmluZGV4T2YodGFyZ2V0RGVzYywgdGhpcy5pbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5pbmRleCwgZSA9IE1hdGgubWluKHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCwgaSArIDUpOyBpIDwgZTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNoaWxkID0gdGhpcy50b3AuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLm1hdGNoZXNOb2RlKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvKSAmJiAhdGhpcy5wcmVNYXRjaC5tYXRjaGVkLmhhcyhjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSBpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZvdW5kIDwgMClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgdGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LCBmb3VuZCk7XG4gICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHVwZGF0ZU5vZGVBdChub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgaW5kZXgsIHZpZXcpIHtcbiAgICAgICAgbGV0IGNoaWxkID0gdGhpcy50b3AuY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICBpZiAoY2hpbGQuZGlydHkgPT0gTk9ERV9ESVJUWSAmJiBjaGlsZC5kb20gPT0gY2hpbGQuY29udGVudERPTSlcbiAgICAgICAgICAgIGNoaWxkLmRpcnR5ID0gQ09OVEVOVF9ESVJUWTtcbiAgICAgICAgaWYgKCFjaGlsZC51cGRhdGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB0aGlzLmRlc3Ryb3lCZXR3ZWVuKHRoaXMuaW5kZXgsIGluZGV4KTtcbiAgICAgICAgdGhpcy5pbmRleCA9IGluZGV4ICsgMTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGZpbmRJbmRleFdpdGhDaGlsZChkb21Ob2RlKSB7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGxldCBwYXJlbnQgPSBkb21Ob2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICBpZiAoIXBhcmVudClcbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICBpZiAocGFyZW50ID09IHRoaXMudG9wLmNvbnRlbnRET00pIHtcbiAgICAgICAgICAgICAgICBsZXQgZGVzYyA9IGRvbU5vZGUucG1WaWV3RGVzYztcbiAgICAgICAgICAgICAgICBpZiAoZGVzYylcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuaW5kZXg7IGkgPCB0aGlzLnRvcC5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudG9wLmNoaWxkcmVuW2ldID09IGRlc2MpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkb21Ob2RlID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFRyeSB0byB1cGRhdGUgdGhlIG5leHQgbm9kZSwgaWYgYW55LCB0byB0aGUgZ2l2ZW4gZGF0YS4gQ2hlY2tzXG4gICAgLy8gcHJlLW1hdGNoZXMgdG8gYXZvaWQgb3ZlcndyaXRpbmcgbm9kZXMgdGhhdCBjb3VsZCBzdGlsbCBiZSB1c2VkLlxuICAgIHVwZGF0ZU5leHROb2RlKG5vZGUsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB2aWV3LCBpbmRleCkge1xuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5pbmRleDsgaSA8IHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IHRoaXMudG9wLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgaWYgKG5leHQgaW5zdGFuY2VvZiBOb2RlVmlld0Rlc2MpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJlTWF0Y2ggPSB0aGlzLnByZU1hdGNoLm1hdGNoZWQuZ2V0KG5leHQpO1xuICAgICAgICAgICAgICAgIGlmIChwcmVNYXRjaCAhPSBudWxsICYmIHByZU1hdGNoICE9IGluZGV4KVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgbGV0IG5leHRET00gPSBuZXh0LmRvbTtcbiAgICAgICAgICAgICAgICAvLyBDYW4ndCB1cGRhdGUgaWYgbmV4dERPTSBpcyBvciBjb250YWlucyB0aGlzLmxvY2ssIGV4Y2VwdCBpZlxuICAgICAgICAgICAgICAgIC8vIGl0J3MgYSB0ZXh0IG5vZGUgd2hvc2UgY29udGVudCBhbHJlYWR5IG1hdGNoZXMgdGhlIG5ldyB0ZXh0XG4gICAgICAgICAgICAgICAgLy8gYW5kIHdob3NlIGRlY29yYXRpb25zIG1hdGNoIHRoZSBuZXcgb25lcy5cbiAgICAgICAgICAgICAgICBsZXQgbG9ja2VkID0gdGhpcy5sb2NrICYmIChuZXh0RE9NID09IHRoaXMubG9jayB8fCBuZXh0RE9NLm5vZGVUeXBlID09IDEgJiYgbmV4dERPTS5jb250YWlucyh0aGlzLmxvY2sucGFyZW50Tm9kZSkpICYmXG4gICAgICAgICAgICAgICAgICAgICEobm9kZS5pc1RleHQgJiYgbmV4dC5ub2RlICYmIG5leHQubm9kZS5pc1RleHQgJiYgbmV4dC5ub2RlRE9NLm5vZGVWYWx1ZSA9PSBub2RlLnRleHQgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQuZGlydHkgIT0gTk9ERV9ESVJUWSAmJiBzYW1lT3V0ZXJEZWNvKG91dGVyRGVjbywgbmV4dC5vdXRlckRlY28pKTtcbiAgICAgICAgICAgICAgICBpZiAoIWxvY2tlZCAmJiBuZXh0LnVwZGF0ZShub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXN0cm95QmV0d2Vlbih0aGlzLmluZGV4LCBpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQuZG9tICE9IG5leHRET00pXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZGV4Kys7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIEluc2VydCB0aGUgbm9kZSBhcyBhIG5ld2x5IGNyZWF0ZWQgbm9kZSBkZXNjLlxuICAgIGFkZE5vZGUobm9kZSwgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHZpZXcsIHBvcykge1xuICAgICAgICB0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLCAwLCBOb2RlVmlld0Rlc2MuY3JlYXRlKHRoaXMudG9wLCBub2RlLCBvdXRlckRlY28sIGlubmVyRGVjbywgdmlldywgcG9zKSk7XG4gICAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWU7XG4gICAgfVxuICAgIHBsYWNlV2lkZ2V0KHdpZGdldCwgdmlldywgcG9zKSB7XG4gICAgICAgIGxldCBuZXh0ID0gdGhpcy5pbmRleCA8IHRoaXMudG9wLmNoaWxkcmVuLmxlbmd0aCA/IHRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXhdIDogbnVsbDtcbiAgICAgICAgaWYgKG5leHQgJiYgbmV4dC5tYXRjaGVzV2lkZ2V0KHdpZGdldCkgJiZcbiAgICAgICAgICAgICh3aWRnZXQgPT0gbmV4dC53aWRnZXQgfHwgIW5leHQud2lkZ2V0LnR5cGUudG9ET00ucGFyZW50Tm9kZSkpIHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkZXNjID0gbmV3IFdpZGdldFZpZXdEZXNjKHRoaXMudG9wLCB3aWRnZXQsIHZpZXcsIHBvcyk7XG4gICAgICAgICAgICB0aGlzLnRvcC5jaGlsZHJlbi5zcGxpY2UodGhpcy5pbmRleCsrLCAwLCBkZXNjKTtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTWFrZSBzdXJlIGEgdGV4dGJsb2NrIGxvb2tzIGFuZCBiZWhhdmVzIGNvcnJlY3RseSBpblxuICAgIC8vIGNvbnRlbnRFZGl0YWJsZS5cbiAgICBhZGRUZXh0YmxvY2tIYWNrcygpIHtcbiAgICAgICAgbGV0IGxhc3RDaGlsZCA9IHRoaXMudG9wLmNoaWxkcmVuW3RoaXMuaW5kZXggLSAxXSwgcGFyZW50ID0gdGhpcy50b3A7XG4gICAgICAgIHdoaWxlIChsYXN0Q2hpbGQgaW5zdGFuY2VvZiBNYXJrVmlld0Rlc2MpIHtcbiAgICAgICAgICAgIHBhcmVudCA9IGxhc3RDaGlsZDtcbiAgICAgICAgICAgIGxhc3RDaGlsZCA9IHBhcmVudC5jaGlsZHJlbltwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFsYXN0Q2hpbGQgfHwgLy8gRW1wdHkgdGV4dGJsb2NrXG4gICAgICAgICAgICAhKGxhc3RDaGlsZCBpbnN0YW5jZW9mIFRleHRWaWV3RGVzYykgfHxcbiAgICAgICAgICAgIC9cXG4kLy50ZXN0KGxhc3RDaGlsZC5ub2RlLnRleHQpKSB7XG4gICAgICAgICAgICAvLyBBdm9pZCBidWdzIGluIFNhZmFyaSdzIGN1cnNvciBkcmF3aW5nICgjMTE2NSkgYW5kIENocm9tZSdzIG1vdXNlIHNlbGVjdGlvbiAoIzExNTIpXG4gICAgICAgICAgICBpZiAoKHNhZmFyaSB8fCBjaHJvbWUpICYmIGxhc3RDaGlsZCAmJiBsYXN0Q2hpbGQuZG9tLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRIYWNrTm9kZShcIklNR1wiLCBwYXJlbnQpO1xuICAgICAgICAgICAgdGhpcy5hZGRIYWNrTm9kZShcIkJSXCIsIHRoaXMudG9wKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhZGRIYWNrTm9kZShub2RlTmFtZSwgcGFyZW50KSB7XG4gICAgICAgIGlmIChwYXJlbnQgPT0gdGhpcy50b3AgJiYgdGhpcy5pbmRleCA8IHBhcmVudC5jaGlsZHJlbi5sZW5ndGggJiYgcGFyZW50LmNoaWxkcmVuW3RoaXMuaW5kZXhdLm1hdGNoZXNIYWNrKG5vZGVOYW1lKSkge1xuICAgICAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobm9kZU5hbWUpO1xuICAgICAgICAgICAgaWYgKG5vZGVOYW1lID09IFwiSU1HXCIpIHtcbiAgICAgICAgICAgICAgICBkb20uY2xhc3NOYW1lID0gXCJQcm9zZU1pcnJvci1zZXBhcmF0b3JcIjtcbiAgICAgICAgICAgICAgICBkb20uYWx0ID0gXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub2RlTmFtZSA9PSBcIkJSXCIpXG4gICAgICAgICAgICAgICAgZG9tLmNsYXNzTmFtZSA9IFwiUHJvc2VNaXJyb3ItdHJhaWxpbmdCcmVha1wiO1xuICAgICAgICAgICAgbGV0IGhhY2sgPSBuZXcgVHJhaWxpbmdIYWNrVmlld0Rlc2ModGhpcy50b3AsIFtdLCBkb20sIG51bGwpO1xuICAgICAgICAgICAgaWYgKHBhcmVudCAhPSB0aGlzLnRvcClcbiAgICAgICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChoYWNrKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKHRoaXMuaW5kZXgrKywgMCwgaGFjayk7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxufVxuLy8gSXRlcmF0ZSBmcm9tIHRoZSBlbmQgb2YgdGhlIGZyYWdtZW50IGFuZCBhcnJheSBvZiBkZXNjcyB0byBmaW5kXG4vLyBkaXJlY3RseSBtYXRjaGluZyBvbmVzLCBpbiBvcmRlciB0byBhdm9pZCBvdmVyZWFnZXJseSByZXVzaW5nIHRob3NlXG4vLyBmb3Igb3RoZXIgbm9kZXMuIFJldHVybnMgdGhlIGZyYWdtZW50IGluZGV4IG9mIHRoZSBmaXJzdCBub2RlIHRoYXRcbi8vIGlzIHBhcnQgb2YgdGhlIHNlcXVlbmNlIG9mIG1hdGNoZWQgbm9kZXMgYXQgdGhlIGVuZCBvZiB0aGVcbi8vIGZyYWdtZW50LlxuZnVuY3Rpb24gcHJlTWF0Y2goZnJhZywgcGFyZW50RGVzYykge1xuICAgIGxldCBjdXJEZXNjID0gcGFyZW50RGVzYywgZGVzY0kgPSBjdXJEZXNjLmNoaWxkcmVuLmxlbmd0aDtcbiAgICBsZXQgZkkgPSBmcmFnLmNoaWxkQ291bnQsIG1hdGNoZWQgPSBuZXcgTWFwLCBtYXRjaGVzID0gW107XG4gICAgb3V0ZXI6IHdoaWxlIChmSSA+IDApIHtcbiAgICAgICAgbGV0IGRlc2M7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGlmIChkZXNjSSkge1xuICAgICAgICAgICAgICAgIGxldCBuZXh0ID0gY3VyRGVzYy5jaGlsZHJlbltkZXNjSSAtIDFdO1xuICAgICAgICAgICAgICAgIGlmIChuZXh0IGluc3RhbmNlb2YgTWFya1ZpZXdEZXNjKSB7XG4gICAgICAgICAgICAgICAgICAgIGN1ckRlc2MgPSBuZXh0O1xuICAgICAgICAgICAgICAgICAgICBkZXNjSSA9IG5leHQuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVzYyA9IG5leHQ7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NJLS07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGN1ckRlc2MgPT0gcGFyZW50RGVzYykge1xuICAgICAgICAgICAgICAgIGJyZWFrIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gRklYTUVcbiAgICAgICAgICAgICAgICBkZXNjSSA9IGN1ckRlc2MucGFyZW50LmNoaWxkcmVuLmluZGV4T2YoY3VyRGVzYyk7XG4gICAgICAgICAgICAgICAgY3VyRGVzYyA9IGN1ckRlc2MucGFyZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBub2RlID0gZGVzYy5ub2RlO1xuICAgICAgICBpZiAoIW5vZGUpXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgaWYgKG5vZGUgIT0gZnJhZy5jaGlsZChmSSAtIDEpKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIC0tZkk7XG4gICAgICAgIG1hdGNoZWQuc2V0KGRlc2MsIGZJKTtcbiAgICAgICAgbWF0Y2hlcy5wdXNoKGRlc2MpO1xuICAgIH1cbiAgICByZXR1cm4geyBpbmRleDogZkksIG1hdGNoZWQsIG1hdGNoZXM6IG1hdGNoZXMucmV2ZXJzZSgpIH07XG59XG5mdW5jdGlvbiBjb21wYXJlU2lkZShhLCBiKSB7XG4gICAgcmV0dXJuIGEudHlwZS5zaWRlIC0gYi50eXBlLnNpZGU7XG59XG4vLyBUaGlzIGZ1bmN0aW9uIGFic3RyYWN0cyBpdGVyYXRpbmcgb3ZlciB0aGUgbm9kZXMgYW5kIGRlY29yYXRpb25zIGluXG4vLyBhIGZyYWdtZW50LiBDYWxscyBgb25Ob2RlYCBmb3IgZWFjaCBub2RlLCB3aXRoIGl0cyBsb2NhbCBhbmQgY2hpbGRcbi8vIGRlY29yYXRpb25zLiBTcGxpdHMgdGV4dCBub2RlcyB3aGVuIHRoZXJlIGlzIGEgZGVjb3JhdGlvbiBzdGFydGluZ1xuLy8gb3IgZW5kaW5nIGluc2lkZSBvZiB0aGVtLiBDYWxscyBgb25XaWRnZXRgIGZvciBlYWNoIHdpZGdldC5cbmZ1bmN0aW9uIGl0ZXJEZWNvKHBhcmVudCwgZGVjbywgb25XaWRnZXQsIG9uTm9kZSkge1xuICAgIGxldCBsb2NhbHMgPSBkZWNvLmxvY2FscyhwYXJlbnQpLCBvZmZzZXQgPSAwO1xuICAgIC8vIFNpbXBsZSwgY2hlYXAgdmFyaWFudCBmb3Igd2hlbiB0aGVyZSBhcmUgbm8gbG9jYWwgZGVjb3JhdGlvbnNcbiAgICBpZiAobG9jYWxzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFyZW50LmNoaWxkQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gcGFyZW50LmNoaWxkKGkpO1xuICAgICAgICAgICAgb25Ob2RlKGNoaWxkLCBsb2NhbHMsIGRlY28uZm9yQ2hpbGQob2Zmc2V0LCBjaGlsZCksIGkpO1xuICAgICAgICAgICAgb2Zmc2V0ICs9IGNoaWxkLm5vZGVTaXplO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IGRlY29JbmRleCA9IDAsIGFjdGl2ZSA9IFtdLCByZXN0Tm9kZSA9IG51bGw7XG4gICAgZm9yIChsZXQgcGFyZW50SW5kZXggPSAwOzspIHtcbiAgICAgICAgaWYgKGRlY29JbmRleCA8IGxvY2Fscy5sZW5ndGggJiYgbG9jYWxzW2RlY29JbmRleF0udG8gPT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICBsZXQgd2lkZ2V0ID0gbG9jYWxzW2RlY29JbmRleCsrXSwgd2lkZ2V0cztcbiAgICAgICAgICAgIHdoaWxlIChkZWNvSW5kZXggPCBsb2NhbHMubGVuZ3RoICYmIGxvY2Fsc1tkZWNvSW5kZXhdLnRvID09IG9mZnNldClcbiAgICAgICAgICAgICAgICAod2lkZ2V0cyB8fCAod2lkZ2V0cyA9IFt3aWRnZXRdKSkucHVzaChsb2NhbHNbZGVjb0luZGV4KytdKTtcbiAgICAgICAgICAgIGlmICh3aWRnZXRzKSB7XG4gICAgICAgICAgICAgICAgd2lkZ2V0cy5zb3J0KGNvbXBhcmVTaWRlKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdpZGdldHMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIG9uV2lkZ2V0KHdpZGdldHNbaV0sIHBhcmVudEluZGV4LCAhIXJlc3ROb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uV2lkZ2V0KHdpZGdldCwgcGFyZW50SW5kZXgsICEhcmVzdE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBjaGlsZCwgaW5kZXg7XG4gICAgICAgIGlmIChyZXN0Tm9kZSkge1xuICAgICAgICAgICAgaW5kZXggPSAtMTtcbiAgICAgICAgICAgIGNoaWxkID0gcmVzdE5vZGU7XG4gICAgICAgICAgICByZXN0Tm9kZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFyZW50SW5kZXggPCBwYXJlbnQuY2hpbGRDb3VudCkge1xuICAgICAgICAgICAgaW5kZXggPSBwYXJlbnRJbmRleDtcbiAgICAgICAgICAgIGNoaWxkID0gcGFyZW50LmNoaWxkKHBhcmVudEluZGV4KyspO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhY3RpdmUubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBpZiAoYWN0aXZlW2ldLnRvIDw9IG9mZnNldClcbiAgICAgICAgICAgICAgICBhY3RpdmUuc3BsaWNlKGktLSwgMSk7XG4gICAgICAgIHdoaWxlIChkZWNvSW5kZXggPCBsb2NhbHMubGVuZ3RoICYmIGxvY2Fsc1tkZWNvSW5kZXhdLmZyb20gPD0gb2Zmc2V0ICYmIGxvY2Fsc1tkZWNvSW5kZXhdLnRvID4gb2Zmc2V0KVxuICAgICAgICAgICAgYWN0aXZlLnB1c2gobG9jYWxzW2RlY29JbmRleCsrXSk7XG4gICAgICAgIGxldCBlbmQgPSBvZmZzZXQgKyBjaGlsZC5ub2RlU2l6ZTtcbiAgICAgICAgaWYgKGNoaWxkLmlzVGV4dCkge1xuICAgICAgICAgICAgbGV0IGN1dEF0ID0gZW5kO1xuICAgICAgICAgICAgaWYgKGRlY29JbmRleCA8IGxvY2Fscy5sZW5ndGggJiYgbG9jYWxzW2RlY29JbmRleF0uZnJvbSA8IGN1dEF0KVxuICAgICAgICAgICAgICAgIGN1dEF0ID0gbG9jYWxzW2RlY29JbmRleF0uZnJvbTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWN0aXZlLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVbaV0udG8gPCBjdXRBdClcbiAgICAgICAgICAgICAgICAgICAgY3V0QXQgPSBhY3RpdmVbaV0udG87XG4gICAgICAgICAgICBpZiAoY3V0QXQgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICByZXN0Tm9kZSA9IGNoaWxkLmN1dChjdXRBdCAtIG9mZnNldCk7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5jdXQoMCwgY3V0QXQgLSBvZmZzZXQpO1xuICAgICAgICAgICAgICAgIGVuZCA9IGN1dEF0O1xuICAgICAgICAgICAgICAgIGluZGV4ID0gLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG91dGVyRGVjbyA9IGNoaWxkLmlzSW5saW5lICYmICFjaGlsZC5pc0xlYWYgPyBhY3RpdmUuZmlsdGVyKGQgPT4gIWQuaW5saW5lKSA6IGFjdGl2ZS5zbGljZSgpO1xuICAgICAgICBvbk5vZGUoY2hpbGQsIG91dGVyRGVjbywgZGVjby5mb3JDaGlsZChvZmZzZXQsIGNoaWxkKSwgaW5kZXgpO1xuICAgICAgICBvZmZzZXQgPSBlbmQ7XG4gICAgfVxufVxuLy8gTGlzdCBtYXJrZXJzIGluIE1vYmlsZSBTYWZhcmkgd2lsbCBteXN0ZXJpb3VzbHkgZGlzYXBwZWFyXG4vLyBzb21ldGltZXMuIFRoaXMgd29ya3MgYXJvdW5kIHRoYXQuXG5mdW5jdGlvbiBpb3NIYWNrcyhkb20pIHtcbiAgICBpZiAoZG9tLm5vZGVOYW1lID09IFwiVUxcIiB8fCBkb20ubm9kZU5hbWUgPT0gXCJPTFwiKSB7XG4gICAgICAgIGxldCBvbGRDU1MgPSBkb20uc3R5bGUuY3NzVGV4dDtcbiAgICAgICAgZG9tLnN0eWxlLmNzc1RleHQgPSBvbGRDU1MgKyBcIjsgbGlzdC1zdHlsZTogc3F1YXJlICFpbXBvcnRhbnRcIjtcbiAgICAgICAgd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9tKS5saXN0U3R5bGU7XG4gICAgICAgIGRvbS5zdHlsZS5jc3NUZXh0ID0gb2xkQ1NTO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5lYXJieVRleHROb2RlKG5vZGUsIG9mZnNldCkge1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMylcbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxICYmIG9mZnNldCA+IDApIHtcbiAgICAgICAgICAgIGlmIChub2RlLmNoaWxkTm9kZXMubGVuZ3RoID4gb2Zmc2V0ICYmIG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdLm5vZGVUeXBlID09IDMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXTtcbiAgICAgICAgICAgIG9mZnNldCA9IG5vZGVTaXplKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMSAmJiBvZmZzZXQgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldF07XG4gICAgICAgICAgICBvZmZzZXQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyBGaW5kIGEgcGllY2Ugb2YgdGV4dCBpbiBhbiBpbmxpbmUgZnJhZ21lbnQsIG92ZXJsYXBwaW5nIGZyb20tdG9cbmZ1bmN0aW9uIGZpbmRUZXh0SW5GcmFnbWVudChmcmFnLCB0ZXh0LCBmcm9tLCB0bykge1xuICAgIGZvciAobGV0IGkgPSAwLCBwb3MgPSAwOyBpIDwgZnJhZy5jaGlsZENvdW50ICYmIHBvcyA8PSB0bzspIHtcbiAgICAgICAgbGV0IGNoaWxkID0gZnJhZy5jaGlsZChpKyspLCBjaGlsZFN0YXJ0ID0gcG9zO1xuICAgICAgICBwb3MgKz0gY2hpbGQubm9kZVNpemU7XG4gICAgICAgIGlmICghY2hpbGQuaXNUZXh0KVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGxldCBzdHIgPSBjaGlsZC50ZXh0O1xuICAgICAgICB3aGlsZSAoaSA8IGZyYWcuY2hpbGRDb3VudCkge1xuICAgICAgICAgICAgbGV0IG5leHQgPSBmcmFnLmNoaWxkKGkrKyk7XG4gICAgICAgICAgICBwb3MgKz0gbmV4dC5ub2RlU2l6ZTtcbiAgICAgICAgICAgIGlmICghbmV4dC5pc1RleHQpXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBzdHIgKz0gbmV4dC50ZXh0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwb3MgPj0gZnJvbSkge1xuICAgICAgICAgICAgbGV0IGZvdW5kID0gY2hpbGRTdGFydCA8IHRvID8gc3RyLmxhc3RJbmRleE9mKHRleHQsIHRvIC0gY2hpbGRTdGFydCAtIDEpIDogLTE7XG4gICAgICAgICAgICBpZiAoZm91bmQgPj0gMCAmJiBmb3VuZCArIHRleHQubGVuZ3RoICsgY2hpbGRTdGFydCA+PSBmcm9tKVxuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZFN0YXJ0ICsgZm91bmQ7XG4gICAgICAgICAgICBpZiAoZnJvbSA9PSB0byAmJiBzdHIubGVuZ3RoID49ICh0byArIHRleHQubGVuZ3RoKSAtIGNoaWxkU3RhcnQgJiZcbiAgICAgICAgICAgICAgICBzdHIuc2xpY2UodG8gLSBjaGlsZFN0YXJ0LCB0byAtIGNoaWxkU3RhcnQgKyB0ZXh0Lmxlbmd0aCkgPT0gdGV4dClcbiAgICAgICAgICAgICAgICByZXR1cm4gdG87XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuLy8gUmVwbGFjZSByYW5nZSBmcm9tLXRvIGluIGFuIGFycmF5IG9mIHZpZXcgZGVzY3Mgd2l0aCByZXBsYWNlbWVudFxuLy8gKG1heSBiZSBudWxsIHRvIGp1c3QgZGVsZXRlKS4gVGhpcyBnb2VzIHZlcnkgbXVjaCBhZ2FpbnN0IHRoZSBncmFpblxuLy8gb2YgdGhlIHJlc3Qgb2YgdGhpcyBjb2RlLCB3aGljaCB0ZW5kcyB0byBjcmVhdGUgbm9kZXMgd2l0aCB0aGVcbi8vIHJpZ2h0IHNoYXBlIGluIG9uZSBnbywgcmF0aGVyIHRoYW4gbWVzc2luZyB3aXRoIHRoZW0gYWZ0ZXJcbi8vIGNyZWF0aW9uLCBidXQgaXMgbmVjZXNzYXJ5IGluIHRoZSBjb21wb3NpdGlvbiBoYWNrLlxuZnVuY3Rpb24gcmVwbGFjZU5vZGVzKG5vZGVzLCBmcm9tLCB0bywgdmlldywgcmVwbGFjZW1lbnQpIHtcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIG9mZiA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBsZXQgY2hpbGQgPSBub2Rlc1tpXSwgc3RhcnQgPSBvZmYsIGVuZCA9IG9mZiArPSBjaGlsZC5zaXplO1xuICAgICAgICBpZiAoc3RhcnQgPj0gdG8gfHwgZW5kIDw9IGZyb20pIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzdGFydCA8IGZyb20pXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2hpbGQuc2xpY2UoMCwgZnJvbSAtIHN0YXJ0LCB2aWV3KSk7XG4gICAgICAgICAgICBpZiAocmVwbGFjZW1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChyZXBsYWNlbWVudCk7XG4gICAgICAgICAgICAgICAgcmVwbGFjZW1lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZW5kID4gdG8pXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goY2hpbGQuc2xpY2UodG8gLSBzdGFydCwgY2hpbGQuc2l6ZSwgdmlldykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdGlvbkZyb21ET00odmlldywgb3JpZ2luID0gbnVsbCkge1xuICAgIGxldCBkb21TZWwgPSB2aWV3LmRvbVNlbGVjdGlvbigpLCBkb2MgPSB2aWV3LnN0YXRlLmRvYztcbiAgICBpZiAoIWRvbVNlbC5mb2N1c05vZGUpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBuZWFyZXN0RGVzYyA9IHZpZXcuZG9jVmlldy5uZWFyZXN0RGVzYyhkb21TZWwuZm9jdXNOb2RlKSwgaW5XaWRnZXQgPSBuZWFyZXN0RGVzYyAmJiBuZWFyZXN0RGVzYy5zaXplID09IDA7XG4gICAgbGV0IGhlYWQgPSB2aWV3LmRvY1ZpZXcucG9zRnJvbURPTShkb21TZWwuZm9jdXNOb2RlLCBkb21TZWwuZm9jdXNPZmZzZXQsIDEpO1xuICAgIGlmIChoZWFkIDwgMClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgbGV0ICRoZWFkID0gZG9jLnJlc29sdmUoaGVhZCksICRhbmNob3IsIHNlbGVjdGlvbjtcbiAgICBpZiAoc2VsZWN0aW9uQ29sbGFwc2VkKGRvbVNlbCkpIHtcbiAgICAgICAgJGFuY2hvciA9ICRoZWFkO1xuICAgICAgICB3aGlsZSAobmVhcmVzdERlc2MgJiYgIW5lYXJlc3REZXNjLm5vZGUpXG4gICAgICAgICAgICBuZWFyZXN0RGVzYyA9IG5lYXJlc3REZXNjLnBhcmVudDtcbiAgICAgICAgbGV0IG5lYXJlc3REZXNjTm9kZSA9IG5lYXJlc3REZXNjLm5vZGU7XG4gICAgICAgIGlmIChuZWFyZXN0RGVzYyAmJiBuZWFyZXN0RGVzY05vZGUuaXNBdG9tICYmIE5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5lYXJlc3REZXNjTm9kZSkgJiYgbmVhcmVzdERlc2MucGFyZW50XG4gICAgICAgICAgICAmJiAhKG5lYXJlc3REZXNjTm9kZS5pc0lubGluZSAmJiBpc09uRWRnZShkb21TZWwuZm9jdXNOb2RlLCBkb21TZWwuZm9jdXNPZmZzZXQsIG5lYXJlc3REZXNjLmRvbSkpKSB7XG4gICAgICAgICAgICBsZXQgcG9zID0gbmVhcmVzdERlc2MucG9zQmVmb3JlO1xuICAgICAgICAgICAgc2VsZWN0aW9uID0gbmV3IE5vZGVTZWxlY3Rpb24oaGVhZCA9PSBwb3MgPyAkaGVhZCA6IGRvYy5yZXNvbHZlKHBvcykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgYW5jaG9yID0gdmlldy5kb2NWaWV3LnBvc0Zyb21ET00oZG9tU2VsLmFuY2hvck5vZGUsIGRvbVNlbC5hbmNob3JPZmZzZXQsIDEpO1xuICAgICAgICBpZiAoYW5jaG9yIDwgMClcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAkYW5jaG9yID0gZG9jLnJlc29sdmUoYW5jaG9yKTtcbiAgICB9XG4gICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgICAgbGV0IGJpYXMgPSBvcmlnaW4gPT0gXCJwb2ludGVyXCIgfHwgKHZpZXcuc3RhdGUuc2VsZWN0aW9uLmhlYWQgPCAkaGVhZC5wb3MgJiYgIWluV2lkZ2V0KSA/IDEgOiAtMTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uQmV0d2Vlbih2aWV3LCAkYW5jaG9yLCAkaGVhZCwgYmlhcyk7XG4gICAgfVxuICAgIHJldHVybiBzZWxlY3Rpb247XG59XG5mdW5jdGlvbiBlZGl0b3JPd25zU2VsZWN0aW9uKHZpZXcpIHtcbiAgICByZXR1cm4gdmlldy5lZGl0YWJsZSA/IHZpZXcuaGFzRm9jdXMoKSA6XG4gICAgICAgIGhhc1NlbGVjdGlvbih2aWV3KSAmJiBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuY29udGFpbnModmlldy5kb20pO1xufVxuZnVuY3Rpb24gc2VsZWN0aW9uVG9ET00odmlldywgZm9yY2UgPSBmYWxzZSkge1xuICAgIGxldCBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbjtcbiAgICBzeW5jTm9kZVNlbGVjdGlvbih2aWV3LCBzZWwpO1xuICAgIGlmICghZWRpdG9yT3duc1NlbGVjdGlvbih2aWV3KSlcbiAgICAgICAgcmV0dXJuO1xuICAgIC8vIFRoZSBkZWxheWVkIGRyYWcgc2VsZWN0aW9uIGNhdXNlcyBpc3N1ZXMgd2l0aCBDZWxsIFNlbGVjdGlvbnNcbiAgICAvLyBpbiBTYWZhcmkuIEFuZCB0aGUgZHJhZyBzZWxlY3Rpb24gZGVsYXkgaXMgdG8gd29ya2Fyb25kIGlzc3Vlc1xuICAgIC8vIHdoaWNoIG9ubHkgcHJlc2VudCBpbiBDaHJvbWUuXG4gICAgaWYgKCFmb3JjZSAmJiB2aWV3LmlucHV0Lm1vdXNlRG93biAmJiB2aWV3LmlucHV0Lm1vdXNlRG93bi5hbGxvd0RlZmF1bHQgJiYgY2hyb21lKSB7XG4gICAgICAgIGxldCBkb21TZWwgPSB2aWV3LmRvbVNlbGVjdGlvbigpLCBjdXJTZWwgPSB2aWV3LmRvbU9ic2VydmVyLmN1cnJlbnRTZWxlY3Rpb247XG4gICAgICAgIGlmIChkb21TZWwuYW5jaG9yTm9kZSAmJiBjdXJTZWwuYW5jaG9yTm9kZSAmJlxuICAgICAgICAgICAgaXNFcXVpdmFsZW50UG9zaXRpb24oZG9tU2VsLmFuY2hvck5vZGUsIGRvbVNlbC5hbmNob3JPZmZzZXQsIGN1clNlbC5hbmNob3JOb2RlLCBjdXJTZWwuYW5jaG9yT2Zmc2V0KSkge1xuICAgICAgICAgICAgdmlldy5pbnB1dC5tb3VzZURvd24uZGVsYXllZFNlbGVjdGlvblN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgdmlldy5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2aWV3LmRvbU9ic2VydmVyLmRpc2Nvbm5lY3RTZWxlY3Rpb24oKTtcbiAgICBpZiAodmlldy5jdXJzb3JXcmFwcGVyKSB7XG4gICAgICAgIHNlbGVjdEN1cnNvcldyYXBwZXIodmlldyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBsZXQgeyBhbmNob3IsIGhlYWQgfSA9IHNlbCwgcmVzZXRFZGl0YWJsZUZyb20sIHJlc2V0RWRpdGFibGVUbztcbiAgICAgICAgaWYgKGJyb2tlblNlbGVjdEJldHdlZW5VbmVkaXRhYmxlICYmICEoc2VsIGluc3RhbmNlb2YgVGV4dFNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIGlmICghc2VsLiRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50KVxuICAgICAgICAgICAgICAgIHJlc2V0RWRpdGFibGVGcm9tID0gdGVtcG9yYXJpbHlFZGl0YWJsZU5lYXIodmlldywgc2VsLmZyb20pO1xuICAgICAgICAgICAgaWYgKCFzZWwuZW1wdHkgJiYgIXNlbC4kZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudClcbiAgICAgICAgICAgICAgICByZXNldEVkaXRhYmxlVG8gPSB0ZW1wb3JhcmlseUVkaXRhYmxlTmVhcih2aWV3LCBzZWwudG8pO1xuICAgICAgICB9XG4gICAgICAgIHZpZXcuZG9jVmlldy5zZXRTZWxlY3Rpb24oYW5jaG9yLCBoZWFkLCB2aWV3LnJvb3QsIGZvcmNlKTtcbiAgICAgICAgaWYgKGJyb2tlblNlbGVjdEJldHdlZW5VbmVkaXRhYmxlKSB7XG4gICAgICAgICAgICBpZiAocmVzZXRFZGl0YWJsZUZyb20pXG4gICAgICAgICAgICAgICAgcmVzZXRFZGl0YWJsZShyZXNldEVkaXRhYmxlRnJvbSk7XG4gICAgICAgICAgICBpZiAocmVzZXRFZGl0YWJsZVRvKVxuICAgICAgICAgICAgICAgIHJlc2V0RWRpdGFibGUocmVzZXRFZGl0YWJsZVRvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsLnZpc2libGUpIHtcbiAgICAgICAgICAgIHZpZXcuZG9tLmNsYXNzTGlzdC5yZW1vdmUoXCJQcm9zZU1pcnJvci1oaWRlc2VsZWN0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmlldy5kb20uY2xhc3NMaXN0LmFkZChcIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb25cIik7XG4gICAgICAgICAgICBpZiAoXCJvbnNlbGVjdGlvbmNoYW5nZVwiIGluIGRvY3VtZW50KVxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzT25TZWxlY3Rpb25DaGFuZ2Uodmlldyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlldy5kb21PYnNlcnZlci5zZXRDdXJTZWxlY3Rpb24oKTtcbiAgICB2aWV3LmRvbU9ic2VydmVyLmNvbm5lY3RTZWxlY3Rpb24oKTtcbn1cbi8vIEtsdWRnZSB0byB3b3JrIGFyb3VuZCBXZWJraXQgbm90IGFsbG93aW5nIGEgc2VsZWN0aW9uIHRvIHN0YXJ0L2VuZFxuLy8gYmV0d2VlbiBub24tZWRpdGFibGUgYmxvY2sgbm9kZXMuIFdlIGJyaWVmbHkgbWFrZSBzb21ldGhpbmdcbi8vIGVkaXRhYmxlLCBzZXQgdGhlIHNlbGVjdGlvbiwgdGhlbiBzZXQgaXQgdW5lZGl0YWJsZSBhZ2Fpbi5cbmNvbnN0IGJyb2tlblNlbGVjdEJldHdlZW5VbmVkaXRhYmxlID0gc2FmYXJpIHx8IGNocm9tZSAmJiBjaHJvbWVfdmVyc2lvbiA8IDYzO1xuZnVuY3Rpb24gdGVtcG9yYXJpbHlFZGl0YWJsZU5lYXIodmlldywgcG9zKSB7XG4gICAgbGV0IHsgbm9kZSwgb2Zmc2V0IH0gPSB2aWV3LmRvY1ZpZXcuZG9tRnJvbVBvcyhwb3MsIDApO1xuICAgIGxldCBhZnRlciA9IG9mZnNldCA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggPyBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0XSA6IG51bGw7XG4gICAgbGV0IGJlZm9yZSA9IG9mZnNldCA/IG5vZGUuY2hpbGROb2Rlc1tvZmZzZXQgLSAxXSA6IG51bGw7XG4gICAgaWYgKHNhZmFyaSAmJiBhZnRlciAmJiBhZnRlci5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKVxuICAgICAgICByZXR1cm4gc2V0RWRpdGFibGUoYWZ0ZXIpO1xuICAgIGlmICgoIWFmdGVyIHx8IGFmdGVyLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpICYmXG4gICAgICAgICghYmVmb3JlIHx8IGJlZm9yZS5jb250ZW50RWRpdGFibGUgPT0gXCJmYWxzZVwiKSkge1xuICAgICAgICBpZiAoYWZ0ZXIpXG4gICAgICAgICAgICByZXR1cm4gc2V0RWRpdGFibGUoYWZ0ZXIpO1xuICAgICAgICBlbHNlIGlmIChiZWZvcmUpXG4gICAgICAgICAgICByZXR1cm4gc2V0RWRpdGFibGUoYmVmb3JlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXRFZGl0YWJsZShlbGVtZW50KSB7XG4gICAgZWxlbWVudC5jb250ZW50RWRpdGFibGUgPSBcInRydWVcIjtcbiAgICBpZiAoc2FmYXJpICYmIGVsZW1lbnQuZHJhZ2dhYmxlKSB7XG4gICAgICAgIGVsZW1lbnQuZHJhZ2dhYmxlID0gZmFsc2U7XG4gICAgICAgIGVsZW1lbnQud2FzRHJhZ2dhYmxlID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGVsZW1lbnQ7XG59XG5mdW5jdGlvbiByZXNldEVkaXRhYmxlKGVsZW1lbnQpIHtcbiAgICBlbGVtZW50LmNvbnRlbnRFZGl0YWJsZSA9IFwiZmFsc2VcIjtcbiAgICBpZiAoZWxlbWVudC53YXNEcmFnZ2FibGUpIHtcbiAgICAgICAgZWxlbWVudC5kcmFnZ2FibGUgPSB0cnVlO1xuICAgICAgICBlbGVtZW50Lndhc0RyYWdnYWJsZSA9IG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gcmVtb3ZlQ2xhc3NPblNlbGVjdGlvbkNoYW5nZSh2aWV3KSB7XG4gICAgbGV0IGRvYyA9IHZpZXcuZG9tLm93bmVyRG9jdW1lbnQ7XG4gICAgZG9jLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgdmlldy5pbnB1dC5oaWRlU2VsZWN0aW9uR3VhcmQpO1xuICAgIGxldCBkb21TZWwgPSB2aWV3LmRvbVNlbGVjdGlvbigpO1xuICAgIGxldCBub2RlID0gZG9tU2VsLmFuY2hvck5vZGUsIG9mZnNldCA9IGRvbVNlbC5hbmNob3JPZmZzZXQ7XG4gICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIoXCJzZWxlY3Rpb25jaGFuZ2VcIiwgdmlldy5pbnB1dC5oaWRlU2VsZWN0aW9uR3VhcmQgPSAoKSA9PiB7XG4gICAgICAgIGlmIChkb21TZWwuYW5jaG9yTm9kZSAhPSBub2RlIHx8IGRvbVNlbC5hbmNob3JPZmZzZXQgIT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICBkb2MucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCB2aWV3LmlucHV0LmhpZGVTZWxlY3Rpb25HdWFyZCk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWVkaXRvck93bnNTZWxlY3Rpb24odmlldykgfHwgdmlldy5zdGF0ZS5zZWxlY3Rpb24udmlzaWJsZSlcbiAgICAgICAgICAgICAgICAgICAgdmlldy5kb20uY2xhc3NMaXN0LnJlbW92ZShcIlByb3NlTWlycm9yLWhpZGVzZWxlY3Rpb25cIik7XG4gICAgICAgICAgICB9LCAyMCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbmZ1bmN0aW9uIHNlbGVjdEN1cnNvcldyYXBwZXIodmlldykge1xuICAgIGxldCBkb21TZWwgPSB2aWV3LmRvbVNlbGVjdGlvbigpLCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgbGV0IG5vZGUgPSB2aWV3LmN1cnNvcldyYXBwZXIuZG9tLCBpbWcgPSBub2RlLm5vZGVOYW1lID09IFwiSU1HXCI7XG4gICAgaWYgKGltZylcbiAgICAgICAgcmFuZ2Uuc2V0RW5kKG5vZGUucGFyZW50Tm9kZSwgZG9tSW5kZXgobm9kZSkgKyAxKTtcbiAgICBlbHNlXG4gICAgICAgIHJhbmdlLnNldEVuZChub2RlLCAwKTtcbiAgICByYW5nZS5jb2xsYXBzZShmYWxzZSk7XG4gICAgZG9tU2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgIGRvbVNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgLy8gS2x1ZGdlIHRvIGtpbGwgJ2NvbnRyb2wgc2VsZWN0aW9uJyBpbiBJRTExIHdoZW4gc2VsZWN0aW5nIGFuXG4gICAgLy8gaW52aXNpYmxlIGN1cnNvciB3cmFwcGVyLCBzaW5jZSB0aGF0IHdvdWxkIHJlc3VsdCBpbiB0aG9zZSB3ZWlyZFxuICAgIC8vIHJlc2l6ZSBoYW5kbGVzIGFuZCBhIHNlbGVjdGlvbiB0aGF0IGNvbnNpZGVycyB0aGUgYWJzb2x1dGVseVxuICAgIC8vIHBvc2l0aW9uZWQgd3JhcHBlciwgcmF0aGVyIHRoYW4gdGhlIHJvb3QgZWRpdGFibGUgbm9kZSwgdGhlXG4gICAgLy8gZm9jdXNlZCBlbGVtZW50LlxuICAgIGlmICghaW1nICYmICF2aWV3LnN0YXRlLnNlbGVjdGlvbi52aXNpYmxlICYmIGllICYmIGllX3ZlcnNpb24gPD0gMTEpIHtcbiAgICAgICAgbm9kZS5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIG5vZGUuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBzeW5jTm9kZVNlbGVjdGlvbih2aWV3LCBzZWwpIHtcbiAgICBpZiAoc2VsIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbikge1xuICAgICAgICBsZXQgZGVzYyA9IHZpZXcuZG9jVmlldy5kZXNjQXQoc2VsLmZyb20pO1xuICAgICAgICBpZiAoZGVzYyAhPSB2aWV3Lmxhc3RTZWxlY3RlZFZpZXdEZXNjKSB7XG4gICAgICAgICAgICBjbGVhck5vZGVTZWxlY3Rpb24odmlldyk7XG4gICAgICAgICAgICBpZiAoZGVzYylcbiAgICAgICAgICAgICAgICBkZXNjLnNlbGVjdE5vZGUoKTtcbiAgICAgICAgICAgIHZpZXcubGFzdFNlbGVjdGVkVmlld0Rlc2MgPSBkZXNjO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjbGVhck5vZGVTZWxlY3Rpb24odmlldyk7XG4gICAgfVxufVxuLy8gQ2xlYXIgYWxsIERPTSBzdGF0ZWZ1bG5lc3Mgb2YgdGhlIGxhc3Qgbm9kZSBzZWxlY3Rpb24uXG5mdW5jdGlvbiBjbGVhck5vZGVTZWxlY3Rpb24odmlldykge1xuICAgIGlmICh2aWV3Lmxhc3RTZWxlY3RlZFZpZXdEZXNjKSB7XG4gICAgICAgIGlmICh2aWV3Lmxhc3RTZWxlY3RlZFZpZXdEZXNjLnBhcmVudClcbiAgICAgICAgICAgIHZpZXcubGFzdFNlbGVjdGVkVmlld0Rlc2MuZGVzZWxlY3ROb2RlKCk7XG4gICAgICAgIHZpZXcubGFzdFNlbGVjdGVkVmlld0Rlc2MgPSB1bmRlZmluZWQ7XG4gICAgfVxufVxuZnVuY3Rpb24gc2VsZWN0aW9uQmV0d2Vlbih2aWV3LCAkYW5jaG9yLCAkaGVhZCwgYmlhcykge1xuICAgIHJldHVybiB2aWV3LnNvbWVQcm9wKFwiY3JlYXRlU2VsZWN0aW9uQmV0d2VlblwiLCBmID0+IGYodmlldywgJGFuY2hvciwgJGhlYWQpKVxuICAgICAgICB8fCBUZXh0U2VsZWN0aW9uLmJldHdlZW4oJGFuY2hvciwgJGhlYWQsIGJpYXMpO1xufVxuZnVuY3Rpb24gaGFzRm9jdXNBbmRTZWxlY3Rpb24odmlldykge1xuICAgIGlmICh2aWV3LmVkaXRhYmxlICYmIHZpZXcucm9vdC5hY3RpdmVFbGVtZW50ICE9IHZpZXcuZG9tKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGhhc1NlbGVjdGlvbih2aWV3KTtcbn1cbmZ1bmN0aW9uIGhhc1NlbGVjdGlvbih2aWV3KSB7XG4gICAgbGV0IHNlbCA9IHZpZXcuZG9tU2VsZWN0aW9uKCk7XG4gICAgaWYgKCFzZWwuYW5jaG9yTm9kZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIC8vIEZpcmVmb3ggd2lsbCByYWlzZSAncGVybWlzc2lvbiBkZW5pZWQnIGVycm9ycyB3aGVuIGFjY2Vzc2luZ1xuICAgICAgICAvLyBwcm9wZXJ0aWVzIG9mIGBzZWwuYW5jaG9yTm9kZWAgd2hlbiBpdCdzIGluIGEgZ2VuZXJhdGVkIENTU1xuICAgICAgICAvLyBlbGVtZW50LlxuICAgICAgICByZXR1cm4gdmlldy5kb20uY29udGFpbnMoc2VsLmFuY2hvck5vZGUubm9kZVR5cGUgPT0gMyA/IHNlbC5hbmNob3JOb2RlLnBhcmVudE5vZGUgOiBzZWwuYW5jaG9yTm9kZSkgJiZcbiAgICAgICAgICAgICh2aWV3LmVkaXRhYmxlIHx8IHZpZXcuZG9tLmNvbnRhaW5zKHNlbC5mb2N1c05vZGUubm9kZVR5cGUgPT0gMyA/IHNlbC5mb2N1c05vZGUucGFyZW50Tm9kZSA6IHNlbC5mb2N1c05vZGUpKTtcbiAgICB9XG4gICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFuY2hvckluUmlnaHRQbGFjZSh2aWV3KSB7XG4gICAgbGV0IGFuY2hvckRPTSA9IHZpZXcuZG9jVmlldy5kb21Gcm9tUG9zKHZpZXcuc3RhdGUuc2VsZWN0aW9uLmFuY2hvciwgMCk7XG4gICAgbGV0IGRvbVNlbCA9IHZpZXcuZG9tU2VsZWN0aW9uKCk7XG4gICAgcmV0dXJuIGlzRXF1aXZhbGVudFBvc2l0aW9uKGFuY2hvckRPTS5ub2RlLCBhbmNob3JET00ub2Zmc2V0LCBkb21TZWwuYW5jaG9yTm9kZSwgZG9tU2VsLmFuY2hvck9mZnNldCk7XG59XG5cbmZ1bmN0aW9uIG1vdmVTZWxlY3Rpb25CbG9jayhzdGF0ZSwgZGlyKSB7XG4gICAgbGV0IHsgJGFuY2hvciwgJGhlYWQgfSA9IHN0YXRlLnNlbGVjdGlvbjtcbiAgICBsZXQgJHNpZGUgPSBkaXIgPiAwID8gJGFuY2hvci5tYXgoJGhlYWQpIDogJGFuY2hvci5taW4oJGhlYWQpO1xuICAgIGxldCAkc3RhcnQgPSAhJHNpZGUucGFyZW50LmlubGluZUNvbnRlbnQgPyAkc2lkZSA6ICRzaWRlLmRlcHRoID8gc3RhdGUuZG9jLnJlc29sdmUoZGlyID4gMCA/ICRzaWRlLmFmdGVyKCkgOiAkc2lkZS5iZWZvcmUoKSkgOiBudWxsO1xuICAgIHJldHVybiAkc3RhcnQgJiYgU2VsZWN0aW9uLmZpbmRGcm9tKCRzdGFydCwgZGlyKTtcbn1cbmZ1bmN0aW9uIGFwcGx5KHZpZXcsIHNlbCkge1xuICAgIHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oc2VsKS5zY3JvbGxJbnRvVmlldygpKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIHNlbGVjdEhvcml6b250YWxseSh2aWV3LCBkaXIsIG1vZHMpIHtcbiAgICBsZXQgc2VsID0gdmlldy5zdGF0ZS5zZWxlY3Rpb247XG4gICAgaWYgKHNlbCBpbnN0YW5jZW9mIFRleHRTZWxlY3Rpb24pIHtcbiAgICAgICAgaWYgKCFzZWwuZW1wdHkgfHwgbW9kcy5pbmRleE9mKFwic1wiKSA+IC0xKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodmlldy5lbmRPZlRleHRibG9jayhkaXIgPiAwID8gXCJyaWdodFwiIDogXCJsZWZ0XCIpKSB7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IG1vdmVTZWxlY3Rpb25CbG9jayh2aWV3LnN0YXRlLCBkaXIpO1xuICAgICAgICAgICAgaWYgKG5leHQgJiYgKG5leHQgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwbHkodmlldywgbmV4dCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIShtYWMgJiYgbW9kcy5pbmRleE9mKFwibVwiKSA+IC0xKSkge1xuICAgICAgICAgICAgbGV0ICRoZWFkID0gc2VsLiRoZWFkLCBub2RlID0gJGhlYWQudGV4dE9mZnNldCA/IG51bGwgOiBkaXIgPCAwID8gJGhlYWQubm9kZUJlZm9yZSA6ICRoZWFkLm5vZGVBZnRlciwgZGVzYztcbiAgICAgICAgICAgIGlmICghbm9kZSB8fCBub2RlLmlzVGV4dClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBsZXQgbm9kZVBvcyA9IGRpciA8IDAgPyAkaGVhZC5wb3MgLSBub2RlLm5vZGVTaXplIDogJGhlYWQucG9zO1xuICAgICAgICAgICAgaWYgKCEobm9kZS5pc0F0b20gfHwgKGRlc2MgPSB2aWV3LmRvY1ZpZXcuZGVzY0F0KG5vZGVQb3MpKSAmJiAhZGVzYy5jb250ZW50RE9NKSlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICBpZiAoTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUobm9kZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwbHkodmlldywgbmV3IE5vZGVTZWxlY3Rpb24oZGlyIDwgMCA/IHZpZXcuc3RhdGUuZG9jLnJlc29sdmUoJGhlYWQucG9zIC0gbm9kZS5ub2RlU2l6ZSkgOiAkaGVhZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAod2Via2l0KSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hyb21lIGFuZCBTYWZhcmkgd2lsbCBpbnRyb2R1Y2UgZXh0cmEgcG9pbnRsZXNzIGN1cnNvclxuICAgICAgICAgICAgICAgIC8vIHBvc2l0aW9ucyBhcm91bmQgaW5saW5lIHVuZWRpdGFibGUgbm9kZXMsIHNvIHdlIGhhdmUgdG9cbiAgICAgICAgICAgICAgICAvLyB0YWtlIG92ZXIgYW5kIG1vdmUgdGhlIGN1cnNvciBwYXN0IHRoZW0gKCM5MzcpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwcGx5KHZpZXcsIG5ldyBUZXh0U2VsZWN0aW9uKHZpZXcuc3RhdGUuZG9jLnJlc29sdmUoZGlyIDwgMCA/IG5vZGVQb3MgOiBub2RlUG9zICsgbm9kZS5ub2RlU2l6ZSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChzZWwgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uICYmIHNlbC5ub2RlLmlzSW5saW5lKSB7XG4gICAgICAgIHJldHVybiBhcHBseSh2aWV3LCBuZXcgVGV4dFNlbGVjdGlvbihkaXIgPiAwID8gc2VsLiR0byA6IHNlbC4kZnJvbSkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgbGV0IG5leHQgPSBtb3ZlU2VsZWN0aW9uQmxvY2sodmlldy5zdGF0ZSwgZGlyKTtcbiAgICAgICAgaWYgKG5leHQpXG4gICAgICAgICAgICByZXR1cm4gYXBwbHkodmlldywgbmV4dCk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBub2RlTGVuKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS5ub2RlVHlwZSA9PSAzID8gbm9kZS5ub2RlVmFsdWUubGVuZ3RoIDogbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDtcbn1cbmZ1bmN0aW9uIGlzSWdub3JhYmxlKGRvbSkge1xuICAgIGxldCBkZXNjID0gZG9tLnBtVmlld0Rlc2M7XG4gICAgcmV0dXJuIGRlc2MgJiYgZGVzYy5zaXplID09IDAgJiYgKGRvbS5uZXh0U2libGluZyB8fCBkb20ubm9kZU5hbWUgIT0gXCJCUlwiKTtcbn1cbi8vIE1ha2Ugc3VyZSB0aGUgY3Vyc29yIGlzbid0IGRpcmVjdGx5IGFmdGVyIG9uZSBvciBtb3JlIGlnbm9yZWRcbi8vIG5vZGVzLCB3aGljaCB3aWxsIGNvbmZ1c2UgdGhlIGJyb3dzZXIncyBjdXJzb3IgbW90aW9uIGxvZ2ljLlxuZnVuY3Rpb24gc2tpcElnbm9yZWROb2Rlc0xlZnQodmlldykge1xuICAgIGxldCBzZWwgPSB2aWV3LmRvbVNlbGVjdGlvbigpO1xuICAgIGxldCBub2RlID0gc2VsLmZvY3VzTm9kZSwgb2Zmc2V0ID0gc2VsLmZvY3VzT2Zmc2V0O1xuICAgIGlmICghbm9kZSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBtb3ZlTm9kZSwgbW92ZU9mZnNldCwgZm9yY2UgPSBmYWxzZTtcbiAgICAvLyBHZWNrbyB3aWxsIGRvIG9kZCB0aGluZ3Mgd2hlbiB0aGUgc2VsZWN0aW9uIGlzIGRpcmVjdGx5IGluIGZyb250XG4gICAgLy8gb2YgYSBub24tZWRpdGFibGUgbm9kZSwgc28gaW4gdGhhdCBjYXNlLCBtb3ZlIGl0IGludG8gdGhlIG5leHRcbiAgICAvLyBub2RlIGlmIHBvc3NpYmxlLiBJc3N1ZSBwcm9zZW1pcnJvci9wcm9zZW1pcnJvciM4MzIuXG4gICAgaWYgKGdlY2tvICYmIG5vZGUubm9kZVR5cGUgPT0gMSAmJiBvZmZzZXQgPCBub2RlTGVuKG5vZGUpICYmIGlzSWdub3JhYmxlKG5vZGUuY2hpbGROb2Rlc1tvZmZzZXRdKSlcbiAgICAgICAgZm9yY2UgPSB0cnVlO1xuICAgIGZvciAoOzspIHtcbiAgICAgICAgaWYgKG9mZnNldCA+IDApIHtcbiAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBiZWZvcmUgPSBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0IC0gMV07XG4gICAgICAgICAgICAgICAgaWYgKGlzSWdub3JhYmxlKGJlZm9yZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbW92ZU5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgICAgICBtb3ZlT2Zmc2V0ID0gLS1vZmZzZXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJlZm9yZS5ub2RlVHlwZSA9PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiZWZvcmU7XG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IG5vZGUubm9kZVZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Jsb2NrTm9kZShub2RlKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgcHJldiA9IG5vZGUucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICAgICAgd2hpbGUgKHByZXYgJiYgaXNJZ25vcmFibGUocHJldikpIHtcbiAgICAgICAgICAgICAgICBtb3ZlTm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICBtb3ZlT2Zmc2V0ID0gZG9tSW5kZXgocHJldik7XG4gICAgICAgICAgICAgICAgcHJldiA9IHByZXYucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwcmV2KSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICBpZiAobm9kZSA9PSB2aWV3LmRvbSlcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBwcmV2O1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IG5vZGVMZW4obm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZvcmNlKVxuICAgICAgICBzZXRTZWxGb2N1cyh2aWV3LCBzZWwsIG5vZGUsIG9mZnNldCk7XG4gICAgZWxzZSBpZiAobW92ZU5vZGUpXG4gICAgICAgIHNldFNlbEZvY3VzKHZpZXcsIHNlbCwgbW92ZU5vZGUsIG1vdmVPZmZzZXQpO1xufVxuLy8gTWFrZSBzdXJlIHRoZSBjdXJzb3IgaXNuJ3QgZGlyZWN0bHkgYmVmb3JlIG9uZSBvciBtb3JlIGlnbm9yZWRcbi8vIG5vZGVzLlxuZnVuY3Rpb24gc2tpcElnbm9yZWROb2Rlc1JpZ2h0KHZpZXcpIHtcbiAgICBsZXQgc2VsID0gdmlldy5kb21TZWxlY3Rpb24oKTtcbiAgICBsZXQgbm9kZSA9IHNlbC5mb2N1c05vZGUsIG9mZnNldCA9IHNlbC5mb2N1c09mZnNldDtcbiAgICBpZiAoIW5vZGUpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgbGVuID0gbm9kZUxlbihub2RlKTtcbiAgICBsZXQgbW92ZU5vZGUsIG1vdmVPZmZzZXQ7XG4gICAgZm9yICg7Oykge1xuICAgICAgICBpZiAob2Zmc2V0IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPSAxKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgbGV0IGFmdGVyID0gbm9kZS5jaGlsZE5vZGVzW29mZnNldF07XG4gICAgICAgICAgICBpZiAoaXNJZ25vcmFibGUoYWZ0ZXIpKSB7XG4gICAgICAgICAgICAgICAgbW92ZU5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgIG1vdmVPZmZzZXQgPSArK29mZnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0Jsb2NrTm9kZShub2RlKSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbmV4dCA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB3aGlsZSAobmV4dCAmJiBpc0lnbm9yYWJsZShuZXh0KSkge1xuICAgICAgICAgICAgICAgIG1vdmVOb2RlID0gbmV4dC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIG1vdmVPZmZzZXQgPSBkb21JbmRleChuZXh0KSArIDE7XG4gICAgICAgICAgICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW5leHQpIHtcbiAgICAgICAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIGlmIChub2RlID09IHZpZXcuZG9tKVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBsZW4gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbm9kZSA9IG5leHQ7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgICBsZW4gPSBub2RlTGVuKG5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChtb3ZlTm9kZSlcbiAgICAgICAgc2V0U2VsRm9jdXModmlldywgc2VsLCBtb3ZlTm9kZSwgbW92ZU9mZnNldCk7XG59XG5mdW5jdGlvbiBpc0Jsb2NrTm9kZShkb20pIHtcbiAgICBsZXQgZGVzYyA9IGRvbS5wbVZpZXdEZXNjO1xuICAgIHJldHVybiBkZXNjICYmIGRlc2Mubm9kZSAmJiBkZXNjLm5vZGUuaXNCbG9jaztcbn1cbmZ1bmN0aW9uIHNldFNlbEZvY3VzKHZpZXcsIHNlbCwgbm9kZSwgb2Zmc2V0KSB7XG4gICAgaWYgKHNlbGVjdGlvbkNvbGxhcHNlZChzZWwpKSB7XG4gICAgICAgIGxldCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgIHJhbmdlLnNldEVuZChub2RlLCBvZmZzZXQpO1xuICAgICAgICByYW5nZS5zZXRTdGFydChub2RlLCBvZmZzZXQpO1xuICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNlbC5leHRlbmQpIHtcbiAgICAgICAgc2VsLmV4dGVuZChub2RlLCBvZmZzZXQpO1xuICAgIH1cbiAgICB2aWV3LmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpO1xuICAgIGxldCB7IHN0YXRlIH0gPSB2aWV3O1xuICAgIC8vIElmIG5vIHN0YXRlIHVwZGF0ZSBlbmRzIHVwIGhhcHBlbmluZywgcmVzZXQgdGhlIHNlbGVjdGlvbi5cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgaWYgKHZpZXcuc3RhdGUgPT0gc3RhdGUpXG4gICAgICAgICAgICBzZWxlY3Rpb25Ub0RPTSh2aWV3KTtcbiAgICB9LCA1MCk7XG59XG4vLyBDaGVjayB3aGV0aGVyIHZlcnRpY2FsIHNlbGVjdGlvbiBtb3Rpb24gd291bGQgaW52b2x2ZSBub2RlXG4vLyBzZWxlY3Rpb25zLiBJZiBzbywgYXBwbHkgaXQgKGlmIG5vdCwgdGhlIHJlc3VsdCBpcyBsZWZ0IHRvIHRoZVxuLy8gYnJvd3NlcilcbmZ1bmN0aW9uIHNlbGVjdFZlcnRpY2FsbHkodmlldywgZGlyLCBtb2RzKSB7XG4gICAgbGV0IHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uO1xuICAgIGlmIChzZWwgaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uICYmICFzZWwuZW1wdHkgfHwgbW9kcy5pbmRleE9mKFwic1wiKSA+IC0xKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKG1hYyAmJiBtb2RzLmluZGV4T2YoXCJtXCIpID4gLTEpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgeyAkZnJvbSwgJHRvIH0gPSBzZWw7XG4gICAgaWYgKCEkZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudCB8fCB2aWV3LmVuZE9mVGV4dGJsb2NrKGRpciA8IDAgPyBcInVwXCIgOiBcImRvd25cIikpIHtcbiAgICAgICAgbGV0IG5leHQgPSBtb3ZlU2VsZWN0aW9uQmxvY2sodmlldy5zdGF0ZSwgZGlyKTtcbiAgICAgICAgaWYgKG5leHQgJiYgKG5leHQgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uKSlcbiAgICAgICAgICAgIHJldHVybiBhcHBseSh2aWV3LCBuZXh0KTtcbiAgICB9XG4gICAgaWYgKCEkZnJvbS5wYXJlbnQuaW5saW5lQ29udGVudCkge1xuICAgICAgICBsZXQgc2lkZSA9IGRpciA8IDAgPyAkZnJvbSA6ICR0bztcbiAgICAgICAgbGV0IGJleW9uZCA9IHNlbCBpbnN0YW5jZW9mIEFsbFNlbGVjdGlvbiA/IFNlbGVjdGlvbi5uZWFyKHNpZGUsIGRpcikgOiBTZWxlY3Rpb24uZmluZEZyb20oc2lkZSwgZGlyKTtcbiAgICAgICAgcmV0dXJuIGJleW9uZCA/IGFwcGx5KHZpZXcsIGJleW9uZCkgOiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gc3RvcE5hdGl2ZUhvcml6b250YWxEZWxldGUodmlldywgZGlyKSB7XG4gICAgaWYgKCEodmlldy5zdGF0ZS5zZWxlY3Rpb24gaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgbGV0IHsgJGhlYWQsICRhbmNob3IsIGVtcHR5IH0gPSB2aWV3LnN0YXRlLnNlbGVjdGlvbjtcbiAgICBpZiAoISRoZWFkLnNhbWVQYXJlbnQoJGFuY2hvcikpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmICghZW1wdHkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBpZiAodmlldy5lbmRPZlRleHRibG9jayhkaXIgPiAwID8gXCJmb3J3YXJkXCIgOiBcImJhY2t3YXJkXCIpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBsZXQgbmV4dE5vZGUgPSAhJGhlYWQudGV4dE9mZnNldCAmJiAoZGlyIDwgMCA/ICRoZWFkLm5vZGVCZWZvcmUgOiAkaGVhZC5ub2RlQWZ0ZXIpO1xuICAgIGlmIChuZXh0Tm9kZSAmJiAhbmV4dE5vZGUuaXNUZXh0KSB7XG4gICAgICAgIGxldCB0ciA9IHZpZXcuc3RhdGUudHI7XG4gICAgICAgIGlmIChkaXIgPCAwKVxuICAgICAgICAgICAgdHIuZGVsZXRlKCRoZWFkLnBvcyAtIG5leHROb2RlLm5vZGVTaXplLCAkaGVhZC5wb3MpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0ci5kZWxldGUoJGhlYWQucG9zLCAkaGVhZC5wb3MgKyBuZXh0Tm9kZS5ub2RlU2l6ZSk7XG4gICAgICAgIHZpZXcuZGlzcGF0Y2godHIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gc3dpdGNoRWRpdGFibGUodmlldywgbm9kZSwgc3RhdGUpIHtcbiAgICB2aWV3LmRvbU9ic2VydmVyLnN0b3AoKTtcbiAgICBub2RlLmNvbnRlbnRFZGl0YWJsZSA9IHN0YXRlO1xuICAgIHZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKTtcbn1cbi8vIElzc3VlICM4NjcgLyAjMTA5MCAvIGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTkwMzgyMVxuLy8gSW4gd2hpY2ggU2FmYXJpIChhbmQgYXQgc29tZSBwb2ludCBpbiB0aGUgcGFzdCwgQ2hyb21lKSBkb2VzIHJlYWxseVxuLy8gd3JvbmcgdGhpbmdzIHdoZW4gdGhlIGRvd24gYXJyb3cgaXMgcHJlc3NlZCB3aGVuIHRoZSBjdXJzb3IgaXNcbi8vIGRpcmVjdGx5IGF0IHRoZSBzdGFydCBvZiBhIHRleHRibG9jayBhbmQgaGFzIGFuIHVuZWRpdGFibGUgbm9kZVxuLy8gYWZ0ZXIgaXRcbmZ1bmN0aW9uIHNhZmFyaURvd25BcnJvd0J1Zyh2aWV3KSB7XG4gICAgaWYgKCFzYWZhcmkgfHwgdmlldy5zdGF0ZS5zZWxlY3Rpb24uJGhlYWQucGFyZW50T2Zmc2V0ID4gMClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCB7IGZvY3VzTm9kZSwgZm9jdXNPZmZzZXQgfSA9IHZpZXcuZG9tU2VsZWN0aW9uKCk7XG4gICAgaWYgKGZvY3VzTm9kZSAmJiBmb2N1c05vZGUubm9kZVR5cGUgPT0gMSAmJiBmb2N1c09mZnNldCA9PSAwICYmXG4gICAgICAgIGZvY3VzTm9kZS5maXJzdENoaWxkICYmIGZvY3VzTm9kZS5maXJzdENoaWxkLmNvbnRlbnRFZGl0YWJsZSA9PSBcImZhbHNlXCIpIHtcbiAgICAgICAgbGV0IGNoaWxkID0gZm9jdXNOb2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIHN3aXRjaEVkaXRhYmxlKHZpZXcsIGNoaWxkLCBcInRydWVcIik7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc3dpdGNoRWRpdGFibGUodmlldywgY2hpbGQsIFwiZmFsc2VcIiksIDIwKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuLy8gQSBiYWNrZHJvcCBrZXkgbWFwcGluZyB1c2VkIHRvIG1ha2Ugc3VyZSB3ZSBhbHdheXMgc3VwcHJlc3Mga2V5c1xuLy8gdGhhdCBoYXZlIGEgZGFuZ2Vyb3VzIGRlZmF1bHQgZWZmZWN0LCBldmVuIGlmIHRoZSBjb21tYW5kcyB0aGV5IGFyZVxuLy8gYm91bmQgdG8gcmV0dXJuIGZhbHNlLCBhbmQgdG8gbWFrZSBzdXJlIHRoYXQgY3Vyc29yLW1vdGlvbiBrZXlzXG4vLyBmaW5kIGEgY3Vyc29yIChhcyBvcHBvc2VkIHRvIGEgbm9kZSBzZWxlY3Rpb24pIHdoZW4gcHJlc3NlZC4gRm9yXG4vLyBjdXJzb3ItbW90aW9uIGtleXMsIHRoZSBjb2RlIGluIHRoZSBoYW5kbGVycyBhbHNvIHRha2VzIGNhcmUgb2Zcbi8vIGJsb2NrIHNlbGVjdGlvbnMuXG5mdW5jdGlvbiBnZXRNb2RzKGV2ZW50KSB7XG4gICAgbGV0IHJlc3VsdCA9IFwiXCI7XG4gICAgaWYgKGV2ZW50LmN0cmxLZXkpXG4gICAgICAgIHJlc3VsdCArPSBcImNcIjtcbiAgICBpZiAoZXZlbnQubWV0YUtleSlcbiAgICAgICAgcmVzdWx0ICs9IFwibVwiO1xuICAgIGlmIChldmVudC5hbHRLZXkpXG4gICAgICAgIHJlc3VsdCArPSBcImFcIjtcbiAgICBpZiAoZXZlbnQuc2hpZnRLZXkpXG4gICAgICAgIHJlc3VsdCArPSBcInNcIjtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY2FwdHVyZUtleURvd24odmlldywgZXZlbnQpIHtcbiAgICBsZXQgY29kZSA9IGV2ZW50LmtleUNvZGUsIG1vZHMgPSBnZXRNb2RzKGV2ZW50KTtcbiAgICBpZiAoY29kZSA9PSA4IHx8IChtYWMgJiYgY29kZSA9PSA3MiAmJiBtb2RzID09IFwiY1wiKSkgeyAvLyBCYWNrc3BhY2UsIEN0cmwtaCBvbiBNYWNcbiAgICAgICAgcmV0dXJuIHN0b3BOYXRpdmVIb3Jpem9udGFsRGVsZXRlKHZpZXcsIC0xKSB8fCBza2lwSWdub3JlZE5vZGVzTGVmdCh2aWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29kZSA9PSA0NiB8fCAobWFjICYmIGNvZGUgPT0gNjggJiYgbW9kcyA9PSBcImNcIikpIHsgLy8gRGVsZXRlLCBDdHJsLWQgb24gTWFjXG4gICAgICAgIHJldHVybiBzdG9wTmF0aXZlSG9yaXpvbnRhbERlbGV0ZSh2aWV3LCAxKSB8fCBza2lwSWdub3JlZE5vZGVzUmlnaHQodmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvZGUgPT0gMTMgfHwgY29kZSA9PSAyNykgeyAvLyBFbnRlciwgRXNjXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb2RlID09IDM3IHx8IChtYWMgJiYgY29kZSA9PSA2NiAmJiBtb2RzID09IFwiY1wiKSkgeyAvLyBMZWZ0IGFycm93LCBDdHJsLWIgb24gTWFjXG4gICAgICAgIHJldHVybiBzZWxlY3RIb3Jpem9udGFsbHkodmlldywgLTEsIG1vZHMpIHx8IHNraXBJZ25vcmVkTm9kZXNMZWZ0KHZpZXcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb2RlID09IDM5IHx8IChtYWMgJiYgY29kZSA9PSA3MCAmJiBtb2RzID09IFwiY1wiKSkgeyAvLyBSaWdodCBhcnJvdywgQ3RybC1mIG9uIE1hY1xuICAgICAgICByZXR1cm4gc2VsZWN0SG9yaXpvbnRhbGx5KHZpZXcsIDEsIG1vZHMpIHx8IHNraXBJZ25vcmVkTm9kZXNSaWdodCh2aWV3KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29kZSA9PSAzOCB8fCAobWFjICYmIGNvZGUgPT0gODAgJiYgbW9kcyA9PSBcImNcIikpIHsgLy8gVXAgYXJyb3csIEN0cmwtcCBvbiBNYWNcbiAgICAgICAgcmV0dXJuIHNlbGVjdFZlcnRpY2FsbHkodmlldywgLTEsIG1vZHMpIHx8IHNraXBJZ25vcmVkTm9kZXNMZWZ0KHZpZXcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb2RlID09IDQwIHx8IChtYWMgJiYgY29kZSA9PSA3OCAmJiBtb2RzID09IFwiY1wiKSkgeyAvLyBEb3duIGFycm93LCBDdHJsLW4gb24gTWFjXG4gICAgICAgIHJldHVybiBzYWZhcmlEb3duQXJyb3dCdWcodmlldykgfHwgc2VsZWN0VmVydGljYWxseSh2aWV3LCAxLCBtb2RzKSB8fCBza2lwSWdub3JlZE5vZGVzUmlnaHQodmlldyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1vZHMgPT0gKG1hYyA/IFwibVwiIDogXCJjXCIpICYmXG4gICAgICAgIChjb2RlID09IDY2IHx8IGNvZGUgPT0gNzMgfHwgY29kZSA9PSA4OSB8fCBjb2RlID09IDkwKSkgeyAvLyBNb2QtW2JpeXpdXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUZvckNsaXBib2FyZCh2aWV3LCBzbGljZSkge1xuICAgIGxldCBjb250ZXh0ID0gW10sIHsgY29udGVudCwgb3BlblN0YXJ0LCBvcGVuRW5kIH0gPSBzbGljZTtcbiAgICB3aGlsZSAob3BlblN0YXJ0ID4gMSAmJiBvcGVuRW5kID4gMSAmJiBjb250ZW50LmNoaWxkQ291bnQgPT0gMSAmJiBjb250ZW50LmZpcnN0Q2hpbGQuY2hpbGRDb3VudCA9PSAxKSB7XG4gICAgICAgIG9wZW5TdGFydC0tO1xuICAgICAgICBvcGVuRW5kLS07XG4gICAgICAgIGxldCBub2RlID0gY29udGVudC5maXJzdENoaWxkO1xuICAgICAgICBjb250ZXh0LnB1c2gobm9kZS50eXBlLm5hbWUsIG5vZGUuYXR0cnMgIT0gbm9kZS50eXBlLmRlZmF1bHRBdHRycyA/IG5vZGUuYXR0cnMgOiBudWxsKTtcbiAgICAgICAgY29udGVudCA9IG5vZGUuY29udGVudDtcbiAgICB9XG4gICAgbGV0IHNlcmlhbGl6ZXIgPSB2aWV3LnNvbWVQcm9wKFwiY2xpcGJvYXJkU2VyaWFsaXplclwiKSB8fCBET01TZXJpYWxpemVyLmZyb21TY2hlbWEodmlldy5zdGF0ZS5zY2hlbWEpO1xuICAgIGxldCBkb2MgPSBkZXRhY2hlZERvYygpLCB3cmFwID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgd3JhcC5hcHBlbmRDaGlsZChzZXJpYWxpemVyLnNlcmlhbGl6ZUZyYWdtZW50KGNvbnRlbnQsIHsgZG9jdW1lbnQ6IGRvYyB9KSk7XG4gICAgbGV0IGZpcnN0Q2hpbGQgPSB3cmFwLmZpcnN0Q2hpbGQsIG5lZWRzV3JhcCwgd3JhcHBlcnMgPSAwO1xuICAgIHdoaWxlIChmaXJzdENoaWxkICYmIGZpcnN0Q2hpbGQubm9kZVR5cGUgPT0gMSAmJiAobmVlZHNXcmFwID0gd3JhcE1hcFtmaXJzdENoaWxkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSkge1xuICAgICAgICBmb3IgKGxldCBpID0gbmVlZHNXcmFwLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICBsZXQgd3JhcHBlciA9IGRvYy5jcmVhdGVFbGVtZW50KG5lZWRzV3JhcFtpXSk7XG4gICAgICAgICAgICB3aGlsZSAod3JhcC5maXJzdENoaWxkKVxuICAgICAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQod3JhcC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIHdyYXAuYXBwZW5kQ2hpbGQod3JhcHBlcik7XG4gICAgICAgICAgICB3cmFwcGVycysrO1xuICAgICAgICB9XG4gICAgICAgIGZpcnN0Q2hpbGQgPSB3cmFwLmZpcnN0Q2hpbGQ7XG4gICAgfVxuICAgIGlmIChmaXJzdENoaWxkICYmIGZpcnN0Q2hpbGQubm9kZVR5cGUgPT0gMSlcbiAgICAgICAgZmlyc3RDaGlsZC5zZXRBdHRyaWJ1dGUoXCJkYXRhLXBtLXNsaWNlXCIsIGAke29wZW5TdGFydH0gJHtvcGVuRW5kfSR7d3JhcHBlcnMgPyBgIC0ke3dyYXBwZXJzfWAgOiBcIlwifSAke0pTT04uc3RyaW5naWZ5KGNvbnRleHQpfWApO1xuICAgIGxldCB0ZXh0ID0gdmlldy5zb21lUHJvcChcImNsaXBib2FyZFRleHRTZXJpYWxpemVyXCIsIGYgPT4gZihzbGljZSkpIHx8XG4gICAgICAgIHNsaWNlLmNvbnRlbnQudGV4dEJldHdlZW4oMCwgc2xpY2UuY29udGVudC5zaXplLCBcIlxcblxcblwiKTtcbiAgICByZXR1cm4geyBkb206IHdyYXAsIHRleHQgfTtcbn1cbi8vIFJlYWQgYSBzbGljZSBvZiBjb250ZW50IGZyb20gdGhlIGNsaXBib2FyZCAob3IgZHJvcCBkYXRhKS5cbmZ1bmN0aW9uIHBhcnNlRnJvbUNsaXBib2FyZCh2aWV3LCB0ZXh0LCBodG1sLCBwbGFpblRleHQsICRjb250ZXh0KSB7XG4gICAgbGV0IGluQ29kZSA9ICRjb250ZXh0LnBhcmVudC50eXBlLnNwZWMuY29kZTtcbiAgICBsZXQgZG9tLCBzbGljZTtcbiAgICBpZiAoIWh0bWwgJiYgIXRleHQpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBhc1RleHQgPSB0ZXh0ICYmIChwbGFpblRleHQgfHwgaW5Db2RlIHx8ICFodG1sKTtcbiAgICBpZiAoYXNUZXh0KSB7XG4gICAgICAgIHZpZXcuc29tZVByb3AoXCJ0cmFuc2Zvcm1QYXN0ZWRUZXh0XCIsIGYgPT4geyB0ZXh0ID0gZih0ZXh0LCBpbkNvZGUgfHwgcGxhaW5UZXh0KTsgfSk7XG4gICAgICAgIGlmIChpbkNvZGUpXG4gICAgICAgICAgICByZXR1cm4gdGV4dCA/IG5ldyBTbGljZShGcmFnbWVudC5mcm9tKHZpZXcuc3RhdGUuc2NoZW1hLnRleHQodGV4dC5yZXBsYWNlKC9cXHJcXG4/L2csIFwiXFxuXCIpKSksIDAsIDApIDogU2xpY2UuZW1wdHk7XG4gICAgICAgIGxldCBwYXJzZWQgPSB2aWV3LnNvbWVQcm9wKFwiY2xpcGJvYXJkVGV4dFBhcnNlclwiLCBmID0+IGYodGV4dCwgJGNvbnRleHQsIHBsYWluVGV4dCkpO1xuICAgICAgICBpZiAocGFyc2VkKSB7XG4gICAgICAgICAgICBzbGljZSA9IHBhcnNlZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBtYXJrcyA9ICRjb250ZXh0Lm1hcmtzKCk7XG4gICAgICAgICAgICBsZXQgeyBzY2hlbWEgfSA9IHZpZXcuc3RhdGUsIHNlcmlhbGl6ZXIgPSBET01TZXJpYWxpemVyLmZyb21TY2hlbWEoc2NoZW1hKTtcbiAgICAgICAgICAgIGRvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICB0ZXh0LnNwbGl0KC8oPzpcXHJcXG4/fFxcbikrLykuZm9yRWFjaChibG9jayA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHAgPSBkb20uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIikpO1xuICAgICAgICAgICAgICAgIGlmIChibG9jaylcbiAgICAgICAgICAgICAgICAgICAgcC5hcHBlbmRDaGlsZChzZXJpYWxpemVyLnNlcmlhbGl6ZU5vZGUoc2NoZW1hLnRleHQoYmxvY2ssIG1hcmtzKSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZpZXcuc29tZVByb3AoXCJ0cmFuc2Zvcm1QYXN0ZWRIVE1MXCIsIGYgPT4geyBodG1sID0gZihodG1sKTsgfSk7XG4gICAgICAgIGRvbSA9IHJlYWRIVE1MKGh0bWwpO1xuICAgICAgICBpZiAod2Via2l0KVxuICAgICAgICAgICAgcmVzdG9yZVJlcGxhY2VkU3BhY2VzKGRvbSk7XG4gICAgfVxuICAgIGxldCBjb250ZXh0Tm9kZSA9IGRvbSAmJiBkb20ucXVlcnlTZWxlY3RvcihcIltkYXRhLXBtLXNsaWNlXVwiKTtcbiAgICBsZXQgc2xpY2VEYXRhID0gY29udGV4dE5vZGUgJiYgL14oXFxkKykgKFxcZCspKD86IC0oXFxkKykpPyAoLiopLy5leGVjKGNvbnRleHROb2RlLmdldEF0dHJpYnV0ZShcImRhdGEtcG0tc2xpY2VcIikgfHwgXCJcIik7XG4gICAgaWYgKHNsaWNlRGF0YSAmJiBzbGljZURhdGFbM10pXG4gICAgICAgIGZvciAobGV0IGkgPSArc2xpY2VEYXRhWzNdOyBpID4gMCAmJiBkb20uZmlyc3RDaGlsZDsgaS0tKVxuICAgICAgICAgICAgZG9tID0gZG9tLmZpcnN0Q2hpbGQ7XG4gICAgaWYgKCFzbGljZSkge1xuICAgICAgICBsZXQgcGFyc2VyID0gdmlldy5zb21lUHJvcChcImNsaXBib2FyZFBhcnNlclwiKSB8fCB2aWV3LnNvbWVQcm9wKFwiZG9tUGFyc2VyXCIpIHx8IERPTVBhcnNlci5mcm9tU2NoZW1hKHZpZXcuc3RhdGUuc2NoZW1hKTtcbiAgICAgICAgc2xpY2UgPSBwYXJzZXIucGFyc2VTbGljZShkb20sIHtcbiAgICAgICAgICAgIHByZXNlcnZlV2hpdGVzcGFjZTogISEoYXNUZXh0IHx8IHNsaWNlRGF0YSksXG4gICAgICAgICAgICBjb250ZXh0OiAkY29udGV4dCxcbiAgICAgICAgICAgIHJ1bGVGcm9tTm9kZShkb20pIHtcbiAgICAgICAgICAgICAgICBpZiAoZG9tLm5vZGVOYW1lID09IFwiQlJcIiAmJiAhZG9tLm5leHRTaWJsaW5nICYmXG4gICAgICAgICAgICAgICAgICAgIGRvbS5wYXJlbnROb2RlICYmICFpbmxpbmVQYXJlbnRzLnRlc3QoZG9tLnBhcmVudE5vZGUubm9kZU5hbWUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geyBpZ25vcmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzbGljZURhdGEpIHtcbiAgICAgICAgc2xpY2UgPSBhZGRDb250ZXh0KGNsb3NlU2xpY2Uoc2xpY2UsICtzbGljZURhdGFbMV0sICtzbGljZURhdGFbMl0pLCBzbGljZURhdGFbNF0pO1xuICAgIH1cbiAgICBlbHNlIHsgLy8gSFRNTCB3YXNuJ3QgY3JlYXRlZCBieSBQcm9zZU1pcnJvci4gTWFrZSBzdXJlIHRvcC1sZXZlbCBzaWJsaW5ncyBhcmUgY29oZXJlbnRcbiAgICAgICAgc2xpY2UgPSBTbGljZS5tYXhPcGVuKG5vcm1hbGl6ZVNpYmxpbmdzKHNsaWNlLmNvbnRlbnQsICRjb250ZXh0KSwgdHJ1ZSk7XG4gICAgICAgIGlmIChzbGljZS5vcGVuU3RhcnQgfHwgc2xpY2Uub3BlbkVuZCkge1xuICAgICAgICAgICAgbGV0IG9wZW5TdGFydCA9IDAsIG9wZW5FbmQgPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgbm9kZSA9IHNsaWNlLmNvbnRlbnQuZmlyc3RDaGlsZDsgb3BlblN0YXJ0IDwgc2xpY2Uub3BlblN0YXJ0ICYmICFub2RlLnR5cGUuc3BlYy5pc29sYXRpbmc7IG9wZW5TdGFydCsrLCBub2RlID0gbm9kZS5maXJzdENoaWxkKSB7IH1cbiAgICAgICAgICAgIGZvciAobGV0IG5vZGUgPSBzbGljZS5jb250ZW50Lmxhc3RDaGlsZDsgb3BlbkVuZCA8IHNsaWNlLm9wZW5FbmQgJiYgIW5vZGUudHlwZS5zcGVjLmlzb2xhdGluZzsgb3BlbkVuZCsrLCBub2RlID0gbm9kZS5sYXN0Q2hpbGQpIHsgfVxuICAgICAgICAgICAgc2xpY2UgPSBjbG9zZVNsaWNlKHNsaWNlLCBvcGVuU3RhcnQsIG9wZW5FbmQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZpZXcuc29tZVByb3AoXCJ0cmFuc2Zvcm1QYXN0ZWRcIiwgZiA9PiB7IHNsaWNlID0gZihzbGljZSk7IH0pO1xuICAgIHJldHVybiBzbGljZTtcbn1cbmNvbnN0IGlubGluZVBhcmVudHMgPSAvXihhfGFiYnJ8YWNyb255bXxifGNpdGV8Y29kZXxkZWx8ZW18aXxpbnN8a2JkfGxhYmVsfG91dHB1dHxxfHJ1Ynl8c3xzYW1wfHNwYW58c3Ryb25nfHN1YnxzdXB8dGltZXx1fHR0fHZhcikkL2k7XG4vLyBUYWtlcyBhIHNsaWNlIHBhcnNlZCB3aXRoIHBhcnNlU2xpY2UsIHdoaWNoIG1lYW5zIHRoZXJlIGhhc24ndCBiZWVuXG4vLyBhbnkgY29udGVudC1leHByZXNzaW9uIGNoZWNraW5nIGRvbmUgb24gdGhlIHRvcCBub2RlcywgdHJpZXMgdG9cbi8vIGZpbmQgYSBwYXJlbnQgbm9kZSBpbiB0aGUgY3VycmVudCBjb250ZXh0IHRoYXQgbWlnaHQgZml0IHRoZSBub2Rlcyxcbi8vIGFuZCBpZiBzdWNjZXNzZnVsLCByZWJ1aWxkcyB0aGUgc2xpY2Ugc28gdGhhdCBpdCBmaXRzIGludG8gdGhhdCBwYXJlbnQuXG4vL1xuLy8gVGhpcyBhZGRyZXNzZXMgdGhlIHByb2JsZW0gdGhhdCBUcmFuc2Zvcm0ucmVwbGFjZSBleHBlY3RzIGFcbi8vIGNvaGVyZW50IHNsaWNlLCBhbmQgd2lsbCBmYWlsIHRvIHBsYWNlIGEgc2V0IG9mIHNpYmxpbmdzIHRoYXQgZG9uJ3Rcbi8vIGZpdCBhbnl3aGVyZSBpbiB0aGUgc2NoZW1hLlxuZnVuY3Rpb24gbm9ybWFsaXplU2libGluZ3MoZnJhZ21lbnQsICRjb250ZXh0KSB7XG4gICAgaWYgKGZyYWdtZW50LmNoaWxkQ291bnQgPCAyKVxuICAgICAgICByZXR1cm4gZnJhZ21lbnQ7XG4gICAgZm9yIChsZXQgZCA9ICRjb250ZXh0LmRlcHRoOyBkID49IDA7IGQtLSkge1xuICAgICAgICBsZXQgcGFyZW50ID0gJGNvbnRleHQubm9kZShkKTtcbiAgICAgICAgbGV0IG1hdGNoID0gcGFyZW50LmNvbnRlbnRNYXRjaEF0KCRjb250ZXh0LmluZGV4KGQpKTtcbiAgICAgICAgbGV0IGxhc3RXcmFwLCByZXN1bHQgPSBbXTtcbiAgICAgICAgZnJhZ21lbnQuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICAgIGlmICghcmVzdWx0KVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGxldCB3cmFwID0gbWF0Y2guZmluZFdyYXBwaW5nKG5vZGUudHlwZSksIGluTGFzdDtcbiAgICAgICAgICAgIGlmICghd3JhcClcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChpbkxhc3QgPSByZXN1bHQubGVuZ3RoICYmIGxhc3RXcmFwLmxlbmd0aCAmJiBhZGRUb1NpYmxpbmcod3JhcCwgbGFzdFdyYXAsIG5vZGUsIHJlc3VsdFtyZXN1bHQubGVuZ3RoIC0gMV0sIDApKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0W3Jlc3VsdC5sZW5ndGggLSAxXSA9IGluTGFzdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdID0gY2xvc2VSaWdodChyZXN1bHRbcmVzdWx0Lmxlbmd0aCAtIDFdLCBsYXN0V3JhcC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIGxldCB3cmFwcGVkID0gd2l0aFdyYXBwZXJzKG5vZGUsIHdyYXApO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHdyYXBwZWQpO1xuICAgICAgICAgICAgICAgIG1hdGNoID0gbWF0Y2gubWF0Y2hUeXBlKHdyYXBwZWQudHlwZSk7XG4gICAgICAgICAgICAgICAgbGFzdFdyYXAgPSB3cmFwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3VsdClcbiAgICAgICAgICAgIHJldHVybiBGcmFnbWVudC5mcm9tKHJlc3VsdCk7XG4gICAgfVxuICAgIHJldHVybiBmcmFnbWVudDtcbn1cbmZ1bmN0aW9uIHdpdGhXcmFwcGVycyhub2RlLCB3cmFwLCBmcm9tID0gMCkge1xuICAgIGZvciAobGV0IGkgPSB3cmFwLmxlbmd0aCAtIDE7IGkgPj0gZnJvbTsgaS0tKVxuICAgICAgICBub2RlID0gd3JhcFtpXS5jcmVhdGUobnVsbCwgRnJhZ21lbnQuZnJvbShub2RlKSk7XG4gICAgcmV0dXJuIG5vZGU7XG59XG4vLyBVc2VkIHRvIGdyb3VwIGFkamFjZW50IG5vZGVzIHdyYXBwZWQgaW4gc2ltaWxhciBwYXJlbnRzIGJ5XG4vLyBub3JtYWxpemVTaWJsaW5ncyBpbnRvIHRoZSBzYW1lIHBhcmVudCBub2RlXG5mdW5jdGlvbiBhZGRUb1NpYmxpbmcod3JhcCwgbGFzdFdyYXAsIG5vZGUsIHNpYmxpbmcsIGRlcHRoKSB7XG4gICAgaWYgKGRlcHRoIDwgd3JhcC5sZW5ndGggJiYgZGVwdGggPCBsYXN0V3JhcC5sZW5ndGggJiYgd3JhcFtkZXB0aF0gPT0gbGFzdFdyYXBbZGVwdGhdKSB7XG4gICAgICAgIGxldCBpbm5lciA9IGFkZFRvU2libGluZyh3cmFwLCBsYXN0V3JhcCwgbm9kZSwgc2libGluZy5sYXN0Q2hpbGQsIGRlcHRoICsgMSk7XG4gICAgICAgIGlmIChpbm5lcilcbiAgICAgICAgICAgIHJldHVybiBzaWJsaW5nLmNvcHkoc2libGluZy5jb250ZW50LnJlcGxhY2VDaGlsZChzaWJsaW5nLmNoaWxkQ291bnQgLSAxLCBpbm5lcikpO1xuICAgICAgICBsZXQgbWF0Y2ggPSBzaWJsaW5nLmNvbnRlbnRNYXRjaEF0KHNpYmxpbmcuY2hpbGRDb3VudCk7XG4gICAgICAgIGlmIChtYXRjaC5tYXRjaFR5cGUoZGVwdGggPT0gd3JhcC5sZW5ndGggLSAxID8gbm9kZS50eXBlIDogd3JhcFtkZXB0aCArIDFdKSlcbiAgICAgICAgICAgIHJldHVybiBzaWJsaW5nLmNvcHkoc2libGluZy5jb250ZW50LmFwcGVuZChGcmFnbWVudC5mcm9tKHdpdGhXcmFwcGVycyhub2RlLCB3cmFwLCBkZXB0aCArIDEpKSkpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNsb3NlUmlnaHQobm9kZSwgZGVwdGgpIHtcbiAgICBpZiAoZGVwdGggPT0gMClcbiAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgbGV0IGZyYWdtZW50ID0gbm9kZS5jb250ZW50LnJlcGxhY2VDaGlsZChub2RlLmNoaWxkQ291bnQgLSAxLCBjbG9zZVJpZ2h0KG5vZGUubGFzdENoaWxkLCBkZXB0aCAtIDEpKTtcbiAgICBsZXQgZmlsbCA9IG5vZGUuY29udGVudE1hdGNoQXQobm9kZS5jaGlsZENvdW50KS5maWxsQmVmb3JlKEZyYWdtZW50LmVtcHR5LCB0cnVlKTtcbiAgICByZXR1cm4gbm9kZS5jb3B5KGZyYWdtZW50LmFwcGVuZChmaWxsKSk7XG59XG5mdW5jdGlvbiBjbG9zZVJhbmdlKGZyYWdtZW50LCBzaWRlLCBmcm9tLCB0bywgZGVwdGgsIG9wZW5FbmQpIHtcbiAgICBsZXQgbm9kZSA9IHNpZGUgPCAwID8gZnJhZ21lbnQuZmlyc3RDaGlsZCA6IGZyYWdtZW50Lmxhc3RDaGlsZCwgaW5uZXIgPSBub2RlLmNvbnRlbnQ7XG4gICAgaWYgKGRlcHRoIDwgdG8gLSAxKVxuICAgICAgICBpbm5lciA9IGNsb3NlUmFuZ2UoaW5uZXIsIHNpZGUsIGZyb20sIHRvLCBkZXB0aCArIDEsIG9wZW5FbmQpO1xuICAgIGlmIChkZXB0aCA+PSBmcm9tKVxuICAgICAgICBpbm5lciA9IHNpZGUgPCAwID8gbm9kZS5jb250ZW50TWF0Y2hBdCgwKS5maWxsQmVmb3JlKGlubmVyLCBmcmFnbWVudC5jaGlsZENvdW50ID4gMSB8fCBvcGVuRW5kIDw9IGRlcHRoKS5hcHBlbmQoaW5uZXIpXG4gICAgICAgICAgICA6IGlubmVyLmFwcGVuZChub2RlLmNvbnRlbnRNYXRjaEF0KG5vZGUuY2hpbGRDb3VudCkuZmlsbEJlZm9yZShGcmFnbWVudC5lbXB0eSwgdHJ1ZSkpO1xuICAgIHJldHVybiBmcmFnbWVudC5yZXBsYWNlQ2hpbGQoc2lkZSA8IDAgPyAwIDogZnJhZ21lbnQuY2hpbGRDb3VudCAtIDEsIG5vZGUuY29weShpbm5lcikpO1xufVxuZnVuY3Rpb24gY2xvc2VTbGljZShzbGljZSwgb3BlblN0YXJ0LCBvcGVuRW5kKSB7XG4gICAgaWYgKG9wZW5TdGFydCA8IHNsaWNlLm9wZW5TdGFydClcbiAgICAgICAgc2xpY2UgPSBuZXcgU2xpY2UoY2xvc2VSYW5nZShzbGljZS5jb250ZW50LCAtMSwgb3BlblN0YXJ0LCBzbGljZS5vcGVuU3RhcnQsIDAsIHNsaWNlLm9wZW5FbmQpLCBvcGVuU3RhcnQsIHNsaWNlLm9wZW5FbmQpO1xuICAgIGlmIChvcGVuRW5kIDwgc2xpY2Uub3BlbkVuZClcbiAgICAgICAgc2xpY2UgPSBuZXcgU2xpY2UoY2xvc2VSYW5nZShzbGljZS5jb250ZW50LCAxLCBvcGVuRW5kLCBzbGljZS5vcGVuRW5kLCAwLCAwKSwgc2xpY2Uub3BlblN0YXJ0LCBvcGVuRW5kKTtcbiAgICByZXR1cm4gc2xpY2U7XG59XG4vLyBUcmljayBmcm9tIGpRdWVyeSAtLSBzb21lIGVsZW1lbnRzIG11c3QgYmUgd3JhcHBlZCBpbiBvdGhlclxuLy8gZWxlbWVudHMgZm9yIGlubmVySFRNTCB0byB3b3JrLiBJLmUuIGlmIHlvdSBkbyBgZGl2LmlubmVySFRNTCA9XG4vLyBcIjx0ZD4uLjwvdGQ+XCJgIHRoZSB0YWJsZSBjZWxscyBhcmUgaWdub3JlZC5cbmNvbnN0IHdyYXBNYXAgPSB7XG4gICAgdGhlYWQ6IFtcInRhYmxlXCJdLFxuICAgIHRib2R5OiBbXCJ0YWJsZVwiXSxcbiAgICB0Zm9vdDogW1widGFibGVcIl0sXG4gICAgY2FwdGlvbjogW1widGFibGVcIl0sXG4gICAgY29sZ3JvdXA6IFtcInRhYmxlXCJdLFxuICAgIGNvbDogW1widGFibGVcIiwgXCJjb2xncm91cFwiXSxcbiAgICB0cjogW1widGFibGVcIiwgXCJ0Ym9keVwiXSxcbiAgICB0ZDogW1widGFibGVcIiwgXCJ0Ym9keVwiLCBcInRyXCJdLFxuICAgIHRoOiBbXCJ0YWJsZVwiLCBcInRib2R5XCIsIFwidHJcIl1cbn07XG5sZXQgX2RldGFjaGVkRG9jID0gbnVsbDtcbmZ1bmN0aW9uIGRldGFjaGVkRG9jKCkge1xuICAgIHJldHVybiBfZGV0YWNoZWREb2MgfHwgKF9kZXRhY2hlZERvYyA9IGRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcInRpdGxlXCIpKTtcbn1cbmZ1bmN0aW9uIHJlYWRIVE1MKGh0bWwpIHtcbiAgICBsZXQgbWV0YXMgPSAvXihcXHMqPG1ldGEgW14+XSo+KSovLmV4ZWMoaHRtbCk7XG4gICAgaWYgKG1ldGFzKVxuICAgICAgICBodG1sID0gaHRtbC5zbGljZShtZXRhc1swXS5sZW5ndGgpO1xuICAgIGxldCBlbHQgPSBkZXRhY2hlZERvYygpLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgbGV0IGZpcnN0VGFnID0gLzwoW2Etel1bXj5cXHNdKykvaS5leGVjKGh0bWwpLCB3cmFwO1xuICAgIGlmICh3cmFwID0gZmlyc3RUYWcgJiYgd3JhcE1hcFtmaXJzdFRhZ1sxXS50b0xvd2VyQ2FzZSgpXSlcbiAgICAgICAgaHRtbCA9IHdyYXAubWFwKG4gPT4gXCI8XCIgKyBuICsgXCI+XCIpLmpvaW4oXCJcIikgKyBodG1sICsgd3JhcC5tYXAobiA9PiBcIjwvXCIgKyBuICsgXCI+XCIpLnJldmVyc2UoKS5qb2luKFwiXCIpO1xuICAgIGVsdC5pbm5lckhUTUwgPSBodG1sO1xuICAgIGlmICh3cmFwKVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHdyYXAubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBlbHQgPSBlbHQucXVlcnlTZWxlY3Rvcih3cmFwW2ldKSB8fCBlbHQ7XG4gICAgcmV0dXJuIGVsdDtcbn1cbi8vIFdlYmtpdCBicm93c2VycyBkbyBzb21lIGhhcmQtdG8tcHJlZGljdCByZXBsYWNlbWVudCBvZiByZWd1bGFyXG4vLyBzcGFjZXMgd2l0aCBub24tYnJlYWtpbmcgc3BhY2VzIHdoZW4gcHV0dGluZyBjb250ZW50IG9uIHRoZVxuLy8gY2xpcGJvYXJkLiBUaGlzIHRyaWVzIHRvIGNvbnZlcnQgc3VjaCBub24tYnJlYWtpbmcgc3BhY2VzICh3aGljaFxuLy8gd2lsbCBiZSB3cmFwcGVkIGluIGEgcGxhaW4gc3BhbiBvbiBDaHJvbWUsIGEgc3BhbiB3aXRoIGNsYXNzXG4vLyBBcHBsZS1jb252ZXJ0ZWQtc3BhY2Ugb24gU2FmYXJpKSBiYWNrIHRvIHJlZ3VsYXIgc3BhY2VzLlxuZnVuY3Rpb24gcmVzdG9yZVJlcGxhY2VkU3BhY2VzKGRvbSkge1xuICAgIGxldCBub2RlcyA9IGRvbS5xdWVyeVNlbGVjdG9yQWxsKGNocm9tZSA/IFwic3Bhbjpub3QoW2NsYXNzXSk6bm90KFtzdHlsZV0pXCIgOiBcInNwYW4uQXBwbGUtY29udmVydGVkLXNwYWNlXCIpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgaWYgKG5vZGUuY2hpbGROb2Rlcy5sZW5ndGggPT0gMSAmJiBub2RlLnRleHRDb250ZW50ID09IFwiXFx1MDBhMFwiICYmIG5vZGUucGFyZW50Tm9kZSlcbiAgICAgICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZG9tLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCIgXCIpLCBub2RlKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRDb250ZXh0KHNsaWNlLCBjb250ZXh0KSB7XG4gICAgaWYgKCFzbGljZS5zaXplKVxuICAgICAgICByZXR1cm4gc2xpY2U7XG4gICAgbGV0IHNjaGVtYSA9IHNsaWNlLmNvbnRlbnQuZmlyc3RDaGlsZC50eXBlLnNjaGVtYSwgYXJyYXk7XG4gICAgdHJ5IHtcbiAgICAgICAgYXJyYXkgPSBKU09OLnBhcnNlKGNvbnRleHQpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gc2xpY2U7XG4gICAgfVxuICAgIGxldCB7IGNvbnRlbnQsIG9wZW5TdGFydCwgb3BlbkVuZCB9ID0gc2xpY2U7XG4gICAgZm9yIChsZXQgaSA9IGFycmF5Lmxlbmd0aCAtIDI7IGkgPj0gMDsgaSAtPSAyKSB7XG4gICAgICAgIGxldCB0eXBlID0gc2NoZW1hLm5vZGVzW2FycmF5W2ldXTtcbiAgICAgICAgaWYgKCF0eXBlIHx8IHR5cGUuaGFzUmVxdWlyZWRBdHRycygpKVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNvbnRlbnQgPSBGcmFnbWVudC5mcm9tKHR5cGUuY3JlYXRlKGFycmF5W2kgKyAxXSwgY29udGVudCkpO1xuICAgICAgICBvcGVuU3RhcnQrKztcbiAgICAgICAgb3BlbkVuZCsrO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFNsaWNlKGNvbnRlbnQsIG9wZW5TdGFydCwgb3BlbkVuZCk7XG59XG5cbi8vIEEgY29sbGVjdGlvbiBvZiBET00gZXZlbnRzIHRoYXQgb2NjdXIgd2l0aGluIHRoZSBlZGl0b3IsIGFuZCBjYWxsYmFjayBmdW5jdGlvbnNcbi8vIHRvIGludm9rZSB3aGVuIHRoZSBldmVudCBmaXJlcy5cbmNvbnN0IGhhbmRsZXJzID0ge307XG5sZXQgZWRpdEhhbmRsZXJzID0ge307XG5jbGFzcyBJbnB1dFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zaGlmdEtleSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1vdXNlRG93biA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdEtleUNvZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmxhc3RLZXlDb2RlVGltZSA9IDA7XG4gICAgICAgIHRoaXMubGFzdENsaWNrID0geyB0aW1lOiAwLCB4OiAwLCB5OiAwLCB0eXBlOiBcIlwiIH07XG4gICAgICAgIHRoaXMubGFzdFNlbGVjdGlvbk9yaWdpbiA9IG51bGw7XG4gICAgICAgIHRoaXMubGFzdFNlbGVjdGlvblRpbWUgPSAwO1xuICAgICAgICB0aGlzLmxhc3RJT1NFbnRlciA9IDA7XG4gICAgICAgIHRoaXMubGFzdElPU0VudGVyRmFsbGJhY2tUaW1lb3V0ID0gLTE7XG4gICAgICAgIHRoaXMubGFzdEFuZHJvaWREZWxldGUgPSAwO1xuICAgICAgICB0aGlzLmNvbXBvc2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmNvbXBvc2luZ1RpbWVvdXQgPSAtMTtcbiAgICAgICAgdGhpcy5jb21wb3NpdGlvbk5vZGVzID0gW107XG4gICAgICAgIHRoaXMuY29tcG9zaXRpb25FbmRlZEF0ID0gLTJlODtcbiAgICAgICAgdGhpcy5kb21DaGFuZ2VDb3VudCA9IDA7XG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuaGlkZVNlbGVjdGlvbkd1YXJkID0gbnVsbDtcbiAgICB9XG59XG5mdW5jdGlvbiBpbml0SW5wdXQodmlldykge1xuICAgIGZvciAobGV0IGV2ZW50IGluIGhhbmRsZXJzKSB7XG4gICAgICAgIGxldCBoYW5kbGVyID0gaGFuZGxlcnNbZXZlbnRdO1xuICAgICAgICB2aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCB2aWV3LmlucHV0LmV2ZW50SGFuZGxlcnNbZXZlbnRdID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoZXZlbnRCZWxvbmdzVG9WaWV3KHZpZXcsIGV2ZW50KSAmJiAhcnVuQ3VzdG9tSGFuZGxlcih2aWV3LCBldmVudCkgJiZcbiAgICAgICAgICAgICAgICAodmlldy5lZGl0YWJsZSB8fCAhKGV2ZW50LnR5cGUgaW4gZWRpdEhhbmRsZXJzKSkpXG4gICAgICAgICAgICAgICAgaGFuZGxlcih2aWV3LCBldmVudCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBPbiBTYWZhcmksIGZvciByZWFzb25zIGJleW9uZCBteSB1bmRlcnN0YW5kaW5nLCBhZGRpbmcgYW4gaW5wdXRcbiAgICAvLyBldmVudCBoYW5kbGVyIG1ha2VzIGFuIGlzc3VlIHdoZXJlIHRoZSBjb21wb3NpdGlvbiB2YW5pc2hlcyB3aGVuXG4gICAgLy8geW91IHByZXNzIGVudGVyIGdvIGF3YXkuXG4gICAgaWYgKHNhZmFyaSlcbiAgICAgICAgdmlldy5kb20uYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IG51bGwpO1xuICAgIGVuc3VyZUxpc3RlbmVycyh2aWV3KTtcbn1cbmZ1bmN0aW9uIHNldFNlbGVjdGlvbk9yaWdpbih2aWV3LCBvcmlnaW4pIHtcbiAgICB2aWV3LmlucHV0Lmxhc3RTZWxlY3Rpb25PcmlnaW4gPSBvcmlnaW47XG4gICAgdmlldy5pbnB1dC5sYXN0U2VsZWN0aW9uVGltZSA9IERhdGUubm93KCk7XG59XG5mdW5jdGlvbiBkZXN0cm95SW5wdXQodmlldykge1xuICAgIHZpZXcuZG9tT2JzZXJ2ZXIuc3RvcCgpO1xuICAgIGZvciAobGV0IHR5cGUgaW4gdmlldy5pbnB1dC5ldmVudEhhbmRsZXJzKVxuICAgICAgICB2aWV3LmRvbS5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIHZpZXcuaW5wdXQuZXZlbnRIYW5kbGVyc1t0eXBlXSk7XG4gICAgY2xlYXJUaW1lb3V0KHZpZXcuaW5wdXQuY29tcG9zaW5nVGltZW91dCk7XG4gICAgY2xlYXJUaW1lb3V0KHZpZXcuaW5wdXQubGFzdElPU0VudGVyRmFsbGJhY2tUaW1lb3V0KTtcbn1cbmZ1bmN0aW9uIGVuc3VyZUxpc3RlbmVycyh2aWV3KSB7XG4gICAgdmlldy5zb21lUHJvcChcImhhbmRsZURPTUV2ZW50c1wiLCBjdXJyZW50SGFuZGxlcnMgPT4ge1xuICAgICAgICBmb3IgKGxldCB0eXBlIGluIGN1cnJlbnRIYW5kbGVycylcbiAgICAgICAgICAgIGlmICghdmlldy5pbnB1dC5ldmVudEhhbmRsZXJzW3R5cGVdKVxuICAgICAgICAgICAgICAgIHZpZXcuZG9tLmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgdmlldy5pbnB1dC5ldmVudEhhbmRsZXJzW3R5cGVdID0gZXZlbnQgPT4gcnVuQ3VzdG9tSGFuZGxlcih2aWV3LCBldmVudCkpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gcnVuQ3VzdG9tSGFuZGxlcih2aWV3LCBldmVudCkge1xuICAgIHJldHVybiB2aWV3LnNvbWVQcm9wKFwiaGFuZGxlRE9NRXZlbnRzXCIsIGhhbmRsZXJzID0+IHtcbiAgICAgICAgbGV0IGhhbmRsZXIgPSBoYW5kbGVyc1tldmVudC50eXBlXTtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIgPyBoYW5kbGVyKHZpZXcsIGV2ZW50KSB8fCBldmVudC5kZWZhdWx0UHJldmVudGVkIDogZmFsc2U7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBldmVudEJlbG9uZ3NUb1ZpZXcodmlldywgZXZlbnQpIHtcbiAgICBpZiAoIWV2ZW50LmJ1YmJsZXMpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgZm9yIChsZXQgbm9kZSA9IGV2ZW50LnRhcmdldDsgbm9kZSAhPSB2aWV3LmRvbTsgbm9kZSA9IG5vZGUucGFyZW50Tm9kZSlcbiAgICAgICAgaWYgKCFub2RlIHx8IG5vZGUubm9kZVR5cGUgPT0gMTEgfHxcbiAgICAgICAgICAgIChub2RlLnBtVmlld0Rlc2MgJiYgbm9kZS5wbVZpZXdEZXNjLnN0b3BFdmVudChldmVudCkpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2hFdmVudCh2aWV3LCBldmVudCkge1xuICAgIGlmICghcnVuQ3VzdG9tSGFuZGxlcih2aWV3LCBldmVudCkgJiYgaGFuZGxlcnNbZXZlbnQudHlwZV0gJiZcbiAgICAgICAgKHZpZXcuZWRpdGFibGUgfHwgIShldmVudC50eXBlIGluIGVkaXRIYW5kbGVycykpKVxuICAgICAgICBoYW5kbGVyc1tldmVudC50eXBlXSh2aWV3LCBldmVudCk7XG59XG5lZGl0SGFuZGxlcnMua2V5ZG93biA9ICh2aWV3LCBfZXZlbnQpID0+IHtcbiAgICBsZXQgZXZlbnQgPSBfZXZlbnQ7XG4gICAgdmlldy5pbnB1dC5zaGlmdEtleSA9IGV2ZW50LmtleUNvZGUgPT0gMTYgfHwgZXZlbnQuc2hpZnRLZXk7XG4gICAgaWYgKGluT3JOZWFyQ29tcG9zaXRpb24odmlldywgZXZlbnQpKVxuICAgICAgICByZXR1cm47XG4gICAgdmlldy5pbnB1dC5sYXN0S2V5Q29kZSA9IGV2ZW50LmtleUNvZGU7XG4gICAgdmlldy5pbnB1dC5sYXN0S2V5Q29kZVRpbWUgPSBEYXRlLm5vdygpO1xuICAgIC8vIFN1cHByZXNzIGVudGVyIGtleSBldmVudHMgb24gQ2hyb21lIEFuZHJvaWQsIGJlY2F1c2UgdGhvc2UgdGVuZFxuICAgIC8vIHRvIGJlIHBhcnQgb2YgYSBjb25mdXNlZCBzZXF1ZW5jZSBvZiBjb21wb3NpdGlvbiBldmVudHMgZmlyZWQsXG4gICAgLy8gYW5kIGhhbmRsaW5nIHRoZW0gZWFnZXJseSB0ZW5kcyB0byBjb3JydXB0IHRoZSBpbnB1dC5cbiAgICBpZiAoYW5kcm9pZCAmJiBjaHJvbWUgJiYgZXZlbnQua2V5Q29kZSA9PSAxMylcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmIChldmVudC5rZXlDb2RlICE9IDIyOSlcbiAgICAgICAgdmlldy5kb21PYnNlcnZlci5mb3JjZUZsdXNoKCk7XG4gICAgLy8gT24gaU9TLCBpZiB3ZSBwcmV2ZW50RGVmYXVsdCBlbnRlciBrZXkgcHJlc3NlcywgdGhlIHZpcnR1YWxcbiAgICAvLyBrZXlib2FyZCBnZXRzIGNvbmZ1c2VkLiBTbyB0aGUgaGFjayBoZXJlIGlzIHRvIHNldCBhIGZsYWcgdGhhdFxuICAgIC8vIG1ha2VzIHRoZSBET00gY2hhbmdlIGNvZGUgcmVjb2duaXplIHRoYXQgd2hhdCBqdXN0IGhhcHBlbnMgc2hvdWxkXG4gICAgLy8gYmUgcmVwbGFjZWQgYnkgd2hhdGV2ZXIgdGhlIEVudGVyIGtleSBoYW5kbGVycyBkby5cbiAgICBpZiAoaW9zICYmIGV2ZW50LmtleUNvZGUgPT0gMTMgJiYgIWV2ZW50LmN0cmxLZXkgJiYgIWV2ZW50LmFsdEtleSAmJiAhZXZlbnQubWV0YUtleSkge1xuICAgICAgICBsZXQgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmlldy5pbnB1dC5sYXN0SU9TRW50ZXIgPSBub3c7XG4gICAgICAgIHZpZXcuaW5wdXQubGFzdElPU0VudGVyRmFsbGJhY2tUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodmlldy5pbnB1dC5sYXN0SU9TRW50ZXIgPT0gbm93KSB7XG4gICAgICAgICAgICAgICAgdmlldy5zb21lUHJvcChcImhhbmRsZUtleURvd25cIiwgZiA9PiBmKHZpZXcsIGtleUV2ZW50KDEzLCBcIkVudGVyXCIpKSk7XG4gICAgICAgICAgICAgICAgdmlldy5pbnB1dC5sYXN0SU9TRW50ZXIgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCAyMDApO1xuICAgIH1cbiAgICBlbHNlIGlmICh2aWV3LnNvbWVQcm9wKFwiaGFuZGxlS2V5RG93blwiLCBmID0+IGYodmlldywgZXZlbnQpKSB8fCBjYXB0dXJlS2V5RG93bih2aWV3LCBldmVudCkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldFNlbGVjdGlvbk9yaWdpbih2aWV3LCBcImtleVwiKTtcbiAgICB9XG59O1xuZWRpdEhhbmRsZXJzLmtleXVwID0gKHZpZXcsIGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gMTYpXG4gICAgICAgIHZpZXcuaW5wdXQuc2hpZnRLZXkgPSBmYWxzZTtcbn07XG5lZGl0SGFuZGxlcnMua2V5cHJlc3MgPSAodmlldywgX2V2ZW50KSA9PiB7XG4gICAgbGV0IGV2ZW50ID0gX2V2ZW50O1xuICAgIGlmIChpbk9yTmVhckNvbXBvc2l0aW9uKHZpZXcsIGV2ZW50KSB8fCAhZXZlbnQuY2hhckNvZGUgfHxcbiAgICAgICAgZXZlbnQuY3RybEtleSAmJiAhZXZlbnQuYWx0S2V5IHx8IG1hYyAmJiBldmVudC5tZXRhS2V5KVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKHZpZXcuc29tZVByb3AoXCJoYW5kbGVLZXlQcmVzc1wiLCBmID0+IGYodmlldywgZXZlbnQpKSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbjtcbiAgICBpZiAoIShzZWwgaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uKSB8fCAhc2VsLiRmcm9tLnNhbWVQYXJlbnQoc2VsLiR0bykpIHtcbiAgICAgICAgbGV0IHRleHQgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGV2ZW50LmNoYXJDb2RlKTtcbiAgICAgICAgaWYgKCF2aWV3LnNvbWVQcm9wKFwiaGFuZGxlVGV4dElucHV0XCIsIGYgPT4gZih2aWV3LCBzZWwuJGZyb20ucG9zLCBzZWwuJHRvLnBvcywgdGV4dCkpKVxuICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh2aWV3LnN0YXRlLnRyLmluc2VydFRleHQodGV4dCkuc2Nyb2xsSW50b1ZpZXcoKSk7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIGV2ZW50Q29vcmRzKGV2ZW50KSB7IHJldHVybiB7IGxlZnQ6IGV2ZW50LmNsaWVudFgsIHRvcDogZXZlbnQuY2xpZW50WSB9OyB9XG5mdW5jdGlvbiBpc05lYXIoZXZlbnQsIGNsaWNrKSB7XG4gICAgbGV0IGR4ID0gY2xpY2sueCAtIGV2ZW50LmNsaWVudFgsIGR5ID0gY2xpY2sueSAtIGV2ZW50LmNsaWVudFk7XG4gICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5IDwgMTAwO1xufVxuZnVuY3Rpb24gcnVuSGFuZGxlck9uQ29udGV4dCh2aWV3LCBwcm9wTmFtZSwgcG9zLCBpbnNpZGUsIGV2ZW50KSB7XG4gICAgaWYgKGluc2lkZSA9PSAtMSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCAkcG9zID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZShpbnNpZGUpO1xuICAgIGZvciAobGV0IGkgPSAkcG9zLmRlcHRoICsgMTsgaSA+IDA7IGktLSkge1xuICAgICAgICBpZiAodmlldy5zb21lUHJvcChwcm9wTmFtZSwgZiA9PiBpID4gJHBvcy5kZXB0aCA/IGYodmlldywgcG9zLCAkcG9zLm5vZGVBZnRlciwgJHBvcy5iZWZvcmUoaSksIGV2ZW50LCB0cnVlKVxuICAgICAgICAgICAgOiBmKHZpZXcsIHBvcywgJHBvcy5ub2RlKGkpLCAkcG9zLmJlZm9yZShpKSwgZXZlbnQsIGZhbHNlKSkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gdXBkYXRlU2VsZWN0aW9uKHZpZXcsIHNlbGVjdGlvbiwgb3JpZ2luKSB7XG4gICAgaWYgKCF2aWV3LmZvY3VzZWQpXG4gICAgICAgIHZpZXcuZm9jdXMoKTtcbiAgICBsZXQgdHIgPSB2aWV3LnN0YXRlLnRyLnNldFNlbGVjdGlvbihzZWxlY3Rpb24pO1xuICAgIGlmIChvcmlnaW4gPT0gXCJwb2ludGVyXCIpXG4gICAgICAgIHRyLnNldE1ldGEoXCJwb2ludGVyXCIsIHRydWUpO1xuICAgIHZpZXcuZGlzcGF0Y2godHIpO1xufVxuZnVuY3Rpb24gc2VsZWN0Q2xpY2tlZExlYWYodmlldywgaW5zaWRlKSB7XG4gICAgaWYgKGluc2lkZSA9PSAtMSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCAkcG9zID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZShpbnNpZGUpLCBub2RlID0gJHBvcy5ub2RlQWZ0ZXI7XG4gICAgaWYgKG5vZGUgJiYgbm9kZS5pc0F0b20gJiYgTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUobm9kZSkpIHtcbiAgICAgICAgdXBkYXRlU2VsZWN0aW9uKHZpZXcsIG5ldyBOb2RlU2VsZWN0aW9uKCRwb3MpLCBcInBvaW50ZXJcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBzZWxlY3RDbGlja2VkTm9kZSh2aWV3LCBpbnNpZGUpIHtcbiAgICBpZiAoaW5zaWRlID09IC0xKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgbGV0IHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLCBzZWxlY3RlZE5vZGUsIHNlbGVjdEF0O1xuICAgIGlmIChzZWwgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uKVxuICAgICAgICBzZWxlY3RlZE5vZGUgPSBzZWwubm9kZTtcbiAgICBsZXQgJHBvcyA9IHZpZXcuc3RhdGUuZG9jLnJlc29sdmUoaW5zaWRlKTtcbiAgICBmb3IgKGxldCBpID0gJHBvcy5kZXB0aCArIDE7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgbGV0IG5vZGUgPSBpID4gJHBvcy5kZXB0aCA/ICRwb3Mubm9kZUFmdGVyIDogJHBvcy5ub2RlKGkpO1xuICAgICAgICBpZiAoTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUobm9kZSkpIHtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZE5vZGUgJiYgc2VsLiRmcm9tLmRlcHRoID4gMCAmJlxuICAgICAgICAgICAgICAgIGkgPj0gc2VsLiRmcm9tLmRlcHRoICYmICRwb3MuYmVmb3JlKHNlbC4kZnJvbS5kZXB0aCArIDEpID09IHNlbC4kZnJvbS5wb3MpXG4gICAgICAgICAgICAgICAgc2VsZWN0QXQgPSAkcG9zLmJlZm9yZShzZWwuJGZyb20uZGVwdGgpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHNlbGVjdEF0ID0gJHBvcy5iZWZvcmUoaSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2VsZWN0QXQgIT0gbnVsbCkge1xuICAgICAgICB1cGRhdGVTZWxlY3Rpb24odmlldywgTm9kZVNlbGVjdGlvbi5jcmVhdGUodmlldy5zdGF0ZS5kb2MsIHNlbGVjdEF0KSwgXCJwb2ludGVyXCIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBoYW5kbGVTaW5nbGVDbGljayh2aWV3LCBwb3MsIGluc2lkZSwgZXZlbnQsIHNlbGVjdE5vZGUpIHtcbiAgICByZXR1cm4gcnVuSGFuZGxlck9uQ29udGV4dCh2aWV3LCBcImhhbmRsZUNsaWNrT25cIiwgcG9zLCBpbnNpZGUsIGV2ZW50KSB8fFxuICAgICAgICB2aWV3LnNvbWVQcm9wKFwiaGFuZGxlQ2xpY2tcIiwgZiA9PiBmKHZpZXcsIHBvcywgZXZlbnQpKSB8fFxuICAgICAgICAoc2VsZWN0Tm9kZSA/IHNlbGVjdENsaWNrZWROb2RlKHZpZXcsIGluc2lkZSkgOiBzZWxlY3RDbGlja2VkTGVhZih2aWV3LCBpbnNpZGUpKTtcbn1cbmZ1bmN0aW9uIGhhbmRsZURvdWJsZUNsaWNrKHZpZXcsIHBvcywgaW5zaWRlLCBldmVudCkge1xuICAgIHJldHVybiBydW5IYW5kbGVyT25Db250ZXh0KHZpZXcsIFwiaGFuZGxlRG91YmxlQ2xpY2tPblwiLCBwb3MsIGluc2lkZSwgZXZlbnQpIHx8XG4gICAgICAgIHZpZXcuc29tZVByb3AoXCJoYW5kbGVEb3VibGVDbGlja1wiLCBmID0+IGYodmlldywgcG9zLCBldmVudCkpO1xufVxuZnVuY3Rpb24gaGFuZGxlVHJpcGxlQ2xpY2sodmlldywgcG9zLCBpbnNpZGUsIGV2ZW50KSB7XG4gICAgcmV0dXJuIHJ1bkhhbmRsZXJPbkNvbnRleHQodmlldywgXCJoYW5kbGVUcmlwbGVDbGlja09uXCIsIHBvcywgaW5zaWRlLCBldmVudCkgfHxcbiAgICAgICAgdmlldy5zb21lUHJvcChcImhhbmRsZVRyaXBsZUNsaWNrXCIsIGYgPT4gZih2aWV3LCBwb3MsIGV2ZW50KSkgfHxcbiAgICAgICAgZGVmYXVsdFRyaXBsZUNsaWNrKHZpZXcsIGluc2lkZSwgZXZlbnQpO1xufVxuZnVuY3Rpb24gZGVmYXVsdFRyaXBsZUNsaWNrKHZpZXcsIGluc2lkZSwgZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQuYnV0dG9uICE9IDApXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgZG9jID0gdmlldy5zdGF0ZS5kb2M7XG4gICAgaWYgKGluc2lkZSA9PSAtMSkge1xuICAgICAgICBpZiAoZG9jLmlubGluZUNvbnRlbnQpIHtcbiAgICAgICAgICAgIHVwZGF0ZVNlbGVjdGlvbih2aWV3LCBUZXh0U2VsZWN0aW9uLmNyZWF0ZShkb2MsIDAsIGRvYy5jb250ZW50LnNpemUpLCBcInBvaW50ZXJcIik7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGxldCAkcG9zID0gZG9jLnJlc29sdmUoaW5zaWRlKTtcbiAgICBmb3IgKGxldCBpID0gJHBvcy5kZXB0aCArIDE7IGkgPiAwOyBpLS0pIHtcbiAgICAgICAgbGV0IG5vZGUgPSBpID4gJHBvcy5kZXB0aCA/ICRwb3Mubm9kZUFmdGVyIDogJHBvcy5ub2RlKGkpO1xuICAgICAgICBsZXQgbm9kZVBvcyA9ICRwb3MuYmVmb3JlKGkpO1xuICAgICAgICBpZiAobm9kZS5pbmxpbmVDb250ZW50KVxuICAgICAgICAgICAgdXBkYXRlU2VsZWN0aW9uKHZpZXcsIFRleHRTZWxlY3Rpb24uY3JlYXRlKGRvYywgbm9kZVBvcyArIDEsIG5vZGVQb3MgKyAxICsgbm9kZS5jb250ZW50LnNpemUpLCBcInBvaW50ZXJcIik7XG4gICAgICAgIGVsc2UgaWYgKE5vZGVTZWxlY3Rpb24uaXNTZWxlY3RhYmxlKG5vZGUpKVxuICAgICAgICAgICAgdXBkYXRlU2VsZWN0aW9uKHZpZXcsIE5vZGVTZWxlY3Rpb24uY3JlYXRlKGRvYywgbm9kZVBvcyksIFwicG9pbnRlclwiKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcmNlRE9NRmx1c2godmlldykge1xuICAgIHJldHVybiBlbmRDb21wb3NpdGlvbih2aWV3KTtcbn1cbmNvbnN0IHNlbGVjdE5vZGVNb2RpZmllciA9IG1hYyA/IFwibWV0YUtleVwiIDogXCJjdHJsS2V5XCI7XG5oYW5kbGVycy5tb3VzZWRvd24gPSAodmlldywgX2V2ZW50KSA9PiB7XG4gICAgbGV0IGV2ZW50ID0gX2V2ZW50O1xuICAgIHZpZXcuaW5wdXQuc2hpZnRLZXkgPSBldmVudC5zaGlmdEtleTtcbiAgICBsZXQgZmx1c2hlZCA9IGZvcmNlRE9NRmx1c2godmlldyk7XG4gICAgbGV0IG5vdyA9IERhdGUubm93KCksIHR5cGUgPSBcInNpbmdsZUNsaWNrXCI7XG4gICAgaWYgKG5vdyAtIHZpZXcuaW5wdXQubGFzdENsaWNrLnRpbWUgPCA1MDAgJiYgaXNOZWFyKGV2ZW50LCB2aWV3LmlucHV0Lmxhc3RDbGljaykgJiYgIWV2ZW50W3NlbGVjdE5vZGVNb2RpZmllcl0pIHtcbiAgICAgICAgaWYgKHZpZXcuaW5wdXQubGFzdENsaWNrLnR5cGUgPT0gXCJzaW5nbGVDbGlja1wiKVxuICAgICAgICAgICAgdHlwZSA9IFwiZG91YmxlQ2xpY2tcIjtcbiAgICAgICAgZWxzZSBpZiAodmlldy5pbnB1dC5sYXN0Q2xpY2sudHlwZSA9PSBcImRvdWJsZUNsaWNrXCIpXG4gICAgICAgICAgICB0eXBlID0gXCJ0cmlwbGVDbGlja1wiO1xuICAgIH1cbiAgICB2aWV3LmlucHV0Lmxhc3RDbGljayA9IHsgdGltZTogbm93LCB4OiBldmVudC5jbGllbnRYLCB5OiBldmVudC5jbGllbnRZLCB0eXBlIH07XG4gICAgbGV0IHBvcyA9IHZpZXcucG9zQXRDb29yZHMoZXZlbnRDb29yZHMoZXZlbnQpKTtcbiAgICBpZiAoIXBvcylcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICh0eXBlID09IFwic2luZ2xlQ2xpY2tcIikge1xuICAgICAgICBpZiAodmlldy5pbnB1dC5tb3VzZURvd24pXG4gICAgICAgICAgICB2aWV3LmlucHV0Lm1vdXNlRG93bi5kb25lKCk7XG4gICAgICAgIHZpZXcuaW5wdXQubW91c2VEb3duID0gbmV3IE1vdXNlRG93bih2aWV3LCBwb3MsIGV2ZW50LCAhIWZsdXNoZWQpO1xuICAgIH1cbiAgICBlbHNlIGlmICgodHlwZSA9PSBcImRvdWJsZUNsaWNrXCIgPyBoYW5kbGVEb3VibGVDbGljayA6IGhhbmRsZVRyaXBsZUNsaWNrKSh2aWV3LCBwb3MucG9zLCBwb3MuaW5zaWRlLCBldmVudCkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldFNlbGVjdGlvbk9yaWdpbih2aWV3LCBcInBvaW50ZXJcIik7XG4gICAgfVxufTtcbmNsYXNzIE1vdXNlRG93biB7XG4gICAgY29uc3RydWN0b3IodmlldywgcG9zLCBldmVudCwgZmx1c2hlZCkge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLnBvcyA9IHBvcztcbiAgICAgICAgdGhpcy5ldmVudCA9IGV2ZW50O1xuICAgICAgICB0aGlzLmZsdXNoZWQgPSBmbHVzaGVkO1xuICAgICAgICB0aGlzLmRlbGF5ZWRTZWxlY3Rpb25TeW5jID0gZmFsc2U7XG4gICAgICAgIHRoaXMubWlnaHREcmFnID0gbnVsbDtcbiAgICAgICAgdGhpcy5zdGFydERvYyA9IHZpZXcuc3RhdGUuZG9jO1xuICAgICAgICB0aGlzLnNlbGVjdE5vZGUgPSAhIWV2ZW50W3NlbGVjdE5vZGVNb2RpZmllcl07XG4gICAgICAgIHRoaXMuYWxsb3dEZWZhdWx0ID0gZXZlbnQuc2hpZnRLZXk7XG4gICAgICAgIGxldCB0YXJnZXROb2RlLCB0YXJnZXRQb3M7XG4gICAgICAgIGlmIChwb3MuaW5zaWRlID4gLTEpIHtcbiAgICAgICAgICAgIHRhcmdldE5vZGUgPSB2aWV3LnN0YXRlLmRvYy5ub2RlQXQocG9zLmluc2lkZSk7XG4gICAgICAgICAgICB0YXJnZXRQb3MgPSBwb3MuaW5zaWRlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0ICRwb3MgPSB2aWV3LnN0YXRlLmRvYy5yZXNvbHZlKHBvcy5wb3MpO1xuICAgICAgICAgICAgdGFyZ2V0Tm9kZSA9ICRwb3MucGFyZW50O1xuICAgICAgICAgICAgdGFyZ2V0UG9zID0gJHBvcy5kZXB0aCA/ICRwb3MuYmVmb3JlKCkgOiAwO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhcmdldCA9IGZsdXNoZWQgPyBudWxsIDogZXZlbnQudGFyZ2V0O1xuICAgICAgICBjb25zdCB0YXJnZXREZXNjID0gdGFyZ2V0ID8gdmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKHRhcmdldCwgdHJ1ZSkgOiBudWxsO1xuICAgICAgICB0aGlzLnRhcmdldCA9IHRhcmdldERlc2MgPyB0YXJnZXREZXNjLmRvbSA6IG51bGw7XG4gICAgICAgIGxldCB7IHNlbGVjdGlvbiB9ID0gdmlldy5zdGF0ZTtcbiAgICAgICAgaWYgKGV2ZW50LmJ1dHRvbiA9PSAwICYmXG4gICAgICAgICAgICB0YXJnZXROb2RlLnR5cGUuc3BlYy5kcmFnZ2FibGUgJiYgdGFyZ2V0Tm9kZS50eXBlLnNwZWMuc2VsZWN0YWJsZSAhPT0gZmFsc2UgfHxcbiAgICAgICAgICAgIHNlbGVjdGlvbiBpbnN0YW5jZW9mIE5vZGVTZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmZyb20gPD0gdGFyZ2V0UG9zICYmIHNlbGVjdGlvbi50byA+IHRhcmdldFBvcylcbiAgICAgICAgICAgIHRoaXMubWlnaHREcmFnID0ge1xuICAgICAgICAgICAgICAgIG5vZGU6IHRhcmdldE5vZGUsXG4gICAgICAgICAgICAgICAgcG9zOiB0YXJnZXRQb3MsXG4gICAgICAgICAgICAgICAgYWRkQXR0cjogISEodGhpcy50YXJnZXQgJiYgIXRoaXMudGFyZ2V0LmRyYWdnYWJsZSksXG4gICAgICAgICAgICAgICAgc2V0VW5lZGl0YWJsZTogISEodGhpcy50YXJnZXQgJiYgZ2Vja28gJiYgIXRoaXMudGFyZ2V0Lmhhc0F0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiKSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLnRhcmdldCAmJiB0aGlzLm1pZ2h0RHJhZyAmJiAodGhpcy5taWdodERyYWcuYWRkQXR0ciB8fCB0aGlzLm1pZ2h0RHJhZy5zZXRVbmVkaXRhYmxlKSkge1xuICAgICAgICAgICAgdGhpcy52aWV3LmRvbU9ic2VydmVyLnN0b3AoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLm1pZ2h0RHJhZy5hZGRBdHRyKVxuICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LmRyYWdnYWJsZSA9IHRydWU7XG4gICAgICAgICAgICBpZiAodGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSlcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudmlldy5pbnB1dC5tb3VzZURvd24gPT0gdGhpcylcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFyZ2V0LnNldEF0dHJpYnV0ZShcImNvbnRlbnRFZGl0YWJsZVwiLCBcImZhbHNlXCIpO1xuICAgICAgICAgICAgICAgIH0sIDIwKTtcbiAgICAgICAgICAgIHRoaXMudmlldy5kb21PYnNlcnZlci5zdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXcucm9vdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLnVwID0gdGhpcy51cC5iaW5kKHRoaXMpKTtcbiAgICAgICAgdmlldy5yb290LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3ZlID0gdGhpcy5tb3ZlLmJpbmQodGhpcykpO1xuICAgICAgICBzZXRTZWxlY3Rpb25PcmlnaW4odmlldywgXCJwb2ludGVyXCIpO1xuICAgIH1cbiAgICBkb25lKCkge1xuICAgICAgICB0aGlzLnZpZXcucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLnVwKTtcbiAgICAgICAgdGhpcy52aWV3LnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdmUpO1xuICAgICAgICBpZiAodGhpcy5taWdodERyYWcgJiYgdGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMudmlldy5kb21PYnNlcnZlci5zdG9wKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5taWdodERyYWcuYWRkQXR0cilcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoXCJkcmFnZ2FibGVcIik7XG4gICAgICAgICAgICBpZiAodGhpcy5taWdodERyYWcuc2V0VW5lZGl0YWJsZSlcbiAgICAgICAgICAgICAgICB0aGlzLnRhcmdldC5yZW1vdmVBdHRyaWJ1dGUoXCJjb250ZW50RWRpdGFibGVcIik7XG4gICAgICAgICAgICB0aGlzLnZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kZWxheWVkU2VsZWN0aW9uU3luYylcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2VsZWN0aW9uVG9ET00odGhpcy52aWV3KSk7XG4gICAgICAgIHRoaXMudmlldy5pbnB1dC5tb3VzZURvd24gPSBudWxsO1xuICAgIH1cbiAgICB1cChldmVudCkge1xuICAgICAgICB0aGlzLmRvbmUoKTtcbiAgICAgICAgaWYgKCF0aGlzLnZpZXcuZG9tLmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLnBvcztcbiAgICAgICAgaWYgKHRoaXMudmlldy5zdGF0ZS5kb2MgIT0gdGhpcy5zdGFydERvYylcbiAgICAgICAgICAgIHBvcyA9IHRoaXMudmlldy5wb3NBdENvb3JkcyhldmVudENvb3JkcyhldmVudCkpO1xuICAgICAgICBpZiAodGhpcy5hbGxvd0RlZmF1bHQgfHwgIXBvcykge1xuICAgICAgICAgICAgc2V0U2VsZWN0aW9uT3JpZ2luKHRoaXMudmlldywgXCJwb2ludGVyXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhhbmRsZVNpbmdsZUNsaWNrKHRoaXMudmlldywgcG9zLnBvcywgcG9zLmluc2lkZSwgZXZlbnQsIHRoaXMuc2VsZWN0Tm9kZSkpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXZlbnQuYnV0dG9uID09IDAgJiZcbiAgICAgICAgICAgICh0aGlzLmZsdXNoZWQgfHxcbiAgICAgICAgICAgICAgICAvLyBTYWZhcmkgaWdub3JlcyBjbGlja3Mgb24gZHJhZ2dhYmxlIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgKHNhZmFyaSAmJiB0aGlzLm1pZ2h0RHJhZyAmJiAhdGhpcy5taWdodERyYWcubm9kZS5pc0F0b20pIHx8XG4gICAgICAgICAgICAgICAgLy8gQ2hyb21lIHdpbGwgc29tZXRpbWVzIHRyZWF0IGEgbm9kZSBzZWxlY3Rpb24gYXMgYVxuICAgICAgICAgICAgICAgIC8vIGN1cnNvciwgYnV0IHN0aWxsIHJlcG9ydCB0aGF0IHRoZSBub2RlIGlzIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgLy8gd2hlbiBhc2tlZCB0aHJvdWdoIGdldFNlbGVjdGlvbi4gWW91J2xsIHRoZW4gZ2V0IGFcbiAgICAgICAgICAgICAgICAvLyBzaXR1YXRpb24gd2hlcmUgY2xpY2tpbmcgYXQgdGhlIHBvaW50IHdoZXJlIHRoYXRcbiAgICAgICAgICAgICAgICAvLyAoaGlkZGVuKSBjdXJzb3IgaXMgZG9lc24ndCBjaGFuZ2UgdGhlIHNlbGVjdGlvbiwgYW5kXG4gICAgICAgICAgICAgICAgLy8gdGh1cyBkb2Vzbid0IGdldCBhIHJlYWN0aW9uIGZyb20gUHJvc2VNaXJyb3IuIFRoaXNcbiAgICAgICAgICAgICAgICAvLyB3b3JrcyBhcm91bmQgdGhhdC5cbiAgICAgICAgICAgICAgICAoY2hyb21lICYmICEodGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIFRleHRTZWxlY3Rpb24pICYmXG4gICAgICAgICAgICAgICAgICAgIE1hdGgubWluKE1hdGguYWJzKHBvcy5wb3MgLSB0aGlzLnZpZXcuc3RhdGUuc2VsZWN0aW9uLmZyb20pLCBNYXRoLmFicyhwb3MucG9zIC0gdGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi50bykpIDw9IDIpKSkge1xuICAgICAgICAgICAgdXBkYXRlU2VsZWN0aW9uKHRoaXMudmlldywgU2VsZWN0aW9uLm5lYXIodGhpcy52aWV3LnN0YXRlLmRvYy5yZXNvbHZlKHBvcy5wb3MpKSwgXCJwb2ludGVyXCIpO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGlvbk9yaWdpbih0aGlzLnZpZXcsIFwicG9pbnRlclwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtb3ZlKGV2ZW50KSB7XG4gICAgICAgIGlmICghdGhpcy5hbGxvd0RlZmF1bHQgJiYgKE1hdGguYWJzKHRoaXMuZXZlbnQueCAtIGV2ZW50LmNsaWVudFgpID4gNCB8fFxuICAgICAgICAgICAgTWF0aC5hYnModGhpcy5ldmVudC55IC0gZXZlbnQuY2xpZW50WSkgPiA0KSlcbiAgICAgICAgICAgIHRoaXMuYWxsb3dEZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgc2V0U2VsZWN0aW9uT3JpZ2luKHRoaXMudmlldywgXCJwb2ludGVyXCIpO1xuICAgICAgICBpZiAoZXZlbnQuYnV0dG9ucyA9PSAwKVxuICAgICAgICAgICAgdGhpcy5kb25lKCk7XG4gICAgfVxufVxuaGFuZGxlcnMudG91Y2hkb3duID0gdmlldyA9PiB7XG4gICAgZm9yY2VET01GbHVzaCh2aWV3KTtcbiAgICBzZXRTZWxlY3Rpb25PcmlnaW4odmlldywgXCJwb2ludGVyXCIpO1xufTtcbmhhbmRsZXJzLmNvbnRleHRtZW51ID0gdmlldyA9PiBmb3JjZURPTUZsdXNoKHZpZXcpO1xuZnVuY3Rpb24gaW5Pck5lYXJDb21wb3NpdGlvbih2aWV3LCBldmVudCkge1xuICAgIGlmICh2aWV3LmNvbXBvc2luZylcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgLy8gU2VlIGh0dHBzOi8vd3d3LnN0dW0uZGUvMjAxNi8wNi8yNC9oYW5kbGluZy1pbWUtZXZlbnRzLWluLWphdmFzY3JpcHQvLlxuICAgIC8vIE9uIEphcGFuZXNlIGlucHV0IG1ldGhvZCBlZGl0b3JzIChJTUVzKSwgdGhlIEVudGVyIGtleSBpcyB1c2VkIHRvIGNvbmZpcm0gY2hhcmFjdGVyXG4gICAgLy8gc2VsZWN0aW9uLiBPbiBTYWZhcmksIHdoZW4gRW50ZXIgaXMgcHJlc3NlZCwgY29tcG9zaXRpb25lbmQgYW5kIGtleWRvd24gZXZlbnRzIGFyZVxuICAgIC8vIGVtaXR0ZWQuIFRoZSBrZXlkb3duIGV2ZW50IHRyaWdnZXJzIG5ld2xpbmUgaW5zZXJ0aW9uLCB3aGljaCB3ZSBkb24ndCB3YW50LlxuICAgIC8vIFRoaXMgbWV0aG9kIHJldHVybnMgdHJ1ZSBpZiB0aGUga2V5ZG93biBldmVudCBzaG91bGQgYmUgaWdub3JlZC5cbiAgICAvLyBXZSBvbmx5IGlnbm9yZSBpdCBvbmNlLCBhcyBwcmVzc2luZyBFbnRlciBhIHNlY29uZCB0aW1lICpzaG91bGQqIGluc2VydCBhIG5ld2xpbmUuXG4gICAgLy8gRnVydGhlcm1vcmUsIHRoZSBrZXlkb3duIGV2ZW50IHRpbWVzdGFtcCBtdXN0IGJlIGNsb3NlIHRvIHRoZSBjb21wb3NpdGlvbkVuZGVkQXQgdGltZXN0YW1wLlxuICAgIC8vIFRoaXMgZ3VhcmRzIGFnYWluc3QgdGhlIGNhc2Ugd2hlcmUgY29tcG9zaXRpb25lbmQgaXMgdHJpZ2dlcmVkIHdpdGhvdXQgdGhlIGtleWJvYXJkXG4gICAgLy8gKGUuZy4gY2hhcmFjdGVyIGNvbmZpcm1hdGlvbiBtYXkgYmUgZG9uZSB3aXRoIHRoZSBtb3VzZSksIGFuZCBrZXlkb3duIGlzIHRyaWdnZXJlZFxuICAgIC8vIGFmdGVyd2FyZHMtIHdlIHdvdWxkbid0IHdhbnQgdG8gaWdub3JlIHRoZSBrZXlkb3duIGV2ZW50IGluIHRoaXMgY2FzZS5cbiAgICBpZiAoc2FmYXJpICYmIE1hdGguYWJzKGV2ZW50LnRpbWVTdGFtcCAtIHZpZXcuaW5wdXQuY29tcG9zaXRpb25FbmRlZEF0KSA8IDUwMCkge1xuICAgICAgICB2aWV3LmlucHV0LmNvbXBvc2l0aW9uRW5kZWRBdCA9IC0yZTg7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vLyBEcm9wIGFjdGl2ZSBjb21wb3NpdGlvbiBhZnRlciA1IHNlY29uZHMgb2YgaW5hY3Rpdml0eSBvbiBBbmRyb2lkXG5jb25zdCB0aW1lb3V0Q29tcG9zaXRpb24gPSBhbmRyb2lkID8gNTAwMCA6IC0xO1xuZWRpdEhhbmRsZXJzLmNvbXBvc2l0aW9uc3RhcnQgPSBlZGl0SGFuZGxlcnMuY29tcG9zaXRpb251cGRhdGUgPSB2aWV3ID0+IHtcbiAgICBpZiAoIXZpZXcuY29tcG9zaW5nKSB7XG4gICAgICAgIHZpZXcuZG9tT2JzZXJ2ZXIuZmx1c2goKTtcbiAgICAgICAgbGV0IHsgc3RhdGUgfSA9IHZpZXcsICRwb3MgPSBzdGF0ZS5zZWxlY3Rpb24uJGZyb207XG4gICAgICAgIGlmIChzdGF0ZS5zZWxlY3Rpb24uZW1wdHkgJiZcbiAgICAgICAgICAgIChzdGF0ZS5zdG9yZWRNYXJrcyB8fFxuICAgICAgICAgICAgICAgICghJHBvcy50ZXh0T2Zmc2V0ICYmICRwb3MucGFyZW50T2Zmc2V0ICYmICRwb3Mubm9kZUJlZm9yZS5tYXJrcy5zb21lKG0gPT4gbS50eXBlLnNwZWMuaW5jbHVzaXZlID09PSBmYWxzZSkpKSkge1xuICAgICAgICAgICAgLy8gTmVlZCB0byB3cmFwIHRoZSBjdXJzb3IgaW4gbWFyayBub2RlcyBkaWZmZXJlbnQgZnJvbSB0aGUgb25lcyBpbiB0aGUgRE9NIGNvbnRleHRcbiAgICAgICAgICAgIHZpZXcubWFya0N1cnNvciA9IHZpZXcuc3RhdGUuc3RvcmVkTWFya3MgfHwgJHBvcy5tYXJrcygpO1xuICAgICAgICAgICAgZW5kQ29tcG9zaXRpb24odmlldywgdHJ1ZSk7XG4gICAgICAgICAgICB2aWV3Lm1hcmtDdXJzb3IgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZW5kQ29tcG9zaXRpb24odmlldyk7XG4gICAgICAgICAgICAvLyBJbiBmaXJlZm94LCBpZiB0aGUgY3Vyc29yIGlzIGFmdGVyIGJ1dCBvdXRzaWRlIGEgbWFya2VkIG5vZGUsXG4gICAgICAgICAgICAvLyB0aGUgaW5zZXJ0ZWQgdGV4dCB3b24ndCBpbmhlcml0IHRoZSBtYXJrcy4gU28gdGhpcyBtb3ZlcyBpdFxuICAgICAgICAgICAgLy8gaW5zaWRlIGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgICAgIGlmIChnZWNrbyAmJiBzdGF0ZS5zZWxlY3Rpb24uZW1wdHkgJiYgJHBvcy5wYXJlbnRPZmZzZXQgJiYgISRwb3MudGV4dE9mZnNldCAmJiAkcG9zLm5vZGVCZWZvcmUubWFya3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNlbCA9IHZpZXcuZG9tU2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbm9kZSA9IHNlbC5mb2N1c05vZGUsIG9mZnNldCA9IHNlbC5mb2N1c09mZnNldDsgbm9kZSAmJiBub2RlLm5vZGVUeXBlID09IDEgJiYgb2Zmc2V0ICE9IDA7KSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBiZWZvcmUgPSBvZmZzZXQgPCAwID8gbm9kZS5sYXN0Q2hpbGQgOiBub2RlLmNoaWxkTm9kZXNbb2Zmc2V0IC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGlmICghYmVmb3JlKVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGlmIChiZWZvcmUubm9kZVR5cGUgPT0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsLmNvbGxhcHNlKGJlZm9yZSwgYmVmb3JlLm5vZGVWYWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYmVmb3JlO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmlldy5pbnB1dC5jb21wb3NpbmcgPSB0cnVlO1xuICAgIH1cbiAgICBzY2hlZHVsZUNvbXBvc2VFbmQodmlldywgdGltZW91dENvbXBvc2l0aW9uKTtcbn07XG5lZGl0SGFuZGxlcnMuY29tcG9zaXRpb25lbmQgPSAodmlldywgZXZlbnQpID0+IHtcbiAgICBpZiAodmlldy5jb21wb3NpbmcpIHtcbiAgICAgICAgdmlldy5pbnB1dC5jb21wb3NpbmcgPSBmYWxzZTtcbiAgICAgICAgdmlldy5pbnB1dC5jb21wb3NpdGlvbkVuZGVkQXQgPSBldmVudC50aW1lU3RhbXA7XG4gICAgICAgIHNjaGVkdWxlQ29tcG9zZUVuZCh2aWV3LCAyMCk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIHNjaGVkdWxlQ29tcG9zZUVuZCh2aWV3LCBkZWxheSkge1xuICAgIGNsZWFyVGltZW91dCh2aWV3LmlucHV0LmNvbXBvc2luZ1RpbWVvdXQpO1xuICAgIGlmIChkZWxheSA+IC0xKVxuICAgICAgICB2aWV3LmlucHV0LmNvbXBvc2luZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGVuZENvbXBvc2l0aW9uKHZpZXcpLCBkZWxheSk7XG59XG5mdW5jdGlvbiBjbGVhckNvbXBvc2l0aW9uKHZpZXcpIHtcbiAgICBpZiAodmlldy5jb21wb3NpbmcpIHtcbiAgICAgICAgdmlldy5pbnB1dC5jb21wb3NpbmcgPSBmYWxzZTtcbiAgICAgICAgdmlldy5pbnB1dC5jb21wb3NpdGlvbkVuZGVkQXQgPSB0aW1lc3RhbXBGcm9tQ3VzdG9tRXZlbnQoKTtcbiAgICB9XG4gICAgd2hpbGUgKHZpZXcuaW5wdXQuY29tcG9zaXRpb25Ob2Rlcy5sZW5ndGggPiAwKVxuICAgICAgICB2aWV3LmlucHV0LmNvbXBvc2l0aW9uTm9kZXMucG9wKCkubWFya1BhcmVudHNEaXJ0eSgpO1xufVxuZnVuY3Rpb24gdGltZXN0YW1wRnJvbUN1c3RvbUV2ZW50KCkge1xuICAgIGxldCBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIik7XG4gICAgZXZlbnQuaW5pdEV2ZW50KFwiZXZlbnRcIiwgdHJ1ZSwgdHJ1ZSk7XG4gICAgcmV0dXJuIGV2ZW50LnRpbWVTdGFtcDtcbn1cbi8qKlxuQGludGVybmFsXG4qL1xuZnVuY3Rpb24gZW5kQ29tcG9zaXRpb24odmlldywgZm9yY2VVcGRhdGUgPSBmYWxzZSkge1xuICAgIGlmIChhbmRyb2lkICYmIHZpZXcuZG9tT2JzZXJ2ZXIuZmx1c2hpbmdTb29uID49IDApXG4gICAgICAgIHJldHVybjtcbiAgICB2aWV3LmRvbU9ic2VydmVyLmZvcmNlRmx1c2goKTtcbiAgICBjbGVhckNvbXBvc2l0aW9uKHZpZXcpO1xuICAgIGlmIChmb3JjZVVwZGF0ZSB8fCB2aWV3LmRvY1ZpZXcgJiYgdmlldy5kb2NWaWV3LmRpcnR5KSB7XG4gICAgICAgIGxldCBzZWwgPSBzZWxlY3Rpb25Gcm9tRE9NKHZpZXcpO1xuICAgICAgICBpZiAoc2VsICYmICFzZWwuZXEodmlldy5zdGF0ZS5zZWxlY3Rpb24pKVxuICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh2aWV3LnN0YXRlLnRyLnNldFNlbGVjdGlvbihzZWwpKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdmlldy51cGRhdGVTdGF0ZSh2aWV3LnN0YXRlKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNhcHR1cmVDb3B5KHZpZXcsIGRvbSkge1xuICAgIC8vIFRoZSBleHRyYSB3cmFwcGVyIGlzIHNvbWVob3cgbmVjZXNzYXJ5IG9uIElFL0VkZ2UgdG8gcHJldmVudCB0aGVcbiAgICAvLyBjb250ZW50IGZyb20gYmVpbmcgbWFuZ2xlZCB3aGVuIGl0IGlzIHB1dCBvbnRvIHRoZSBjbGlwYm9hcmRcbiAgICBpZiAoIXZpZXcuZG9tLnBhcmVudE5vZGUpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgd3JhcCA9IHZpZXcuZG9tLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSk7XG4gICAgd3JhcC5hcHBlbmRDaGlsZChkb20pO1xuICAgIHdyYXAuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246IGZpeGVkOyBsZWZ0OiAtMTAwMDBweDsgdG9wOiAxMHB4XCI7XG4gICAgbGV0IHNlbCA9IGdldFNlbGVjdGlvbigpLCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgcmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGRvbSk7XG4gICAgLy8gRG9uZSBiZWNhdXNlIElFIHdpbGwgZmlyZSBhIHNlbGVjdGlvbmNoYW5nZSBtb3ZpbmcgdGhlIHNlbGVjdGlvblxuICAgIC8vIHRvIGl0cyBzdGFydCB3aGVuIHJlbW92ZUFsbFJhbmdlcyBpcyBjYWxsZWQgYW5kIHRoZSBlZGl0b3Igc3RpbGxcbiAgICAvLyBoYXMgZm9jdXMgKHdoaWNoIHdpbGwgbWVzcyB1cCB0aGUgZWRpdG9yJ3Mgc2VsZWN0aW9uIHN0YXRlKS5cbiAgICB2aWV3LmRvbS5ibHVyKCk7XG4gICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh3cmFwLnBhcmVudE5vZGUpXG4gICAgICAgICAgICB3cmFwLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQod3JhcCk7XG4gICAgICAgIHZpZXcuZm9jdXMoKTtcbiAgICB9LCA1MCk7XG59XG4vLyBUaGlzIGlzIHZlcnkgY3J1ZGUsIGJ1dCB1bmZvcnR1bmF0ZWx5IGJvdGggdGhlc2UgYnJvd3NlcnMgX3ByZXRlbmRfXG4vLyB0aGF0IHRoZXkgaGF2ZSBhIGNsaXBib2FyZCBBUEnigJRhbGwgdGhlIG9iamVjdHMgYW5kIG1ldGhvZHMgYXJlXG4vLyB0aGVyZSwgdGhleSBqdXN0IGRvbid0IHdvcmssIGFuZCB0aGV5IGFyZSBoYXJkIHRvIHRlc3QuXG5jb25zdCBicm9rZW5DbGlwYm9hcmRBUEkgPSAoaWUgJiYgaWVfdmVyc2lvbiA8IDE1KSB8fFxuICAgIChpb3MgJiYgd2Via2l0X3ZlcnNpb24gPCA2MDQpO1xuaGFuZGxlcnMuY29weSA9IGVkaXRIYW5kbGVycy5jdXQgPSAodmlldywgX2V2ZW50KSA9PiB7XG4gICAgbGV0IGV2ZW50ID0gX2V2ZW50O1xuICAgIGxldCBzZWwgPSB2aWV3LnN0YXRlLnNlbGVjdGlvbiwgY3V0ID0gZXZlbnQudHlwZSA9PSBcImN1dFwiO1xuICAgIGlmIChzZWwuZW1wdHkpXG4gICAgICAgIHJldHVybjtcbiAgICAvLyBJRSBhbmQgRWRnZSdzIGNsaXBib2FyZCBpbnRlcmZhY2UgaXMgY29tcGxldGVseSBicm9rZW5cbiAgICBsZXQgZGF0YSA9IGJyb2tlbkNsaXBib2FyZEFQSSA/IG51bGwgOiBldmVudC5jbGlwYm9hcmREYXRhO1xuICAgIGxldCBzbGljZSA9IHNlbC5jb250ZW50KCksIHsgZG9tLCB0ZXh0IH0gPSBzZXJpYWxpemVGb3JDbGlwYm9hcmQodmlldywgc2xpY2UpO1xuICAgIGlmIChkYXRhKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGRhdGEuY2xlYXJEYXRhKCk7XG4gICAgICAgIGRhdGEuc2V0RGF0YShcInRleHQvaHRtbFwiLCBkb20uaW5uZXJIVE1MKTtcbiAgICAgICAgZGF0YS5zZXREYXRhKFwidGV4dC9wbGFpblwiLCB0ZXh0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNhcHR1cmVDb3B5KHZpZXcsIGRvbSk7XG4gICAgfVxuICAgIGlmIChjdXQpXG4gICAgICAgIHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5kZWxldGVTZWxlY3Rpb24oKS5zY3JvbGxJbnRvVmlldygpLnNldE1ldGEoXCJ1aUV2ZW50XCIsIFwiY3V0XCIpKTtcbn07XG5mdW5jdGlvbiBzbGljZVNpbmdsZU5vZGUoc2xpY2UpIHtcbiAgICByZXR1cm4gc2xpY2Uub3BlblN0YXJ0ID09IDAgJiYgc2xpY2Uub3BlbkVuZCA9PSAwICYmIHNsaWNlLmNvbnRlbnQuY2hpbGRDb3VudCA9PSAxID8gc2xpY2UuY29udGVudC5maXJzdENoaWxkIDogbnVsbDtcbn1cbmZ1bmN0aW9uIGNhcHR1cmVQYXN0ZSh2aWV3LCBldmVudCkge1xuICAgIGlmICghdmlldy5kb20ucGFyZW50Tm9kZSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCBwbGFpblRleHQgPSB2aWV3LmlucHV0LnNoaWZ0S2V5IHx8IHZpZXcuc3RhdGUuc2VsZWN0aW9uLiRmcm9tLnBhcmVudC50eXBlLnNwZWMuY29kZTtcbiAgICBsZXQgdGFyZ2V0ID0gdmlldy5kb20ucGFyZW50Tm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KHBsYWluVGV4dCA/IFwidGV4dGFyZWFcIiA6IFwiZGl2XCIpKTtcbiAgICBpZiAoIXBsYWluVGV4dClcbiAgICAgICAgdGFyZ2V0LmNvbnRlbnRFZGl0YWJsZSA9IFwidHJ1ZVwiO1xuICAgIHRhcmdldC5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IC0xMDAwMHB4OyB0b3A6IDEwcHhcIjtcbiAgICB0YXJnZXQuZm9jdXMoKTtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdmlldy5mb2N1cygpO1xuICAgICAgICBpZiAodGFyZ2V0LnBhcmVudE5vZGUpXG4gICAgICAgICAgICB0YXJnZXQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0YXJnZXQpO1xuICAgICAgICBpZiAocGxhaW5UZXh0KVxuICAgICAgICAgICAgZG9QYXN0ZSh2aWV3LCB0YXJnZXQudmFsdWUsIG51bGwsIGV2ZW50KTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZG9QYXN0ZSh2aWV3LCB0YXJnZXQudGV4dENvbnRlbnQsIHRhcmdldC5pbm5lckhUTUwsIGV2ZW50KTtcbiAgICB9LCA1MCk7XG59XG5mdW5jdGlvbiBkb1Bhc3RlKHZpZXcsIHRleHQsIGh0bWwsIGV2ZW50KSB7XG4gICAgbGV0IHNsaWNlID0gcGFyc2VGcm9tQ2xpcGJvYXJkKHZpZXcsIHRleHQsIGh0bWwsIHZpZXcuaW5wdXQuc2hpZnRLZXksIHZpZXcuc3RhdGUuc2VsZWN0aW9uLiRmcm9tKTtcbiAgICBpZiAodmlldy5zb21lUHJvcChcImhhbmRsZVBhc3RlXCIsIGYgPT4gZih2aWV3LCBldmVudCwgc2xpY2UgfHwgU2xpY2UuZW1wdHkpKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKCFzbGljZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCBzaW5nbGVOb2RlID0gc2xpY2VTaW5nbGVOb2RlKHNsaWNlKTtcbiAgICBsZXQgdHIgPSBzaW5nbGVOb2RlXG4gICAgICAgID8gdmlldy5zdGF0ZS50ci5yZXBsYWNlU2VsZWN0aW9uV2l0aChzaW5nbGVOb2RlLCB2aWV3LmlucHV0LnNoaWZ0S2V5KVxuICAgICAgICA6IHZpZXcuc3RhdGUudHIucmVwbGFjZVNlbGVjdGlvbihzbGljZSk7XG4gICAgdmlldy5kaXNwYXRjaCh0ci5zY3JvbGxJbnRvVmlldygpLnNldE1ldGEoXCJwYXN0ZVwiLCB0cnVlKS5zZXRNZXRhKFwidWlFdmVudFwiLCBcInBhc3RlXCIpKTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmVkaXRIYW5kbGVycy5wYXN0ZSA9ICh2aWV3LCBfZXZlbnQpID0+IHtcbiAgICBsZXQgZXZlbnQgPSBfZXZlbnQ7XG4gICAgLy8gSGFuZGxpbmcgcGFzdGUgZnJvbSBKYXZhU2NyaXB0IGR1cmluZyBjb21wb3NpdGlvbiBpcyB2ZXJ5IHBvb3JseVxuICAgIC8vIGhhbmRsZWQgYnkgYnJvd3NlcnMsIHNvIGFzIGEgZG9kZ3kgYnV0IHByZWZlcmFibGUga2x1ZGdlLCB3ZSBqdXN0XG4gICAgLy8gbGV0IHRoZSBicm93c2VyIGRvIGl0cyBuYXRpdmUgdGhpbmcgdGhlcmUsIGV4Y2VwdCBvbiBBbmRyb2lkLFxuICAgIC8vIHdoZXJlIHRoZSBlZGl0b3IgaXMgYWxtb3N0IGFsd2F5cyBjb21wb3NpbmcuXG4gICAgaWYgKHZpZXcuY29tcG9zaW5nICYmICFhbmRyb2lkKVxuICAgICAgICByZXR1cm47XG4gICAgbGV0IGRhdGEgPSBicm9rZW5DbGlwYm9hcmRBUEkgPyBudWxsIDogZXZlbnQuY2xpcGJvYXJkRGF0YTtcbiAgICBpZiAoZGF0YSAmJiBkb1Bhc3RlKHZpZXcsIGRhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIiksIGRhdGEuZ2V0RGF0YShcInRleHQvaHRtbFwiKSwgZXZlbnQpKVxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGVsc2VcbiAgICAgICAgY2FwdHVyZVBhc3RlKHZpZXcsIGV2ZW50KTtcbn07XG5jbGFzcyBEcmFnZ2luZyB7XG4gICAgY29uc3RydWN0b3Ioc2xpY2UsIG1vdmUpIHtcbiAgICAgICAgdGhpcy5zbGljZSA9IHNsaWNlO1xuICAgICAgICB0aGlzLm1vdmUgPSBtb3ZlO1xuICAgIH1cbn1cbmNvbnN0IGRyYWdDb3B5TW9kaWZpZXIgPSBtYWMgPyBcImFsdEtleVwiIDogXCJjdHJsS2V5XCI7XG5oYW5kbGVycy5kcmFnc3RhcnQgPSAodmlldywgX2V2ZW50KSA9PiB7XG4gICAgbGV0IGV2ZW50ID0gX2V2ZW50O1xuICAgIGxldCBtb3VzZURvd24gPSB2aWV3LmlucHV0Lm1vdXNlRG93bjtcbiAgICBpZiAobW91c2VEb3duKVxuICAgICAgICBtb3VzZURvd24uZG9uZSgpO1xuICAgIGlmICghZXZlbnQuZGF0YVRyYW5zZmVyKVxuICAgICAgICByZXR1cm47XG4gICAgbGV0IHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uO1xuICAgIGxldCBwb3MgPSBzZWwuZW1wdHkgPyBudWxsIDogdmlldy5wb3NBdENvb3JkcyhldmVudENvb3JkcyhldmVudCkpO1xuICAgIGlmIChwb3MgJiYgcG9zLnBvcyA+PSBzZWwuZnJvbSAmJiBwb3MucG9zIDw9IChzZWwgaW5zdGFuY2VvZiBOb2RlU2VsZWN0aW9uID8gc2VsLnRvIC0gMSA6IHNlbC50bykpIDtcbiAgICBlbHNlIGlmIChtb3VzZURvd24gJiYgbW91c2VEb3duLm1pZ2h0RHJhZykge1xuICAgICAgICB2aWV3LmRpc3BhdGNoKHZpZXcuc3RhdGUudHIuc2V0U2VsZWN0aW9uKE5vZGVTZWxlY3Rpb24uY3JlYXRlKHZpZXcuc3RhdGUuZG9jLCBtb3VzZURvd24ubWlnaHREcmFnLnBvcykpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZXZlbnQudGFyZ2V0ICYmIGV2ZW50LnRhcmdldC5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgIGxldCBkZXNjID0gdmlldy5kb2NWaWV3Lm5lYXJlc3REZXNjKGV2ZW50LnRhcmdldCwgdHJ1ZSk7XG4gICAgICAgIGlmIChkZXNjICYmIGRlc2Mubm9kZS50eXBlLnNwZWMuZHJhZ2dhYmxlICYmIGRlc2MgIT0gdmlldy5kb2NWaWV3KVxuICAgICAgICAgICAgdmlldy5kaXNwYXRjaCh2aWV3LnN0YXRlLnRyLnNldFNlbGVjdGlvbihOb2RlU2VsZWN0aW9uLmNyZWF0ZSh2aWV3LnN0YXRlLmRvYywgZGVzYy5wb3NCZWZvcmUpKSk7XG4gICAgfVxuICAgIGxldCBzbGljZSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLmNvbnRlbnQoKSwgeyBkb20sIHRleHQgfSA9IHNlcmlhbGl6ZUZvckNsaXBib2FyZCh2aWV3LCBzbGljZSk7XG4gICAgZXZlbnQuZGF0YVRyYW5zZmVyLmNsZWFyRGF0YSgpO1xuICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKGJyb2tlbkNsaXBib2FyZEFQSSA/IFwiVGV4dFwiIDogXCJ0ZXh0L2h0bWxcIiwgZG9tLmlubmVySFRNTCk7XG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Qcm9zZU1pcnJvci9wcm9zZW1pcnJvci9pc3N1ZXMvMTE1NlxuICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gXCJjb3B5TW92ZVwiO1xuICAgIGlmICghYnJva2VuQ2xpcGJvYXJkQVBJKVxuICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YShcInRleHQvcGxhaW5cIiwgdGV4dCk7XG4gICAgdmlldy5kcmFnZ2luZyA9IG5ldyBEcmFnZ2luZyhzbGljZSwgIWV2ZW50W2RyYWdDb3B5TW9kaWZpZXJdKTtcbn07XG5oYW5kbGVycy5kcmFnZW5kID0gdmlldyA9PiB7XG4gICAgbGV0IGRyYWdnaW5nID0gdmlldy5kcmFnZ2luZztcbiAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmICh2aWV3LmRyYWdnaW5nID09IGRyYWdnaW5nKVxuICAgICAgICAgICAgdmlldy5kcmFnZ2luZyA9IG51bGw7XG4gICAgfSwgNTApO1xufTtcbmVkaXRIYW5kbGVycy5kcmFnb3ZlciA9IGVkaXRIYW5kbGVycy5kcmFnZW50ZXIgPSAoXywgZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpO1xuZWRpdEhhbmRsZXJzLmRyb3AgPSAodmlldywgX2V2ZW50KSA9PiB7XG4gICAgbGV0IGV2ZW50ID0gX2V2ZW50O1xuICAgIGxldCBkcmFnZ2luZyA9IHZpZXcuZHJhZ2dpbmc7XG4gICAgdmlldy5kcmFnZ2luZyA9IG51bGw7XG4gICAgaWYgKCFldmVudC5kYXRhVHJhbnNmZXIpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgZXZlbnRQb3MgPSB2aWV3LnBvc0F0Q29vcmRzKGV2ZW50Q29vcmRzKGV2ZW50KSk7XG4gICAgaWYgKCFldmVudFBvcylcbiAgICAgICAgcmV0dXJuO1xuICAgIGxldCAkbW91c2UgPSB2aWV3LnN0YXRlLmRvYy5yZXNvbHZlKGV2ZW50UG9zLnBvcyk7XG4gICAgaWYgKCEkbW91c2UpXG4gICAgICAgIHJldHVybjtcbiAgICBsZXQgc2xpY2UgPSBkcmFnZ2luZyAmJiBkcmFnZ2luZy5zbGljZTtcbiAgICBpZiAoc2xpY2UpIHtcbiAgICAgICAgdmlldy5zb21lUHJvcChcInRyYW5zZm9ybVBhc3RlZFwiLCBmID0+IHsgc2xpY2UgPSBmKHNsaWNlKTsgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzbGljZSA9IHBhcnNlRnJvbUNsaXBib2FyZCh2aWV3LCBldmVudC5kYXRhVHJhbnNmZXIuZ2V0RGF0YShicm9rZW5DbGlwYm9hcmRBUEkgPyBcIlRleHRcIiA6IFwidGV4dC9wbGFpblwiKSwgYnJva2VuQ2xpcGJvYXJkQVBJID8gbnVsbCA6IGV2ZW50LmRhdGFUcmFuc2Zlci5nZXREYXRhKFwidGV4dC9odG1sXCIpLCBmYWxzZSwgJG1vdXNlKTtcbiAgICB9XG4gICAgbGV0IG1vdmUgPSAhIShkcmFnZ2luZyAmJiAhZXZlbnRbZHJhZ0NvcHlNb2RpZmllcl0pO1xuICAgIGlmICh2aWV3LnNvbWVQcm9wKFwiaGFuZGxlRHJvcFwiLCBmID0+IGYodmlldywgZXZlbnQsIHNsaWNlIHx8IFNsaWNlLmVtcHR5LCBtb3ZlKSkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNsaWNlKVxuICAgICAgICByZXR1cm47XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBsZXQgaW5zZXJ0UG9zID0gc2xpY2UgPyBkcm9wUG9pbnQodmlldy5zdGF0ZS5kb2MsICRtb3VzZS5wb3MsIHNsaWNlKSA6ICRtb3VzZS5wb3M7XG4gICAgaWYgKGluc2VydFBvcyA9PSBudWxsKVxuICAgICAgICBpbnNlcnRQb3MgPSAkbW91c2UucG9zO1xuICAgIGxldCB0ciA9IHZpZXcuc3RhdGUudHI7XG4gICAgaWYgKG1vdmUpXG4gICAgICAgIHRyLmRlbGV0ZVNlbGVjdGlvbigpO1xuICAgIGxldCBwb3MgPSB0ci5tYXBwaW5nLm1hcChpbnNlcnRQb3MpO1xuICAgIGxldCBpc05vZGUgPSBzbGljZS5vcGVuU3RhcnQgPT0gMCAmJiBzbGljZS5vcGVuRW5kID09IDAgJiYgc2xpY2UuY29udGVudC5jaGlsZENvdW50ID09IDE7XG4gICAgbGV0IGJlZm9yZUluc2VydCA9IHRyLmRvYztcbiAgICBpZiAoaXNOb2RlKVxuICAgICAgICB0ci5yZXBsYWNlUmFuZ2VXaXRoKHBvcywgcG9zLCBzbGljZS5jb250ZW50LmZpcnN0Q2hpbGQpO1xuICAgIGVsc2VcbiAgICAgICAgdHIucmVwbGFjZVJhbmdlKHBvcywgcG9zLCBzbGljZSk7XG4gICAgaWYgKHRyLmRvYy5lcShiZWZvcmVJbnNlcnQpKVxuICAgICAgICByZXR1cm47XG4gICAgbGV0ICRwb3MgPSB0ci5kb2MucmVzb2x2ZShwb3MpO1xuICAgIGlmIChpc05vZGUgJiYgTm9kZVNlbGVjdGlvbi5pc1NlbGVjdGFibGUoc2xpY2UuY29udGVudC5maXJzdENoaWxkKSAmJlxuICAgICAgICAkcG9zLm5vZGVBZnRlciAmJiAkcG9zLm5vZGVBZnRlci5zYW1lTWFya3VwKHNsaWNlLmNvbnRlbnQuZmlyc3RDaGlsZCkpIHtcbiAgICAgICAgdHIuc2V0U2VsZWN0aW9uKG5ldyBOb2RlU2VsZWN0aW9uKCRwb3MpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGxldCBlbmQgPSB0ci5tYXBwaW5nLm1hcChpbnNlcnRQb3MpO1xuICAgICAgICB0ci5tYXBwaW5nLm1hcHNbdHIubWFwcGluZy5tYXBzLmxlbmd0aCAtIDFdLmZvckVhY2goKF9mcm9tLCBfdG8sIF9uZXdGcm9tLCBuZXdUbykgPT4gZW5kID0gbmV3VG8pO1xuICAgICAgICB0ci5zZXRTZWxlY3Rpb24oc2VsZWN0aW9uQmV0d2Vlbih2aWV3LCAkcG9zLCB0ci5kb2MucmVzb2x2ZShlbmQpKSk7XG4gICAgfVxuICAgIHZpZXcuZm9jdXMoKTtcbiAgICB2aWV3LmRpc3BhdGNoKHRyLnNldE1ldGEoXCJ1aUV2ZW50XCIsIFwiZHJvcFwiKSk7XG59O1xuaGFuZGxlcnMuZm9jdXMgPSB2aWV3ID0+IHtcbiAgICBpZiAoIXZpZXcuZm9jdXNlZCkge1xuICAgICAgICB2aWV3LmRvbU9ic2VydmVyLnN0b3AoKTtcbiAgICAgICAgdmlldy5kb20uY2xhc3NMaXN0LmFkZChcIlByb3NlTWlycm9yLWZvY3VzZWRcIik7XG4gICAgICAgIHZpZXcuZG9tT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgICAgdmlldy5mb2N1c2VkID0gdHJ1ZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAodmlldy5kb2NWaWV3ICYmIHZpZXcuaGFzRm9jdXMoKSAmJiAhdmlldy5kb21PYnNlcnZlci5jdXJyZW50U2VsZWN0aW9uLmVxKHZpZXcuZG9tU2VsZWN0aW9uKCkpKVxuICAgICAgICAgICAgICAgIHNlbGVjdGlvblRvRE9NKHZpZXcpO1xuICAgICAgICB9LCAyMCk7XG4gICAgfVxufTtcbmhhbmRsZXJzLmJsdXIgPSAodmlldywgX2V2ZW50KSA9PiB7XG4gICAgbGV0IGV2ZW50ID0gX2V2ZW50O1xuICAgIGlmICh2aWV3LmZvY3VzZWQpIHtcbiAgICAgICAgdmlldy5kb21PYnNlcnZlci5zdG9wKCk7XG4gICAgICAgIHZpZXcuZG9tLmNsYXNzTGlzdC5yZW1vdmUoXCJQcm9zZU1pcnJvci1mb2N1c2VkXCIpO1xuICAgICAgICB2aWV3LmRvbU9ic2VydmVyLnN0YXJ0KCk7XG4gICAgICAgIGlmIChldmVudC5yZWxhdGVkVGFyZ2V0ICYmIHZpZXcuZG9tLmNvbnRhaW5zKGV2ZW50LnJlbGF0ZWRUYXJnZXQpKVxuICAgICAgICAgICAgdmlldy5kb21PYnNlcnZlci5jdXJyZW50U2VsZWN0aW9uLmNsZWFyKCk7XG4gICAgICAgIHZpZXcuZm9jdXNlZCA9IGZhbHNlO1xuICAgIH1cbn07XG5oYW5kbGVycy5iZWZvcmVpbnB1dCA9ICh2aWV3LCBfZXZlbnQpID0+IHtcbiAgICBsZXQgZXZlbnQgPSBfZXZlbnQ7XG4gICAgLy8gV2Ugc2hvdWxkIHByb2JhYmx5IGRvIG1vcmUgd2l0aCBiZWZvcmVpbnB1dCBldmVudHMsIGJ1dCBzdXBwb3J0XG4gICAgLy8gaXMgc28gc3BvdHR5IHRoYXQgSSdtIHN0aWxsIHdhaXRpbmcgdG8gc2VlIHdoZXJlIHRoZXkgYXJlIGdvaW5nLlxuICAgIC8vIFZlcnkgc3BlY2lmaWMgaGFjayB0byBkZWFsIHdpdGggYmFja3NwYWNlIHNvbWV0aW1lcyBmYWlsaW5nIG9uXG4gICAgLy8gQ2hyb21lIEFuZHJvaWQgd2hlbiBhZnRlciBhbiB1bmVkaXRhYmxlIG5vZGUuXG4gICAgaWYgKGNocm9tZSAmJiBhbmRyb2lkICYmIGV2ZW50LmlucHV0VHlwZSA9PSBcImRlbGV0ZUNvbnRlbnRCYWNrd2FyZFwiKSB7XG4gICAgICAgIHZpZXcuZG9tT2JzZXJ2ZXIuZmx1c2hTb29uKCk7XG4gICAgICAgIGxldCB7IGRvbUNoYW5nZUNvdW50IH0gPSB2aWV3LmlucHV0O1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICh2aWV3LmlucHV0LmRvbUNoYW5nZUNvdW50ICE9IGRvbUNoYW5nZUNvdW50KVxuICAgICAgICAgICAgICAgIHJldHVybjsgLy8gRXZlbnQgYWxyZWFkeSBoYWQgc29tZSBlZmZlY3RcbiAgICAgICAgICAgIC8vIFRoaXMgYnVnIHRlbmRzIHRvIGNsb3NlIHRoZSB2aXJ0dWFsIGtleWJvYXJkLCBzbyB3ZSByZWZvY3VzXG4gICAgICAgICAgICB2aWV3LmRvbS5ibHVyKCk7XG4gICAgICAgICAgICB2aWV3LmZvY3VzKCk7XG4gICAgICAgICAgICBpZiAodmlldy5zb21lUHJvcChcImhhbmRsZUtleURvd25cIiwgZiA9PiBmKHZpZXcsIGtleUV2ZW50KDgsIFwiQmFja3NwYWNlXCIpKSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgbGV0IHsgJGN1cnNvciB9ID0gdmlldy5zdGF0ZS5zZWxlY3Rpb247XG4gICAgICAgICAgICAvLyBDcnVkZSBhcHByb3hpbWF0aW9uIG9mIGJhY2tzcGFjZSBiZWhhdmlvciB3aGVuIG5vIGNvbW1hbmQgaGFuZGxlZCBpdFxuICAgICAgICAgICAgaWYgKCRjdXJzb3IgJiYgJGN1cnNvci5wb3MgPiAwKVxuICAgICAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5kZWxldGUoJGN1cnNvci5wb3MgLSAxLCAkY3Vyc29yLnBvcykuc2Nyb2xsSW50b1ZpZXcoKSk7XG4gICAgICAgIH0sIDUwKTtcbiAgICB9XG59O1xuLy8gTWFrZSBzdXJlIGFsbCBoYW5kbGVycyBnZXQgcmVnaXN0ZXJlZFxuZm9yIChsZXQgcHJvcCBpbiBlZGl0SGFuZGxlcnMpXG4gICAgaGFuZGxlcnNbcHJvcF0gPSBlZGl0SGFuZGxlcnNbcHJvcF07XG5cbmZ1bmN0aW9uIGNvbXBhcmVPYmpzKGEsIGIpIHtcbiAgICBpZiAoYSA9PSBiKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBmb3IgKGxldCBwIGluIGEpXG4gICAgICAgIGlmIChhW3BdICE9PSBiW3BdKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IHAgaW4gYilcbiAgICAgICAgaWYgKCEocCBpbiBhKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmNsYXNzIFdpZGdldFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKHRvRE9NLCBzcGVjKSB7XG4gICAgICAgIHRoaXMudG9ET00gPSB0b0RPTTtcbiAgICAgICAgdGhpcy5zcGVjID0gc3BlYyB8fCBub1NwZWM7XG4gICAgICAgIHRoaXMuc2lkZSA9IHRoaXMuc3BlYy5zaWRlIHx8IDA7XG4gICAgfVxuICAgIG1hcChtYXBwaW5nLCBzcGFuLCBvZmZzZXQsIG9sZE9mZnNldCkge1xuICAgICAgICBsZXQgeyBwb3MsIGRlbGV0ZWQgfSA9IG1hcHBpbmcubWFwUmVzdWx0KHNwYW4uZnJvbSArIG9sZE9mZnNldCwgdGhpcy5zaWRlIDwgMCA/IC0xIDogMSk7XG4gICAgICAgIHJldHVybiBkZWxldGVkID8gbnVsbCA6IG5ldyBEZWNvcmF0aW9uKHBvcyAtIG9mZnNldCwgcG9zIC0gb2Zmc2V0LCB0aGlzKTtcbiAgICB9XG4gICAgdmFsaWQoKSB7IHJldHVybiB0cnVlOyB9XG4gICAgZXEob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMgPT0gb3RoZXIgfHxcbiAgICAgICAgICAgIChvdGhlciBpbnN0YW5jZW9mIFdpZGdldFR5cGUgJiZcbiAgICAgICAgICAgICAgICAodGhpcy5zcGVjLmtleSAmJiB0aGlzLnNwZWMua2V5ID09IG90aGVyLnNwZWMua2V5IHx8XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG9ET00gPT0gb3RoZXIudG9ET00gJiYgY29tcGFyZU9ianModGhpcy5zcGVjLCBvdGhlci5zcGVjKSkpO1xuICAgIH1cbiAgICBkZXN0cm95KG5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuc3BlYy5kZXN0cm95KVxuICAgICAgICAgICAgdGhpcy5zcGVjLmRlc3Ryb3kobm9kZSk7XG4gICAgfVxufVxuY2xhc3MgSW5saW5lVHlwZSB7XG4gICAgY29uc3RydWN0b3IoYXR0cnMsIHNwZWMpIHtcbiAgICAgICAgdGhpcy5hdHRycyA9IGF0dHJzO1xuICAgICAgICB0aGlzLnNwZWMgPSBzcGVjIHx8IG5vU3BlYztcbiAgICB9XG4gICAgbWFwKG1hcHBpbmcsIHNwYW4sIG9mZnNldCwgb2xkT2Zmc2V0KSB7XG4gICAgICAgIGxldCBmcm9tID0gbWFwcGluZy5tYXAoc3Bhbi5mcm9tICsgb2xkT2Zmc2V0LCB0aGlzLnNwZWMuaW5jbHVzaXZlU3RhcnQgPyAtMSA6IDEpIC0gb2Zmc2V0O1xuICAgICAgICBsZXQgdG8gPSBtYXBwaW5nLm1hcChzcGFuLnRvICsgb2xkT2Zmc2V0LCB0aGlzLnNwZWMuaW5jbHVzaXZlRW5kID8gMSA6IC0xKSAtIG9mZnNldDtcbiAgICAgICAgcmV0dXJuIGZyb20gPj0gdG8gPyBudWxsIDogbmV3IERlY29yYXRpb24oZnJvbSwgdG8sIHRoaXMpO1xuICAgIH1cbiAgICB2YWxpZChfLCBzcGFuKSB7IHJldHVybiBzcGFuLmZyb20gPCBzcGFuLnRvOyB9XG4gICAgZXEob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMgPT0gb3RoZXIgfHxcbiAgICAgICAgICAgIChvdGhlciBpbnN0YW5jZW9mIElubGluZVR5cGUgJiYgY29tcGFyZU9ianModGhpcy5hdHRycywgb3RoZXIuYXR0cnMpICYmXG4gICAgICAgICAgICAgICAgY29tcGFyZU9ianModGhpcy5zcGVjLCBvdGhlci5zcGVjKSk7XG4gICAgfVxuICAgIHN0YXRpYyBpcyhzcGFuKSB7IHJldHVybiBzcGFuLnR5cGUgaW5zdGFuY2VvZiBJbmxpbmVUeXBlOyB9XG4gICAgZGVzdHJveSgpIHsgfVxufVxuY2xhc3MgTm9kZVR5cGUge1xuICAgIGNvbnN0cnVjdG9yKGF0dHJzLCBzcGVjKSB7XG4gICAgICAgIHRoaXMuYXR0cnMgPSBhdHRycztcbiAgICAgICAgdGhpcy5zcGVjID0gc3BlYyB8fCBub1NwZWM7XG4gICAgfVxuICAgIG1hcChtYXBwaW5nLCBzcGFuLCBvZmZzZXQsIG9sZE9mZnNldCkge1xuICAgICAgICBsZXQgZnJvbSA9IG1hcHBpbmcubWFwUmVzdWx0KHNwYW4uZnJvbSArIG9sZE9mZnNldCwgMSk7XG4gICAgICAgIGlmIChmcm9tLmRlbGV0ZWQpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgbGV0IHRvID0gbWFwcGluZy5tYXBSZXN1bHQoc3Bhbi50byArIG9sZE9mZnNldCwgLTEpO1xuICAgICAgICBpZiAodG8uZGVsZXRlZCB8fCB0by5wb3MgPD0gZnJvbS5wb3MpXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWNvcmF0aW9uKGZyb20ucG9zIC0gb2Zmc2V0LCB0by5wb3MgLSBvZmZzZXQsIHRoaXMpO1xuICAgIH1cbiAgICB2YWxpZChub2RlLCBzcGFuKSB7XG4gICAgICAgIGxldCB7IGluZGV4LCBvZmZzZXQgfSA9IG5vZGUuY29udGVudC5maW5kSW5kZXgoc3Bhbi5mcm9tKSwgY2hpbGQ7XG4gICAgICAgIHJldHVybiBvZmZzZXQgPT0gc3Bhbi5mcm9tICYmICEoY2hpbGQgPSBub2RlLmNoaWxkKGluZGV4KSkuaXNUZXh0ICYmIG9mZnNldCArIGNoaWxkLm5vZGVTaXplID09IHNwYW4udG87XG4gICAgfVxuICAgIGVxKG90aGVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzID09IG90aGVyIHx8XG4gICAgICAgICAgICAob3RoZXIgaW5zdGFuY2VvZiBOb2RlVHlwZSAmJiBjb21wYXJlT2Jqcyh0aGlzLmF0dHJzLCBvdGhlci5hdHRycykgJiZcbiAgICAgICAgICAgICAgICBjb21wYXJlT2Jqcyh0aGlzLnNwZWMsIG90aGVyLnNwZWMpKTtcbiAgICB9XG4gICAgZGVzdHJveSgpIHsgfVxufVxuLyoqXG5EZWNvcmF0aW9uIG9iamVjdHMgY2FuIGJlIHByb3ZpZGVkIHRvIHRoZSB2aWV3IHRocm91Z2ggdGhlXG5bYGRlY29yYXRpb25zYCBwcm9wXShodHRwczovL3Byb3NlbWlycm9yLm5ldC9kb2NzL3JlZi8jdmlldy5FZGl0b3JQcm9wcy5kZWNvcmF0aW9ucykuIFRoZXkgY29tZSBpblxuc2V2ZXJhbCB2YXJpYW50c+KAlHNlZSB0aGUgc3RhdGljIG1lbWJlcnMgb2YgdGhpcyBjbGFzcyBmb3IgZGV0YWlscy5cbiovXG5jbGFzcyBEZWNvcmF0aW9uIHtcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgZGVjb3JhdGlvbi5cbiAgICAqL1xuICAgIGZyb20sIFxuICAgIC8qKlxuICAgIFRoZSBlbmQgcG9zaXRpb24uIFdpbGwgYmUgdGhlIHNhbWUgYXMgYGZyb21gIGZvciBbd2lkZ2V0XG4gICAgZGVjb3JhdGlvbnNdKGh0dHBzOi8vcHJvc2VtaXJyb3IubmV0L2RvY3MvcmVmLyN2aWV3LkRlY29yYXRpb25ed2lkZ2V0KS5cbiAgICAqL1xuICAgIHRvLCBcbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIHR5cGUpIHtcbiAgICAgICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICAgICAgdGhpcy50byA9IHRvO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGNvcHkoZnJvbSwgdG8pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWNvcmF0aW9uKGZyb20sIHRvLCB0aGlzLnR5cGUpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGVxKG90aGVyLCBvZmZzZXQgPSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnR5cGUuZXEob3RoZXIudHlwZSkgJiYgdGhpcy5mcm9tICsgb2Zmc2V0ID09IG90aGVyLmZyb20gJiYgdGhpcy50byArIG9mZnNldCA9PSBvdGhlci50bztcbiAgICB9XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBtYXAobWFwcGluZywgb2Zmc2V0LCBvbGRPZmZzZXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZS5tYXAobWFwcGluZywgdGhpcywgb2Zmc2V0LCBvbGRPZmZzZXQpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGVzIGEgd2lkZ2V0IGRlY29yYXRpb24sIHdoaWNoIGlzIGEgRE9NIG5vZGUgdGhhdCdzIHNob3duIGluXG4gICAgdGhlIGRvY3VtZW50IGF0IHRoZSBnaXZlbiBwb3NpdGlvbi4gSXQgaXMgcmVjb21tZW5kZWQgdGhhdCB5b3VcbiAgICBkZWxheSByZW5kZXJpbmcgdGhlIHdpZGdldCBieSBwYXNzaW5nIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlXG4gICAgY2FsbGVkIHdoZW4gdGhlIHdpZGdldCBpcyBhY3R1YWxseSBkcmF3biBpbiBhIHZpZXcsIGJ1dCB5b3UgY2FuXG4gICAgYWxzbyBkaXJlY3RseSBwYXNzIGEgRE9NIG5vZGUuIGBnZXRQb3NgIGNhbiBiZSB1c2VkIHRvIGZpbmQgdGhlXG4gICAgd2lkZ2V0J3MgY3VycmVudCBkb2N1bWVudCBwb3NpdGlvbi5cbiAgICAqL1xuICAgIHN0YXRpYyB3aWRnZXQocG9zLCB0b0RPTSwgc3BlYykge1xuICAgICAgICByZXR1cm4gbmV3IERlY29yYXRpb24ocG9zLCBwb3MsIG5ldyBXaWRnZXRUeXBlKHRvRE9NLCBzcGVjKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIENyZWF0ZXMgYW4gaW5saW5lIGRlY29yYXRpb24sIHdoaWNoIGFkZHMgdGhlIGdpdmVuIGF0dHJpYnV0ZXMgdG9cbiAgICBlYWNoIGlubGluZSBub2RlIGJldHdlZW4gYGZyb21gIGFuZCBgdG9gLlxuICAgICovXG4gICAgc3RhdGljIGlubGluZShmcm9tLCB0bywgYXR0cnMsIHNwZWMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEZWNvcmF0aW9uKGZyb20sIHRvLCBuZXcgSW5saW5lVHlwZShhdHRycywgc3BlYykpO1xuICAgIH1cbiAgICAvKipcbiAgICBDcmVhdGVzIGEgbm9kZSBkZWNvcmF0aW9uLiBgZnJvbWAgYW5kIGB0b2Agc2hvdWxkIHBvaW50IHByZWNpc2VseVxuICAgIGJlZm9yZSBhbmQgYWZ0ZXIgYSBub2RlIGluIHRoZSBkb2N1bWVudC4gVGhhdCBub2RlLCBhbmQgb25seSB0aGF0XG4gICAgbm9kZSwgd2lsbCByZWNlaXZlIHRoZSBnaXZlbiBhdHRyaWJ1dGVzLlxuICAgICovXG4gICAgc3RhdGljIG5vZGUoZnJvbSwgdG8sIGF0dHJzLCBzcGVjKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGVjb3JhdGlvbihmcm9tLCB0bywgbmV3IE5vZGVUeXBlKGF0dHJzLCBzcGVjKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoZSBzcGVjIHByb3ZpZGVkIHdoZW4gY3JlYXRpbmcgdGhpcyBkZWNvcmF0aW9uLiBDYW4gYmUgdXNlZnVsXG4gICAgaWYgeW91J3ZlIHN0b3JlZCBleHRyYSBpbmZvcm1hdGlvbiBpbiB0aGF0IG9iamVjdC5cbiAgICAqL1xuICAgIGdldCBzcGVjKCkgeyByZXR1cm4gdGhpcy50eXBlLnNwZWM7IH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGdldCBpbmxpbmUoKSB7IHJldHVybiB0aGlzLnR5cGUgaW5zdGFuY2VvZiBJbmxpbmVUeXBlOyB9XG59XG5jb25zdCBub25lID0gW10sIG5vU3BlYyA9IHt9O1xuLyoqXG5BIGNvbGxlY3Rpb24gb2YgW2RlY29yYXRpb25zXShodHRwczovL3Byb3NlbWlycm9yLm5ldC9kb2NzL3JlZi8jdmlldy5EZWNvcmF0aW9uKSwgb3JnYW5pemVkIGluIHN1Y2hcbmEgd2F5IHRoYXQgdGhlIGRyYXdpbmcgYWxnb3JpdGhtIGNhbiBlZmZpY2llbnRseSB1c2UgYW5kIGNvbXBhcmVcbnRoZW0uIFRoaXMgaXMgYSBwZXJzaXN0ZW50IGRhdGEgc3RydWN0dXJl4oCUaXQgaXMgbm90IG1vZGlmaWVkLFxudXBkYXRlcyBjcmVhdGUgYSBuZXcgdmFsdWUuXG4qL1xuY2xhc3MgRGVjb3JhdGlvblNldCB7XG4gICAgLyoqXG4gICAgQGludGVybmFsXG4gICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihsb2NhbCwgY2hpbGRyZW4pIHtcbiAgICAgICAgdGhpcy5sb2NhbCA9IGxvY2FsLmxlbmd0aCA/IGxvY2FsIDogbm9uZTtcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuLmxlbmd0aCA/IGNoaWxkcmVuIDogbm9uZTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgc2V0IG9mIGRlY29yYXRpb25zLCB1c2luZyB0aGUgc3RydWN0dXJlIG9mIHRoZSBnaXZlblxuICAgIGRvY3VtZW50LlxuICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShkb2MsIGRlY29yYXRpb25zKSB7XG4gICAgICAgIHJldHVybiBkZWNvcmF0aW9ucy5sZW5ndGggPyBidWlsZFRyZWUoZGVjb3JhdGlvbnMsIGRvYywgMCwgbm9TcGVjKSA6IGVtcHR5O1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIGFsbCBkZWNvcmF0aW9ucyBpbiB0aGlzIHNldCB3aGljaCB0b3VjaCB0aGUgZ2l2ZW4gcmFuZ2VcbiAgICAoaW5jbHVkaW5nIGRlY29yYXRpb25zIHRoYXQgc3RhcnQgb3IgZW5kIGRpcmVjdGx5IGF0IHRoZVxuICAgIGJvdW5kYXJpZXMpIGFuZCBtYXRjaCB0aGUgZ2l2ZW4gcHJlZGljYXRlIG9uIHRoZWlyIHNwZWMuIFdoZW5cbiAgICBgc3RhcnRgIGFuZCBgZW5kYCBhcmUgb21pdHRlZCwgYWxsIGRlY29yYXRpb25zIGluIHRoZSBzZXQgYXJlXG4gICAgY29uc2lkZXJlZC4gV2hlbiBgcHJlZGljYXRlYCBpc24ndCBnaXZlbiwgYWxsIGRlY29yYXRpb25zIGFyZVxuICAgIGFzc3VtZWQgdG8gbWF0Y2guXG4gICAgKi9cbiAgICBmaW5kKHN0YXJ0LCBlbmQsIHByZWRpY2F0ZSkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgICAgIHRoaXMuZmluZElubmVyKHN0YXJ0ID09IG51bGwgPyAwIDogc3RhcnQsIGVuZCA9PSBudWxsID8gMWU5IDogZW5kLCByZXN1bHQsIDAsIHByZWRpY2F0ZSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZpbmRJbm5lcihzdGFydCwgZW5kLCByZXN1bHQsIG9mZnNldCwgcHJlZGljYXRlKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sb2NhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHNwYW4gPSB0aGlzLmxvY2FsW2ldO1xuICAgICAgICAgICAgaWYgKHNwYW4uZnJvbSA8PSBlbmQgJiYgc3Bhbi50byA+PSBzdGFydCAmJiAoIXByZWRpY2F0ZSB8fCBwcmVkaWNhdGUoc3Bhbi5zcGVjKSkpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goc3Bhbi5jb3B5KHNwYW4uZnJvbSArIG9mZnNldCwgc3Bhbi50byArIG9mZnNldCkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV0gPCBlbmQgJiYgdGhpcy5jaGlsZHJlbltpICsgMV0gPiBzdGFydCkge1xuICAgICAgICAgICAgICAgIGxldCBjaGlsZE9mZiA9IHRoaXMuY2hpbGRyZW5baV0gKyAxO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baSArIDJdLmZpbmRJbm5lcihzdGFydCAtIGNoaWxkT2ZmLCBlbmQgLSBjaGlsZE9mZiwgcmVzdWx0LCBvZmZzZXQgKyBjaGlsZE9mZiwgcHJlZGljYXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICBNYXAgdGhlIHNldCBvZiBkZWNvcmF0aW9ucyBpbiByZXNwb25zZSB0byBhIGNoYW5nZSBpbiB0aGVcbiAgICBkb2N1bWVudC5cbiAgICAqL1xuICAgIG1hcChtYXBwaW5nLCBkb2MsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMgPT0gZW1wdHkgfHwgbWFwcGluZy5tYXBzLmxlbmd0aCA9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIHJldHVybiB0aGlzLm1hcElubmVyKG1hcHBpbmcsIGRvYywgMCwgMCwgb3B0aW9ucyB8fCBub1NwZWMpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIG1hcElubmVyKG1hcHBpbmcsIG5vZGUsIG9mZnNldCwgb2xkT2Zmc2V0LCBvcHRpb25zKSB7XG4gICAgICAgIGxldCBuZXdMb2NhbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxvY2FsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbWFwcGVkID0gdGhpcy5sb2NhbFtpXS5tYXAobWFwcGluZywgb2Zmc2V0LCBvbGRPZmZzZXQpO1xuICAgICAgICAgICAgaWYgKG1hcHBlZCAmJiBtYXBwZWQudHlwZS52YWxpZChub2RlLCBtYXBwZWQpKVxuICAgICAgICAgICAgICAgIChuZXdMb2NhbCB8fCAobmV3TG9jYWwgPSBbXSkpLnB1c2gobWFwcGVkKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKG9wdGlvbnMub25SZW1vdmUpXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5vblJlbW92ZSh0aGlzLmxvY2FsW2ldLnNwZWMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBtYXBDaGlsZHJlbih0aGlzLmNoaWxkcmVuLCBuZXdMb2NhbCB8fCBbXSwgbWFwcGluZywgbm9kZSwgb2Zmc2V0LCBvbGRPZmZzZXQsIG9wdGlvbnMpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gbmV3TG9jYWwgPyBuZXcgRGVjb3JhdGlvblNldChuZXdMb2NhbC5zb3J0KGJ5UG9zKSwgbm9uZSkgOiBlbXB0eTtcbiAgICB9XG4gICAgLyoqXG4gICAgQWRkIHRoZSBnaXZlbiBhcnJheSBvZiBkZWNvcmF0aW9ucyB0byB0aGUgb25lcyBpbiB0aGUgc2V0LFxuICAgIHByb2R1Y2luZyBhIG5ldyBzZXQuIE5lZWRzIGFjY2VzcyB0byB0aGUgY3VycmVudCBkb2N1bWVudCB0b1xuICAgIGNyZWF0ZSB0aGUgYXBwcm9wcmlhdGUgdHJlZSBzdHJ1Y3R1cmUuXG4gICAgKi9cbiAgICBhZGQoZG9jLCBkZWNvcmF0aW9ucykge1xuICAgICAgICBpZiAoIWRlY29yYXRpb25zLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBpZiAodGhpcyA9PSBlbXB0eSlcbiAgICAgICAgICAgIHJldHVybiBEZWNvcmF0aW9uU2V0LmNyZWF0ZShkb2MsIGRlY29yYXRpb25zKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWRkSW5uZXIoZG9jLCBkZWNvcmF0aW9ucywgMCk7XG4gICAgfVxuICAgIGFkZElubmVyKGRvYywgZGVjb3JhdGlvbnMsIG9mZnNldCkge1xuICAgICAgICBsZXQgY2hpbGRyZW4sIGNoaWxkSW5kZXggPSAwO1xuICAgICAgICBkb2MuZm9yRWFjaCgoY2hpbGROb2RlLCBjaGlsZE9mZnNldCkgPT4ge1xuICAgICAgICAgICAgbGV0IGJhc2VPZmZzZXQgPSBjaGlsZE9mZnNldCArIG9mZnNldCwgZm91bmQ7XG4gICAgICAgICAgICBpZiAoIShmb3VuZCA9IHRha2VTcGFuc0Zvck5vZGUoZGVjb3JhdGlvbnMsIGNoaWxkTm9kZSwgYmFzZU9mZnNldCkpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmICghY2hpbGRyZW4pXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuLnNsaWNlKCk7XG4gICAgICAgICAgICB3aGlsZSAoY2hpbGRJbmRleCA8IGNoaWxkcmVuLmxlbmd0aCAmJiBjaGlsZHJlbltjaGlsZEluZGV4XSA8IGNoaWxkT2Zmc2V0KVxuICAgICAgICAgICAgICAgIGNoaWxkSW5kZXggKz0gMztcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbltjaGlsZEluZGV4XSA9PSBjaGlsZE9mZnNldClcbiAgICAgICAgICAgICAgICBjaGlsZHJlbltjaGlsZEluZGV4ICsgMl0gPSBjaGlsZHJlbltjaGlsZEluZGV4ICsgMl0uYWRkSW5uZXIoY2hpbGROb2RlLCBmb3VuZCwgYmFzZU9mZnNldCArIDEpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnNwbGljZShjaGlsZEluZGV4LCAwLCBjaGlsZE9mZnNldCwgY2hpbGRPZmZzZXQgKyBjaGlsZE5vZGUubm9kZVNpemUsIGJ1aWxkVHJlZShmb3VuZCwgY2hpbGROb2RlLCBiYXNlT2Zmc2V0ICsgMSwgbm9TcGVjKSk7XG4gICAgICAgICAgICBjaGlsZEluZGV4ICs9IDM7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgbG9jYWwgPSBtb3ZlU3BhbnMoY2hpbGRJbmRleCA/IHdpdGhvdXROdWxscyhkZWNvcmF0aW9ucykgOiBkZWNvcmF0aW9ucywgLW9mZnNldCk7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWwubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBpZiAoIWxvY2FsW2ldLnR5cGUudmFsaWQoZG9jLCBsb2NhbFtpXSkpXG4gICAgICAgICAgICAgICAgbG9jYWwuc3BsaWNlKGktLSwgMSk7XG4gICAgICAgIHJldHVybiBuZXcgRGVjb3JhdGlvblNldChsb2NhbC5sZW5ndGggPyB0aGlzLmxvY2FsLmNvbmNhdChsb2NhbCkuc29ydChieVBvcykgOiB0aGlzLmxvY2FsLCBjaGlsZHJlbiB8fCB0aGlzLmNoaWxkcmVuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgbmV3IHNldCB0aGF0IGNvbnRhaW5zIHRoZSBkZWNvcmF0aW9ucyBpbiB0aGlzIHNldCwgbWludXNcbiAgICB0aGUgb25lcyBpbiB0aGUgZ2l2ZW4gYXJyYXkuXG4gICAgKi9cbiAgICByZW1vdmUoZGVjb3JhdGlvbnMpIHtcbiAgICAgICAgaWYgKGRlY29yYXRpb25zLmxlbmd0aCA9PSAwIHx8IHRoaXMgPT0gZW1wdHkpXG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlSW5uZXIoZGVjb3JhdGlvbnMsIDApO1xuICAgIH1cbiAgICByZW1vdmVJbm5lcihkZWNvcmF0aW9ucywgb2Zmc2V0KSB7XG4gICAgICAgIGxldCBjaGlsZHJlbiA9IHRoaXMuY2hpbGRyZW4sIGxvY2FsID0gdGhpcy5sb2NhbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgbGV0IGZvdW5kO1xuICAgICAgICAgICAgbGV0IGZyb20gPSBjaGlsZHJlbltpXSArIG9mZnNldCwgdG8gPSBjaGlsZHJlbltpICsgMV0gKyBvZmZzZXQ7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMCwgc3BhbjsgaiA8IGRlY29yYXRpb25zLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgIGlmIChzcGFuID0gZGVjb3JhdGlvbnNbal0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNwYW4uZnJvbSA+IGZyb20gJiYgc3Bhbi50byA8IHRvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNvcmF0aW9uc1tqXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAoZm91bmQgfHwgKGZvdW5kID0gW10pKS5wdXNoKHNwYW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFmb3VuZClcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbiA9PSB0aGlzLmNoaWxkcmVuKVxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbi5zbGljZSgpO1xuICAgICAgICAgICAgbGV0IHJlbW92ZWQgPSBjaGlsZHJlbltpICsgMl0ucmVtb3ZlSW5uZXIoZm91bmQsIGZyb20gKyAxKTtcbiAgICAgICAgICAgIGlmIChyZW1vdmVkICE9IGVtcHR5KSB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW5baSArIDJdID0gcmVtb3ZlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnNwbGljZShpLCAzKTtcbiAgICAgICAgICAgICAgICBpIC09IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxvY2FsLmxlbmd0aClcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBzcGFuOyBpIDwgZGVjb3JhdGlvbnMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgaWYgKHNwYW4gPSBkZWNvcmF0aW9uc1tpXSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxvY2FsLmxlbmd0aDsgaisrKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxvY2FsW2pdLmVxKHNwYW4sIG9mZnNldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobG9jYWwgPT0gdGhpcy5sb2NhbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgPSB0aGlzLmxvY2FsLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwuc3BsaWNlKGotLSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICBpZiAoY2hpbGRyZW4gPT0gdGhpcy5jaGlsZHJlbiAmJiBsb2NhbCA9PSB0aGlzLmxvY2FsKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIHJldHVybiBsb2NhbC5sZW5ndGggfHwgY2hpbGRyZW4ubGVuZ3RoID8gbmV3IERlY29yYXRpb25TZXQobG9jYWwsIGNoaWxkcmVuKSA6IGVtcHR5O1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGZvckNoaWxkKG9mZnNldCwgbm9kZSkge1xuICAgICAgICBpZiAodGhpcyA9PSBlbXB0eSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICBpZiAobm9kZS5pc0xlYWYpXG4gICAgICAgICAgICByZXR1cm4gRGVjb3JhdGlvblNldC5lbXB0eTtcbiAgICAgICAgbGV0IGNoaWxkLCBsb2NhbDtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKVxuICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV0gPj0gb2Zmc2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2hpbGRyZW5baV0gPT0gb2Zmc2V0KVxuICAgICAgICAgICAgICAgICAgICBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baSArIDJdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICBsZXQgc3RhcnQgPSBvZmZzZXQgKyAxLCBlbmQgPSBzdGFydCArIG5vZGUuY29udGVudC5zaXplO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubG9jYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBkZWMgPSB0aGlzLmxvY2FsW2ldO1xuICAgICAgICAgICAgaWYgKGRlYy5mcm9tIDwgZW5kICYmIGRlYy50byA+IHN0YXJ0ICYmIChkZWMudHlwZSBpbnN0YW5jZW9mIElubGluZVR5cGUpKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZyb20gPSBNYXRoLm1heChzdGFydCwgZGVjLmZyb20pIC0gc3RhcnQsIHRvID0gTWF0aC5taW4oZW5kLCBkZWMudG8pIC0gc3RhcnQ7XG4gICAgICAgICAgICAgICAgaWYgKGZyb20gPCB0bylcbiAgICAgICAgICAgICAgICAgICAgKGxvY2FsIHx8IChsb2NhbCA9IFtdKSkucHVzaChkZWMuY29weShmcm9tLCB0bykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChsb2NhbCkge1xuICAgICAgICAgICAgbGV0IGxvY2FsU2V0ID0gbmV3IERlY29yYXRpb25TZXQobG9jYWwuc29ydChieVBvcyksIG5vbmUpO1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkID8gbmV3IERlY29yYXRpb25Hcm91cChbbG9jYWxTZXQsIGNoaWxkXSkgOiBsb2NhbFNldDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2hpbGQgfHwgZW1wdHk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgZXEob3RoZXIpIHtcbiAgICAgICAgaWYgKHRoaXMgPT0gb3RoZXIpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBEZWNvcmF0aW9uU2V0KSB8fFxuICAgICAgICAgICAgdGhpcy5sb2NhbC5sZW5ndGggIT0gb3RoZXIubG9jYWwubGVuZ3RoIHx8XG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmxlbmd0aCAhPSBvdGhlci5jaGlsZHJlbi5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sb2NhbC5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmICghdGhpcy5sb2NhbFtpXS5lcShvdGhlci5sb2NhbFtpXSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDMpXG4gICAgICAgICAgICBpZiAodGhpcy5jaGlsZHJlbltpXSAhPSBvdGhlci5jaGlsZHJlbltpXSB8fFxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW5baSArIDFdICE9IG90aGVyLmNoaWxkcmVuW2kgKyAxXSB8fFxuICAgICAgICAgICAgICAgICF0aGlzLmNoaWxkcmVuW2kgKyAyXS5lcShvdGhlci5jaGlsZHJlbltpICsgMl0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgbG9jYWxzKG5vZGUpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZU92ZXJsYXAodGhpcy5sb2NhbHNJbm5lcihub2RlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEBpbnRlcm5hbFxuICAgICovXG4gICAgbG9jYWxzSW5uZXIobm9kZSkge1xuICAgICAgICBpZiAodGhpcyA9PSBlbXB0eSlcbiAgICAgICAgICAgIHJldHVybiBub25lO1xuICAgICAgICBpZiAobm9kZS5pbmxpbmVDb250ZW50IHx8ICF0aGlzLmxvY2FsLnNvbWUoSW5saW5lVHlwZS5pcykpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbDtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubG9jYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghKHRoaXMubG9jYWxbaV0udHlwZSBpbnN0YW5jZW9mIElubGluZVR5cGUpKVxuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRoaXMubG9jYWxbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuLyoqXG5UaGUgZW1wdHkgc2V0IG9mIGRlY29yYXRpb25zLlxuKi9cbkRlY29yYXRpb25TZXQuZW1wdHkgPSBuZXcgRGVjb3JhdGlvblNldChbXSwgW10pO1xuLyoqXG5AaW50ZXJuYWxcbiovXG5EZWNvcmF0aW9uU2V0LnJlbW92ZU92ZXJsYXAgPSByZW1vdmVPdmVybGFwO1xuY29uc3QgZW1wdHkgPSBEZWNvcmF0aW9uU2V0LmVtcHR5O1xuLy8gQW4gYWJzdHJhY3Rpb24gdGhhdCBhbGxvd3MgdGhlIGNvZGUgZGVhbGluZyB3aXRoIGRlY29yYXRpb25zIHRvXG4vLyB0cmVhdCBtdWx0aXBsZSBEZWNvcmF0aW9uU2V0IG9iamVjdHMgYXMgaWYgaXQgd2VyZSBhIHNpbmdsZSBvYmplY3Rcbi8vIHdpdGggKGEgc3Vic2V0IG9mKSB0aGUgc2FtZSBpbnRlcmZhY2UuXG5jbGFzcyBEZWNvcmF0aW9uR3JvdXAge1xuICAgIGNvbnN0cnVjdG9yKG1lbWJlcnMpIHtcbiAgICAgICAgdGhpcy5tZW1iZXJzID0gbWVtYmVycztcbiAgICB9XG4gICAgbWFwKG1hcHBpbmcsIGRvYykge1xuICAgICAgICBjb25zdCBtYXBwZWREZWNvcyA9IHRoaXMubWVtYmVycy5tYXAobWVtYmVyID0+IG1lbWJlci5tYXAobWFwcGluZywgZG9jLCBub1NwZWMpKTtcbiAgICAgICAgcmV0dXJuIERlY29yYXRpb25Hcm91cC5mcm9tKG1hcHBlZERlY29zKTtcbiAgICB9XG4gICAgZm9yQ2hpbGQob2Zmc2V0LCBjaGlsZCkge1xuICAgICAgICBpZiAoY2hpbGQuaXNMZWFmKVxuICAgICAgICAgICAgcmV0dXJuIERlY29yYXRpb25TZXQuZW1wdHk7XG4gICAgICAgIGxldCBmb3VuZCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVtYmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMubWVtYmVyc1tpXS5mb3JDaGlsZChvZmZzZXQsIGNoaWxkKTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPT0gZW1wdHkpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgRGVjb3JhdGlvbkdyb3VwKVxuICAgICAgICAgICAgICAgIGZvdW5kID0gZm91bmQuY29uY2F0KHJlc3VsdC5tZW1iZXJzKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBmb3VuZC5wdXNoKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIERlY29yYXRpb25Hcm91cC5mcm9tKGZvdW5kKTtcbiAgICB9XG4gICAgZXEob3RoZXIpIHtcbiAgICAgICAgaWYgKCEob3RoZXIgaW5zdGFuY2VvZiBEZWNvcmF0aW9uR3JvdXApIHx8XG4gICAgICAgICAgICBvdGhlci5tZW1iZXJzLmxlbmd0aCAhPSB0aGlzLm1lbWJlcnMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVtYmVycy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGlmICghdGhpcy5tZW1iZXJzW2ldLmVxKG90aGVyLm1lbWJlcnNbaV0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGxvY2Fscyhub2RlKSB7XG4gICAgICAgIGxldCByZXN1bHQsIHNvcnRlZCA9IHRydWU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZW1iZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgbG9jYWxzID0gdGhpcy5tZW1iZXJzW2ldLmxvY2Fsc0lubmVyKG5vZGUpO1xuICAgICAgICAgICAgaWYgKCFsb2NhbHMubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBsb2NhbHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc29ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgpO1xuICAgICAgICAgICAgICAgICAgICBzb3J0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsb2NhbHMubGVuZ3RoOyBqKyspXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxvY2Fsc1tqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdCA/IHJlbW92ZU92ZXJsYXAoc29ydGVkID8gcmVzdWx0IDogcmVzdWx0LnNvcnQoYnlQb3MpKSA6IG5vbmU7XG4gICAgfVxuICAgIC8vIENyZWF0ZSBhIGdyb3VwIGZvciB0aGUgZ2l2ZW4gYXJyYXkgb2YgZGVjb3JhdGlvbiBzZXRzLCBvciByZXR1cm5cbiAgICAvLyBhIHNpbmdsZSBzZXQgd2hlbiBwb3NzaWJsZS5cbiAgICBzdGF0aWMgZnJvbShtZW1iZXJzKSB7XG4gICAgICAgIHN3aXRjaCAobWVtYmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIGVtcHR5O1xuICAgICAgICAgICAgY2FzZSAxOiByZXR1cm4gbWVtYmVyc1swXTtcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBuZXcgRGVjb3JhdGlvbkdyb3VwKG1lbWJlcnMpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gbWFwQ2hpbGRyZW4ob2xkQ2hpbGRyZW4sIG5ld0xvY2FsLCBtYXBwaW5nLCBub2RlLCBvZmZzZXQsIG9sZE9mZnNldCwgb3B0aW9ucykge1xuICAgIGxldCBjaGlsZHJlbiA9IG9sZENoaWxkcmVuLnNsaWNlKCk7XG4gICAgLy8gTWFyayB0aGUgY2hpbGRyZW4gdGhhdCBhcmUgZGlyZWN0bHkgdG91Y2hlZCBieSBjaGFuZ2VzLCBhbmRcbiAgICAvLyBtb3ZlIHRob3NlIHRoYXQgYXJlIGFmdGVyIHRoZSBjaGFuZ2VzLlxuICAgIGxldCBzaGlmdCA9IChvbGRTdGFydCwgb2xkRW5kLCBuZXdTdGFydCwgbmV3RW5kKSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgICAgICAgIGxldCBlbmQgPSBjaGlsZHJlbltpICsgMV0sIGRTaXplO1xuICAgICAgICAgICAgaWYgKGVuZCA8IDAgfHwgb2xkU3RhcnQgPiBlbmQgKyBvbGRPZmZzZXQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBsZXQgc3RhcnQgPSBjaGlsZHJlbltpXSArIG9sZE9mZnNldDtcbiAgICAgICAgICAgIGlmIChvbGRFbmQgPj0gc3RhcnQpIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbltpICsgMV0gPSBvbGRTdGFydCA8PSBzdGFydCA/IC0yIDogLTE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChuZXdTdGFydCA+PSBvZmZzZXQgJiYgKGRTaXplID0gKG5ld0VuZCAtIG5ld1N0YXJ0KSAtIChvbGRFbmQgLSBvbGRTdGFydCkpKSB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW5baV0gKz0gZFNpemU7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW5baSArIDFdICs9IGRTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1hcHBpbmcubWFwcy5sZW5ndGg7IGkrKylcbiAgICAgICAgbWFwcGluZy5tYXBzW2ldLmZvckVhY2goc2hpZnQpO1xuICAgIC8vIEZpbmQgdGhlIGNoaWxkIG5vZGVzIHRoYXQgc3RpbGwgY29ycmVzcG9uZCB0byBhIHNpbmdsZSBub2RlLFxuICAgIC8vIHJlY3Vyc2l2ZWx5IGNhbGwgbWFwSW5uZXIgb24gdGhlbSBhbmQgdXBkYXRlIHRoZWlyIHBvc2l0aW9ucy5cbiAgICBsZXQgbXVzdFJlYnVpbGQgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKVxuICAgICAgICBpZiAoY2hpbGRyZW5baSArIDFdIDwgMCkgeyAvLyBUb3VjaGVkIG5vZGVzXG4gICAgICAgICAgICBpZiAoY2hpbGRyZW5baSArIDFdID09IC0yKSB7XG4gICAgICAgICAgICAgICAgbXVzdFJlYnVpbGQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGNoaWxkcmVuW2kgKyAxXSA9IC0xO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGZyb20gPSBtYXBwaW5nLm1hcChvbGRDaGlsZHJlbltpXSArIG9sZE9mZnNldCksIGZyb21Mb2NhbCA9IGZyb20gLSBvZmZzZXQ7XG4gICAgICAgICAgICBpZiAoZnJvbUxvY2FsIDwgMCB8fCBmcm9tTG9jYWwgPj0gbm9kZS5jb250ZW50LnNpemUpIHtcbiAgICAgICAgICAgICAgICBtdXN0UmVidWlsZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBNdXN0IHJlYWQgb2xkQ2hpbGRyZW4gYmVjYXVzZSBjaGlsZHJlbiB3YXMgdGFnZ2VkIHdpdGggLTFcbiAgICAgICAgICAgIGxldCB0byA9IG1hcHBpbmcubWFwKG9sZENoaWxkcmVuW2kgKyAxXSArIG9sZE9mZnNldCwgLTEpLCB0b0xvY2FsID0gdG8gLSBvZmZzZXQ7XG4gICAgICAgICAgICBsZXQgeyBpbmRleCwgb2Zmc2V0OiBjaGlsZE9mZnNldCB9ID0gbm9kZS5jb250ZW50LmZpbmRJbmRleChmcm9tTG9jYWwpO1xuICAgICAgICAgICAgbGV0IGNoaWxkTm9kZSA9IG5vZGUubWF5YmVDaGlsZChpbmRleCk7XG4gICAgICAgICAgICBpZiAoY2hpbGROb2RlICYmIGNoaWxkT2Zmc2V0ID09IGZyb21Mb2NhbCAmJiBjaGlsZE9mZnNldCArIGNoaWxkTm9kZS5ub2RlU2l6ZSA9PSB0b0xvY2FsKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1hcHBlZCA9IGNoaWxkcmVuW2kgKyAyXVxuICAgICAgICAgICAgICAgICAgICAubWFwSW5uZXIobWFwcGluZywgY2hpbGROb2RlLCBmcm9tICsgMSwgb2xkQ2hpbGRyZW5baV0gKyBvbGRPZmZzZXQgKyAxLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBpZiAobWFwcGVkICE9IGVtcHR5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuW2ldID0gZnJvbUxvY2FsO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbltpICsgMV0gPSB0b0xvY2FsO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbltpICsgMl0gPSBtYXBwZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaGlsZHJlbltpICsgMV0gPSAtMjtcbiAgICAgICAgICAgICAgICAgICAgbXVzdFJlYnVpbGQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG11c3RSZWJ1aWxkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIC8vIFJlbWFpbmluZyBjaGlsZHJlbiBtdXN0IGJlIGNvbGxlY3RlZCBhbmQgcmVidWlsdCBpbnRvIHRoZSBhcHByb3ByaWF0ZSBzdHJ1Y3R1cmVcbiAgICBpZiAobXVzdFJlYnVpbGQpIHtcbiAgICAgICAgbGV0IGRlY29yYXRpb25zID0gbWFwQW5kR2F0aGVyUmVtYWluaW5nRGVjb3JhdGlvbnMoY2hpbGRyZW4sIG9sZENoaWxkcmVuLCBuZXdMb2NhbCwgbWFwcGluZywgb2Zmc2V0LCBvbGRPZmZzZXQsIG9wdGlvbnMpO1xuICAgICAgICBsZXQgYnVpbHQgPSBidWlsZFRyZWUoZGVjb3JhdGlvbnMsIG5vZGUsIDAsIG9wdGlvbnMpO1xuICAgICAgICBuZXdMb2NhbCA9IGJ1aWx0LmxvY2FsO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKVxuICAgICAgICAgICAgaWYgKGNoaWxkcmVuW2kgKyAxXSA8IDApIHtcbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5zcGxpY2UoaSwgMyk7XG4gICAgICAgICAgICAgICAgaSAtPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMCwgaiA9IDA7IGkgPCBidWlsdC5jaGlsZHJlbi5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgbGV0IGZyb20gPSBidWlsdC5jaGlsZHJlbltpXTtcbiAgICAgICAgICAgIHdoaWxlIChqIDwgY2hpbGRyZW4ubGVuZ3RoICYmIGNoaWxkcmVuW2pdIDwgZnJvbSlcbiAgICAgICAgICAgICAgICBqICs9IDM7XG4gICAgICAgICAgICBjaGlsZHJlbi5zcGxpY2UoaiwgMCwgYnVpbHQuY2hpbGRyZW5baV0sIGJ1aWx0LmNoaWxkcmVuW2kgKyAxXSwgYnVpbHQuY2hpbGRyZW5baSArIDJdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IERlY29yYXRpb25TZXQobmV3TG9jYWwuc29ydChieVBvcyksIGNoaWxkcmVuKTtcbn1cbmZ1bmN0aW9uIG1vdmVTcGFucyhzcGFucywgb2Zmc2V0KSB7XG4gICAgaWYgKCFvZmZzZXQgfHwgIXNwYW5zLmxlbmd0aClcbiAgICAgICAgcmV0dXJuIHNwYW5zO1xuICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxldCBzcGFuID0gc3BhbnNbaV07XG4gICAgICAgIHJlc3VsdC5wdXNoKG5ldyBEZWNvcmF0aW9uKHNwYW4uZnJvbSArIG9mZnNldCwgc3Bhbi50byArIG9mZnNldCwgc3Bhbi50eXBlKSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBtYXBBbmRHYXRoZXJSZW1haW5pbmdEZWNvcmF0aW9ucyhjaGlsZHJlbiwgb2xkQ2hpbGRyZW4sIGRlY29yYXRpb25zLCBtYXBwaW5nLCBvZmZzZXQsIG9sZE9mZnNldCwgb3B0aW9ucykge1xuICAgIC8vIEdhdGhlciBhbGwgZGVjb3JhdGlvbnMgZnJvbSB0aGUgcmVtYWluaW5nIG1hcmtlZCBjaGlsZHJlblxuICAgIGZ1bmN0aW9uIGdhdGhlcihzZXQsIG9sZE9mZnNldCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNldC5sb2NhbC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbGV0IG1hcHBlZCA9IHNldC5sb2NhbFtpXS5tYXAobWFwcGluZywgb2Zmc2V0LCBvbGRPZmZzZXQpO1xuICAgICAgICAgICAgaWYgKG1hcHBlZClcbiAgICAgICAgICAgICAgICBkZWNvcmF0aW9ucy5wdXNoKG1hcHBlZCk7XG4gICAgICAgICAgICBlbHNlIGlmIChvcHRpb25zLm9uUmVtb3ZlKVxuICAgICAgICAgICAgICAgIG9wdGlvbnMub25SZW1vdmUoc2V0LmxvY2FsW2ldLnNwZWMpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2V0LmNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKVxuICAgICAgICAgICAgZ2F0aGVyKHNldC5jaGlsZHJlbltpICsgMl0sIHNldC5jaGlsZHJlbltpXSArIG9sZE9mZnNldCArIDEpO1xuICAgIH1cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSArPSAzKVxuICAgICAgICBpZiAoY2hpbGRyZW5baSArIDFdID09IC0xKVxuICAgICAgICAgICAgZ2F0aGVyKGNoaWxkcmVuW2kgKyAyXSwgb2xkQ2hpbGRyZW5baV0gKyBvbGRPZmZzZXQgKyAxKTtcbiAgICByZXR1cm4gZGVjb3JhdGlvbnM7XG59XG5mdW5jdGlvbiB0YWtlU3BhbnNGb3JOb2RlKHNwYW5zLCBub2RlLCBvZmZzZXQpIHtcbiAgICBpZiAobm9kZS5pc0xlYWYpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCBlbmQgPSBvZmZzZXQgKyBub2RlLm5vZGVTaXplLCBmb3VuZCA9IG51bGw7XG4gICAgZm9yIChsZXQgaSA9IDAsIHNwYW47IGkgPCBzcGFucy5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoKHNwYW4gPSBzcGFuc1tpXSkgJiYgc3Bhbi5mcm9tID4gb2Zmc2V0ICYmIHNwYW4udG8gPCBlbmQpIHtcbiAgICAgICAgICAgIChmb3VuZCB8fCAoZm91bmQgPSBbXSkpLnB1c2goc3Bhbik7XG4gICAgICAgICAgICBzcGFuc1tpXSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kO1xufVxuZnVuY3Rpb24gd2l0aG91dE51bGxzKGFycmF5KSB7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspXG4gICAgICAgIGlmIChhcnJheVtpXSAhPSBudWxsKVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goYXJyYXlbaV0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vLyBCdWlsZCB1cCBhIHRyZWUgdGhhdCBjb3JyZXNwb25kcyB0byBhIHNldCBvZiBkZWNvcmF0aW9ucy4gYG9mZnNldGBcbi8vIGlzIGEgYmFzZSBvZmZzZXQgdGhhdCBzaG91bGQgYmUgc3VidHJhY3RlZCBmcm9tIHRoZSBgZnJvbWAgYW5kIGB0b2Bcbi8vIHBvc2l0aW9ucyBpbiB0aGUgc3BhbnMgKHNvIHRoYXQgd2UgZG9uJ3QgaGF2ZSB0byBhbGxvY2F0ZSBuZXcgc3BhbnNcbi8vIGZvciByZWN1cnNpdmUgY2FsbHMpLlxuZnVuY3Rpb24gYnVpbGRUcmVlKHNwYW5zLCBub2RlLCBvZmZzZXQsIG9wdGlvbnMpIHtcbiAgICBsZXQgY2hpbGRyZW4gPSBbXSwgaGFzTnVsbHMgPSBmYWxzZTtcbiAgICBub2RlLmZvckVhY2goKGNoaWxkTm9kZSwgbG9jYWxTdGFydCkgPT4ge1xuICAgICAgICBsZXQgZm91bmQgPSB0YWtlU3BhbnNGb3JOb2RlKHNwYW5zLCBjaGlsZE5vZGUsIGxvY2FsU3RhcnQgKyBvZmZzZXQpO1xuICAgICAgICBpZiAoZm91bmQpIHtcbiAgICAgICAgICAgIGhhc051bGxzID0gdHJ1ZTtcbiAgICAgICAgICAgIGxldCBzdWJ0cmVlID0gYnVpbGRUcmVlKGZvdW5kLCBjaGlsZE5vZGUsIG9mZnNldCArIGxvY2FsU3RhcnQgKyAxLCBvcHRpb25zKTtcbiAgICAgICAgICAgIGlmIChzdWJ0cmVlICE9IGVtcHR5KVxuICAgICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2gobG9jYWxTdGFydCwgbG9jYWxTdGFydCArIGNoaWxkTm9kZS5ub2RlU2l6ZSwgc3VidHJlZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgbG9jYWxzID0gbW92ZVNwYW5zKGhhc051bGxzID8gd2l0aG91dE51bGxzKHNwYW5zKSA6IHNwYW5zLCAtb2Zmc2V0KS5zb3J0KGJ5UG9zKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2Fscy5sZW5ndGg7IGkrKylcbiAgICAgICAgaWYgKCFsb2NhbHNbaV0udHlwZS52YWxpZChub2RlLCBsb2NhbHNbaV0pKSB7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5vblJlbW92ZSlcbiAgICAgICAgICAgICAgICBvcHRpb25zLm9uUmVtb3ZlKGxvY2Fsc1tpXS5zcGVjKTtcbiAgICAgICAgICAgIGxvY2Fscy5zcGxpY2UoaS0tLCAxKTtcbiAgICAgICAgfVxuICAgIHJldHVybiBsb2NhbHMubGVuZ3RoIHx8IGNoaWxkcmVuLmxlbmd0aCA/IG5ldyBEZWNvcmF0aW9uU2V0KGxvY2FscywgY2hpbGRyZW4pIDogZW1wdHk7XG59XG4vLyBVc2VkIHRvIHNvcnQgZGVjb3JhdGlvbnMgc28gdGhhdCBvbmVzIHdpdGggYSBsb3cgc3RhcnQgcG9zaXRpb25cbi8vIGNvbWUgZmlyc3QsIGFuZCB3aXRoaW4gYSBzZXQgd2l0aCB0aGUgc2FtZSBzdGFydCBwb3NpdGlvbiwgdGhvc2Vcbi8vIHdpdGggYW4gc21hbGxlciBlbmQgcG9zaXRpb24gY29tZSBmaXJzdC5cbmZ1bmN0aW9uIGJ5UG9zKGEsIGIpIHtcbiAgICByZXR1cm4gYS5mcm9tIC0gYi5mcm9tIHx8IGEudG8gLSBiLnRvO1xufVxuLy8gU2NhbiBhIHNvcnRlZCBhcnJheSBvZiBkZWNvcmF0aW9ucyBmb3IgcGFydGlhbGx5IG92ZXJsYXBwaW5nIHNwYW5zLFxuLy8gYW5kIHNwbGl0IHRob3NlIHNvIHRoYXQgb25seSBmdWxseSBvdmVybGFwcGluZyBzcGFucyBhcmUgbGVmdCAodG9cbi8vIG1ha2Ugc3Vic2VxdWVudCByZW5kZXJpbmcgZWFzaWVyKS4gV2lsbCByZXR1cm4gdGhlIGlucHV0IGFycmF5IGlmXG4vLyBubyBwYXJ0aWFsbHkgb3ZlcmxhcHBpbmcgc3BhbnMgYXJlIGZvdW5kICh0aGUgY29tbW9uIGNhc2UpLlxuZnVuY3Rpb24gcmVtb3ZlT3ZlcmxhcChzcGFucykge1xuICAgIGxldCB3b3JraW5nID0gc3BhbnM7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB3b3JraW5nLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBsZXQgc3BhbiA9IHdvcmtpbmdbaV07XG4gICAgICAgIGlmIChzcGFuLmZyb20gIT0gc3Bhbi50bylcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IHdvcmtpbmcubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9IHdvcmtpbmdbal07XG4gICAgICAgICAgICAgICAgaWYgKG5leHQuZnJvbSA9PSBzcGFuLmZyb20pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQudG8gIT0gc3Bhbi50bykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdvcmtpbmcgPT0gc3BhbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd29ya2luZyA9IHNwYW5zLnNsaWNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb2xsb3dlZCBieSBhIHBhcnRpYWxseSBvdmVybGFwcGluZyBsYXJnZXIgc3Bhbi4gU3BsaXQgdGhhdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3Bhbi5cbiAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtpbmdbal0gPSBuZXh0LmNvcHkobmV4dC5mcm9tLCBzcGFuLnRvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydEFoZWFkKHdvcmtpbmcsIGogKyAxLCBuZXh0LmNvcHkoc3Bhbi50bywgbmV4dC50bykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHQuZnJvbSA8IHNwYW4udG8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3b3JraW5nID09IHNwYW5zKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtpbmcgPSBzcGFucy5zbGljZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGVuZCBvZiB0aGlzIG9uZSBvdmVybGFwcyB3aXRoIGEgc3Vic2VxdWVudCBzcGFuLiBTcGxpdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcyBvbmUuXG4gICAgICAgICAgICAgICAgICAgICAgICB3b3JraW5nW2ldID0gc3Bhbi5jb3B5KHNwYW4uZnJvbSwgbmV4dC5mcm9tKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydEFoZWFkKHdvcmtpbmcsIGosIHNwYW4uY29weShuZXh0LmZyb20sIHNwYW4udG8pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB3b3JraW5nO1xufVxuZnVuY3Rpb24gaW5zZXJ0QWhlYWQoYXJyYXksIGksIGRlY28pIHtcbiAgICB3aGlsZSAoaSA8IGFycmF5Lmxlbmd0aCAmJiBieVBvcyhkZWNvLCBhcnJheVtpXSkgPiAwKVxuICAgICAgICBpKys7XG4gICAgYXJyYXkuc3BsaWNlKGksIDAsIGRlY28pO1xufVxuLy8gR2V0IHRoZSBkZWNvcmF0aW9ucyBhc3NvY2lhdGVkIHdpdGggdGhlIGN1cnJlbnQgcHJvcHMgb2YgYSB2aWV3LlxuZnVuY3Rpb24gdmlld0RlY29yYXRpb25zKHZpZXcpIHtcbiAgICBsZXQgZm91bmQgPSBbXTtcbiAgICB2aWV3LnNvbWVQcm9wKFwiZGVjb3JhdGlvbnNcIiwgZiA9PiB7XG4gICAgICAgIGxldCByZXN1bHQgPSBmKHZpZXcuc3RhdGUpO1xuICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdCAhPSBlbXB0eSlcbiAgICAgICAgICAgIGZvdW5kLnB1c2gocmVzdWx0KTtcbiAgICB9KTtcbiAgICBpZiAodmlldy5jdXJzb3JXcmFwcGVyKVxuICAgICAgICBmb3VuZC5wdXNoKERlY29yYXRpb25TZXQuY3JlYXRlKHZpZXcuc3RhdGUuZG9jLCBbdmlldy5jdXJzb3JXcmFwcGVyLmRlY29dKSk7XG4gICAgcmV0dXJuIERlY29yYXRpb25Hcm91cC5mcm9tKGZvdW5kKTtcbn1cblxuY29uc3Qgb2JzZXJ2ZU9wdGlvbnMgPSB7XG4gICAgY2hpbGRMaXN0OiB0cnVlLFxuICAgIGNoYXJhY3RlckRhdGE6IHRydWUsXG4gICAgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiB0cnVlLFxuICAgIGF0dHJpYnV0ZXM6IHRydWUsXG4gICAgYXR0cmlidXRlT2xkVmFsdWU6IHRydWUsXG4gICAgc3VidHJlZTogdHJ1ZVxufTtcbi8vIElFMTEgaGFzIHZlcnkgYnJva2VuIG11dGF0aW9uIG9ic2VydmVycywgc28gd2UgYWxzbyBsaXN0ZW4gdG8gRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkXG5jb25zdCB1c2VDaGFyRGF0YSA9IGllICYmIGllX3ZlcnNpb24gPD0gMTE7XG5jbGFzcyBTZWxlY3Rpb25TdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYW5jaG9yTm9kZSA9IG51bGw7XG4gICAgICAgIHRoaXMuYW5jaG9yT2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5mb2N1c05vZGUgPSBudWxsO1xuICAgICAgICB0aGlzLmZvY3VzT2Zmc2V0ID0gMDtcbiAgICB9XG4gICAgc2V0KHNlbCkge1xuICAgICAgICB0aGlzLmFuY2hvck5vZGUgPSBzZWwuYW5jaG9yTm9kZTtcbiAgICAgICAgdGhpcy5hbmNob3JPZmZzZXQgPSBzZWwuYW5jaG9yT2Zmc2V0O1xuICAgICAgICB0aGlzLmZvY3VzTm9kZSA9IHNlbC5mb2N1c05vZGU7XG4gICAgICAgIHRoaXMuZm9jdXNPZmZzZXQgPSBzZWwuZm9jdXNPZmZzZXQ7XG4gICAgfVxuICAgIGNsZWFyKCkge1xuICAgICAgICB0aGlzLmFuY2hvck5vZGUgPSB0aGlzLmZvY3VzTm9kZSA9IG51bGw7XG4gICAgfVxuICAgIGVxKHNlbCkge1xuICAgICAgICByZXR1cm4gc2VsLmFuY2hvck5vZGUgPT0gdGhpcy5hbmNob3JOb2RlICYmIHNlbC5hbmNob3JPZmZzZXQgPT0gdGhpcy5hbmNob3JPZmZzZXQgJiZcbiAgICAgICAgICAgIHNlbC5mb2N1c05vZGUgPT0gdGhpcy5mb2N1c05vZGUgJiYgc2VsLmZvY3VzT2Zmc2V0ID09IHRoaXMuZm9jdXNPZmZzZXQ7XG4gICAgfVxufVxuY2xhc3MgRE9NT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKHZpZXcsIGhhbmRsZURPTUNoYW5nZSkge1xuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xuICAgICAgICB0aGlzLmhhbmRsZURPTUNoYW5nZSA9IGhhbmRsZURPTUNoYW5nZTtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLmZsdXNoaW5nU29vbiA9IC0xO1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0aW9uID0gbmV3IFNlbGVjdGlvblN0YXRlO1xuICAgICAgICB0aGlzLm9uQ2hhckRhdGEgPSBudWxsO1xuICAgICAgICB0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcyA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gd2luZG93Lk11dGF0aW9uT2JzZXJ2ZXIgJiZcbiAgICAgICAgICAgIG5ldyB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbnMgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXV0YXRpb25zLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnB1c2gobXV0YXRpb25zW2ldKTtcbiAgICAgICAgICAgICAgICAvLyBJRTExIHdpbGwgc29tZXRpbWVzIChvbiBiYWNrc3BhY2luZyBvdXQgYSBzaW5nbGUgY2hhcmFjdGVyXG4gICAgICAgICAgICAgICAgLy8gdGV4dCBub2RlIGFmdGVyIGEgQlIgbm9kZSkgY2FsbCB0aGUgb2JzZXJ2ZXIgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAvLyBiZWZvcmUgYWN0dWFsbHkgdXBkYXRpbmcgdGhlIERPTSwgd2hpY2ggd2lsbCBjYXVzZVxuICAgICAgICAgICAgICAgIC8vIFByb3NlTWlycm9yIHRvIG1pc3MgdGhlIGNoYW5nZSAoc2VlICM5MzApXG4gICAgICAgICAgICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPD0gMTEgJiYgbXV0YXRpb25zLnNvbWUobSA9PiBtLnR5cGUgPT0gXCJjaGlsZExpc3RcIiAmJiBtLnJlbW92ZWROb2Rlcy5sZW5ndGggfHxcbiAgICAgICAgICAgICAgICAgICAgbS50eXBlID09IFwiY2hhcmFjdGVyRGF0YVwiICYmIG0ub2xkVmFsdWUubGVuZ3RoID4gbS50YXJnZXQubm9kZVZhbHVlLmxlbmd0aCkpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hTb29uKCk7XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsdXNoKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgaWYgKHVzZUNoYXJEYXRhKSB7XG4gICAgICAgICAgICB0aGlzLm9uQ2hhckRhdGEgPSBlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXVlLnB1c2goeyB0YXJnZXQ6IGUudGFyZ2V0LCB0eXBlOiBcImNoYXJhY3RlckRhdGFcIiwgb2xkVmFsdWU6IGUucHJldlZhbHVlIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hTb29uKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UgPSB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgfVxuICAgIGZsdXNoU29vbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZmx1c2hpbmdTb29uIDwgMClcbiAgICAgICAgICAgIHRoaXMuZmx1c2hpbmdTb29uID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4geyB0aGlzLmZsdXNoaW5nU29vbiA9IC0xOyB0aGlzLmZsdXNoKCk7IH0sIDIwKTtcbiAgICB9XG4gICAgZm9yY2VGbHVzaCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZmx1c2hpbmdTb29uID4gLTEpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5mbHVzaGluZ1Nvb24pO1xuICAgICAgICAgICAgdGhpcy5mbHVzaGluZ1Nvb24gPSAtMTtcbiAgICAgICAgICAgIHRoaXMuZmx1c2goKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXIpXG4gICAgICAgICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy52aWV3LmRvbSwgb2JzZXJ2ZU9wdGlvbnMpO1xuICAgICAgICBpZiAodGhpcy5vbkNoYXJEYXRhKVxuICAgICAgICAgICAgdGhpcy52aWV3LmRvbS5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ2hhcmFjdGVyRGF0YU1vZGlmaWVkXCIsIHRoaXMub25DaGFyRGF0YSk7XG4gICAgICAgIHRoaXMuY29ubmVjdFNlbGVjdGlvbigpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICBpZiAodGhpcy5vYnNlcnZlcikge1xuICAgICAgICAgICAgbGV0IHRha2UgPSB0aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKCk7XG4gICAgICAgICAgICBpZiAodGFrZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRha2UubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWUucHVzaCh0YWtlW2ldKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB0aGlzLmZsdXNoKCksIDIwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm9uQ2hhckRhdGEpXG4gICAgICAgICAgICB0aGlzLnZpZXcuZG9tLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJET01DaGFyYWN0ZXJEYXRhTW9kaWZpZWRcIiwgdGhpcy5vbkNoYXJEYXRhKTtcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0U2VsZWN0aW9uKCk7XG4gICAgfVxuICAgIGNvbm5lY3RTZWxlY3Rpb24oKSB7XG4gICAgICAgIHRoaXMudmlldy5kb20ub3duZXJEb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwic2VsZWN0aW9uY2hhbmdlXCIsIHRoaXMub25TZWxlY3Rpb25DaGFuZ2UpO1xuICAgIH1cbiAgICBkaXNjb25uZWN0U2VsZWN0aW9uKCkge1xuICAgICAgICB0aGlzLnZpZXcuZG9tLm93bmVyRG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInNlbGVjdGlvbmNoYW5nZVwiLCB0aGlzLm9uU2VsZWN0aW9uQ2hhbmdlKTtcbiAgICB9XG4gICAgc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzKCkge1xuICAgICAgICB0aGlzLnN1cHByZXNzaW5nU2VsZWN0aW9uVXBkYXRlcyA9IHRydWU7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMgPSBmYWxzZSwgNTApO1xuICAgIH1cbiAgICBvblNlbGVjdGlvbkNoYW5nZSgpIHtcbiAgICAgICAgaWYgKCFoYXNGb2N1c0FuZFNlbGVjdGlvbih0aGlzLnZpZXcpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMpXG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0aW9uVG9ET00odGhpcy52aWV3KTtcbiAgICAgICAgLy8gRGVsZXRpb25zIG9uIElFMTEgZmlyZSB0aGVpciBldmVudHMgaW4gdGhlIHdyb25nIG9yZGVyLCBnaXZpbmdcbiAgICAgICAgLy8gdXMgYSBzZWxlY3Rpb24gY2hhbmdlIGV2ZW50IGJlZm9yZSB0aGUgRE9NIGNoYW5nZXMgYXJlXG4gICAgICAgIC8vIHJlcG9ydGVkLlxuICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8PSAxMSAmJiAhdGhpcy52aWV3LnN0YXRlLnNlbGVjdGlvbi5lbXB0eSkge1xuICAgICAgICAgICAgbGV0IHNlbCA9IHRoaXMudmlldy5kb21TZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIC8vIFNlbGVjdGlvbi5pc0NvbGxhcHNlZCBpc24ndCByZWxpYWJsZSBvbiBJRVxuICAgICAgICAgICAgaWYgKHNlbC5mb2N1c05vZGUgJiYgaXNFcXVpdmFsZW50UG9zaXRpb24oc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0LCBzZWwuYW5jaG9yTm9kZSwgc2VsLmFuY2hvck9mZnNldCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmx1c2hTb29uKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgIH1cbiAgICBzZXRDdXJTZWxlY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuY3VycmVudFNlbGVjdGlvbi5zZXQodGhpcy52aWV3LmRvbVNlbGVjdGlvbigpKTtcbiAgICB9XG4gICAgaWdub3JlU2VsZWN0aW9uQ2hhbmdlKHNlbCkge1xuICAgICAgICBpZiAoc2VsLnJhbmdlQ291bnQgPT0gMClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBsZXQgY29udGFpbmVyID0gc2VsLmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG4gICAgICAgIGxldCBkZXNjID0gdGhpcy52aWV3LmRvY1ZpZXcubmVhcmVzdERlc2MoY29udGFpbmVyKTtcbiAgICAgICAgaWYgKGRlc2MgJiYgZGVzYy5pZ25vcmVNdXRhdGlvbih7XG4gICAgICAgICAgICB0eXBlOiBcInNlbGVjdGlvblwiLFxuICAgICAgICAgICAgdGFyZ2V0OiBjb250YWluZXIubm9kZVR5cGUgPT0gMyA/IGNvbnRhaW5lci5wYXJlbnROb2RlIDogY29udGFpbmVyXG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgICB0aGlzLnNldEN1clNlbGVjdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmx1c2goKSB7XG4gICAgICAgIGlmICghdGhpcy52aWV3LmRvY1ZpZXcgfHwgdGhpcy5mbHVzaGluZ1Nvb24gPiAtMSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IG11dGF0aW9ucyA9IHRoaXMub2JzZXJ2ZXIgPyB0aGlzLm9ic2VydmVyLnRha2VSZWNvcmRzKCkgOiBbXTtcbiAgICAgICAgaWYgKHRoaXMucXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICBtdXRhdGlvbnMgPSB0aGlzLnF1ZXVlLmNvbmNhdChtdXRhdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5xdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzZWwgPSB0aGlzLnZpZXcuZG9tU2VsZWN0aW9uKCk7XG4gICAgICAgIGxldCBuZXdTZWwgPSAhdGhpcy5zdXBwcmVzc2luZ1NlbGVjdGlvblVwZGF0ZXMgJiYgIXRoaXMuY3VycmVudFNlbGVjdGlvbi5lcShzZWwpICYmIGhhc0ZvY3VzQW5kU2VsZWN0aW9uKHRoaXMudmlldykgJiYgIXRoaXMuaWdub3JlU2VsZWN0aW9uQ2hhbmdlKHNlbCk7XG4gICAgICAgIGxldCBmcm9tID0gLTEsIHRvID0gLTEsIHR5cGVPdmVyID0gZmFsc2UsIGFkZGVkID0gW107XG4gICAgICAgIGlmICh0aGlzLnZpZXcuZWRpdGFibGUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbXV0YXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMucmVnaXN0ZXJNdXRhdGlvbihtdXRhdGlvbnNbaV0sIGFkZGVkKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBmcm9tIDwgMCA/IHJlc3VsdC5mcm9tIDogTWF0aC5taW4ocmVzdWx0LmZyb20sIGZyb20pO1xuICAgICAgICAgICAgICAgICAgICB0byA9IHRvIDwgMCA/IHJlc3VsdC50byA6IE1hdGgubWF4KHJlc3VsdC50bywgdG8pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnR5cGVPdmVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZU92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZ2Vja28gJiYgYWRkZWQubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgbGV0IGJycyA9IGFkZGVkLmZpbHRlcihuID0+IG4ubm9kZU5hbWUgPT0gXCJCUlwiKTtcbiAgICAgICAgICAgIGlmIChicnMubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgICAgICBsZXQgYSA9IGJyc1swXSwgYiA9IGJyc1sxXTtcbiAgICAgICAgICAgICAgICBpZiAoYS5wYXJlbnROb2RlICYmIGEucGFyZW50Tm9kZS5wYXJlbnROb2RlID09IGIucGFyZW50Tm9kZSlcbiAgICAgICAgICAgICAgICAgICAgYi5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGEucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZyb20gPiAtMSB8fCBuZXdTZWwpIHtcbiAgICAgICAgICAgIGlmIChmcm9tID4gLTEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcuZG9jVmlldy5tYXJrRGlydHkoZnJvbSwgdG8pO1xuICAgICAgICAgICAgICAgIGNoZWNrQ1NTKHRoaXMudmlldyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmhhbmRsZURPTUNoYW5nZShmcm9tLCB0bywgdHlwZU92ZXIsIGFkZGVkKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXcuZG9jVmlldyAmJiB0aGlzLnZpZXcuZG9jVmlldy5kaXJ0eSlcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlU3RhdGUodGhpcy52aWV3LnN0YXRlKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLmN1cnJlbnRTZWxlY3Rpb24uZXEoc2VsKSlcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb25Ub0RPTSh0aGlzLnZpZXcpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50U2VsZWN0aW9uLnNldChzZWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlZ2lzdGVyTXV0YXRpb24obXV0LCBhZGRlZCkge1xuICAgICAgICAvLyBJZ25vcmUgbXV0YXRpb25zIGluc2lkZSBub2RlcyB0aGF0IHdlcmUgYWxyZWFkeSBub3RlZCBhcyBpbnNlcnRlZFxuICAgICAgICBpZiAoYWRkZWQuaW5kZXhPZihtdXQudGFyZ2V0KSA+IC0xKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGxldCBkZXNjID0gdGhpcy52aWV3LmRvY1ZpZXcubmVhcmVzdERlc2MobXV0LnRhcmdldCk7XG4gICAgICAgIGlmIChtdXQudHlwZSA9PSBcImF0dHJpYnV0ZXNcIiAmJlxuICAgICAgICAgICAgKGRlc2MgPT0gdGhpcy52aWV3LmRvY1ZpZXcgfHwgbXV0LmF0dHJpYnV0ZU5hbWUgPT0gXCJjb250ZW50ZWRpdGFibGVcIiB8fFxuICAgICAgICAgICAgICAgIC8vIEZpcmVmb3ggc29tZXRpbWVzIGZpcmVzIHNwdXJpb3VzIGV2ZW50cyBmb3IgbnVsbC9lbXB0eSBzdHlsZXNcbiAgICAgICAgICAgICAgICAobXV0LmF0dHJpYnV0ZU5hbWUgPT0gXCJzdHlsZVwiICYmICFtdXQub2xkVmFsdWUgJiYgIW11dC50YXJnZXQuZ2V0QXR0cmlidXRlKFwic3R5bGVcIikpKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICBpZiAoIWRlc2MgfHwgZGVzYy5pZ25vcmVNdXRhdGlvbihtdXQpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIGlmIChtdXQudHlwZSA9PSBcImNoaWxkTGlzdFwiKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG11dC5hZGRlZE5vZGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgIGFkZGVkLnB1c2gobXV0LmFkZGVkTm9kZXNbaV0pO1xuICAgICAgICAgICAgaWYgKGRlc2MuY29udGVudERPTSAmJiBkZXNjLmNvbnRlbnRET00gIT0gZGVzYy5kb20gJiYgIWRlc2MuY29udGVudERPTS5jb250YWlucyhtdXQudGFyZ2V0KSlcbiAgICAgICAgICAgICAgICByZXR1cm4geyBmcm9tOiBkZXNjLnBvc0JlZm9yZSwgdG86IGRlc2MucG9zQWZ0ZXIgfTtcbiAgICAgICAgICAgIGxldCBwcmV2ID0gbXV0LnByZXZpb3VzU2libGluZywgbmV4dCA9IG11dC5uZXh0U2libGluZztcbiAgICAgICAgICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDw9IDExICYmIG11dC5hZGRlZE5vZGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIElFMTEgZ2l2ZXMgdXMgaW5jb3JyZWN0IG5leHQvcHJldiBzaWJsaW5ncyBmb3Igc29tZVxuICAgICAgICAgICAgICAgIC8vIGluc2VydGlvbnMsIHNvIGlmIHRoZXJlIGFyZSBhZGRlZCBub2RlcywgcmVjb21wdXRlIHRob3NlXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtdXQuYWRkZWROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgeyBwcmV2aW91c1NpYmxpbmcsIG5leHRTaWJsaW5nIH0gPSBtdXQuYWRkZWROb2Rlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwcmV2aW91c1NpYmxpbmcgfHwgQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChtdXQuYWRkZWROb2RlcywgcHJldmlvdXNTaWJsaW5nKSA8IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmV2ID0gcHJldmlvdXNTaWJsaW5nO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW5leHRTaWJsaW5nIHx8IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwobXV0LmFkZGVkTm9kZXMsIG5leHRTaWJsaW5nKSA8IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0ID0gbmV4dFNpYmxpbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGZyb21PZmZzZXQgPSBwcmV2ICYmIHByZXYucGFyZW50Tm9kZSA9PSBtdXQudGFyZ2V0XG4gICAgICAgICAgICAgICAgPyBkb21JbmRleChwcmV2KSArIDEgOiAwO1xuICAgICAgICAgICAgbGV0IGZyb20gPSBkZXNjLmxvY2FsUG9zRnJvbURPTShtdXQudGFyZ2V0LCBmcm9tT2Zmc2V0LCAtMSk7XG4gICAgICAgICAgICBsZXQgdG9PZmZzZXQgPSBuZXh0ICYmIG5leHQucGFyZW50Tm9kZSA9PSBtdXQudGFyZ2V0XG4gICAgICAgICAgICAgICAgPyBkb21JbmRleChuZXh0KSA6IG11dC50YXJnZXQuY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgdG8gPSBkZXNjLmxvY2FsUG9zRnJvbURPTShtdXQudGFyZ2V0LCB0b09mZnNldCwgMSk7XG4gICAgICAgICAgICByZXR1cm4geyBmcm9tLCB0byB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG11dC50eXBlID09IFwiYXR0cmlidXRlc1wiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBmcm9tOiBkZXNjLnBvc0F0U3RhcnQgLSBkZXNjLmJvcmRlciwgdG86IGRlc2MucG9zQXRFbmQgKyBkZXNjLmJvcmRlciB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgeyAvLyBcImNoYXJhY3RlckRhdGFcIlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmcm9tOiBkZXNjLnBvc0F0U3RhcnQsXG4gICAgICAgICAgICAgICAgdG86IGRlc2MucG9zQXRFbmQsXG4gICAgICAgICAgICAgICAgLy8gQW4gZXZlbnQgd2FzIGdlbmVyYXRlZCBmb3IgYSB0ZXh0IGNoYW5nZSB0aGF0IGRpZG4ndCBjaGFuZ2VcbiAgICAgICAgICAgICAgICAvLyBhbnkgdGV4dC4gTWFyayB0aGUgZG9tIGNoYW5nZSB0byBmYWxsIGJhY2sgdG8gYXNzdW1pbmcgdGhlXG4gICAgICAgICAgICAgICAgLy8gc2VsZWN0aW9uIHdhcyB0eXBlZCBvdmVyIHdpdGggYW4gaWRlbnRpY2FsIHZhbHVlIGlmIGl0IGNhbid0XG4gICAgICAgICAgICAgICAgLy8gZmluZCBhbm90aGVyIGNoYW5nZS5cbiAgICAgICAgICAgICAgICB0eXBlT3ZlcjogbXV0LnRhcmdldC5ub2RlVmFsdWUgPT0gbXV0Lm9sZFZhbHVlXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxufVxubGV0IGNzc0NoZWNrZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGNoZWNrQ1NTKHZpZXcpIHtcbiAgICBpZiAoY3NzQ2hlY2tlZClcbiAgICAgICAgcmV0dXJuO1xuICAgIGNzc0NoZWNrZWQgPSB0cnVlO1xuICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKHZpZXcuZG9tKS53aGl0ZVNwYWNlID09IFwibm9ybWFsXCIpXG4gICAgICAgIGNvbnNvbGVbXCJ3YXJuXCJdKFwiUHJvc2VNaXJyb3IgZXhwZWN0cyB0aGUgQ1NTIHdoaXRlLXNwYWNlIHByb3BlcnR5IHRvIGJlIHNldCwgcHJlZmVyYWJseSB0byAncHJlLXdyYXAnLiBJdCBpcyByZWNvbW1lbmRlZCB0byBsb2FkIHN0eWxlL3Byb3NlbWlycm9yLmNzcyBmcm9tIHRoZSBwcm9zZW1pcnJvci12aWV3IHBhY2thZ2UuXCIpO1xufVxuXG4vLyBOb3RlIHRoYXQgYWxsIHJlZmVyZW5jaW5nIGFuZCBwYXJzaW5nIGlzIGRvbmUgd2l0aCB0aGVcbi8vIHN0YXJ0LW9mLW9wZXJhdGlvbiBzZWxlY3Rpb24gYW5kIGRvY3VtZW50LCBzaW5jZSB0aGF0J3MgdGhlIG9uZVxuLy8gdGhhdCB0aGUgRE9NIHJlcHJlc2VudHMuIElmIGFueSBjaGFuZ2VzIGNhbWUgaW4gaW4gdGhlIG1lYW50aW1lLFxuLy8gdGhlIG1vZGlmaWNhdGlvbiBpcyBtYXBwZWQgb3ZlciB0aG9zZSBiZWZvcmUgaXQgaXMgYXBwbGllZCwgaW5cbi8vIHJlYWRET01DaGFuZ2UuXG5mdW5jdGlvbiBwYXJzZUJldHdlZW4odmlldywgZnJvbV8sIHRvXykge1xuICAgIGxldCB7IG5vZGU6IHBhcmVudCwgZnJvbU9mZnNldCwgdG9PZmZzZXQsIGZyb20sIHRvIH0gPSB2aWV3LmRvY1ZpZXcucGFyc2VSYW5nZShmcm9tXywgdG9fKTtcbiAgICBsZXQgZG9tU2VsID0gdmlldy5kb21TZWxlY3Rpb24oKTtcbiAgICBsZXQgZmluZDtcbiAgICBsZXQgYW5jaG9yID0gZG9tU2VsLmFuY2hvck5vZGU7XG4gICAgaWYgKGFuY2hvciAmJiB2aWV3LmRvbS5jb250YWlucyhhbmNob3Iubm9kZVR5cGUgPT0gMSA/IGFuY2hvciA6IGFuY2hvci5wYXJlbnROb2RlKSkge1xuICAgICAgICBmaW5kID0gW3sgbm9kZTogYW5jaG9yLCBvZmZzZXQ6IGRvbVNlbC5hbmNob3JPZmZzZXQgfV07XG4gICAgICAgIGlmICghc2VsZWN0aW9uQ29sbGFwc2VkKGRvbVNlbCkpXG4gICAgICAgICAgICBmaW5kLnB1c2goeyBub2RlOiBkb21TZWwuZm9jdXNOb2RlLCBvZmZzZXQ6IGRvbVNlbC5mb2N1c09mZnNldCB9KTtcbiAgICB9XG4gICAgLy8gV29yayBhcm91bmQgaXNzdWUgaW4gQ2hyb21lIHdoZXJlIGJhY2tzcGFjaW5nIHNvbWV0aW1lcyByZXBsYWNlc1xuICAgIC8vIHRoZSBkZWxldGVkIGNvbnRlbnQgd2l0aCBhIHJhbmRvbSBCUiBub2RlIChpc3N1ZXMgIzc5OSwgIzgzMSlcbiAgICBpZiAoY2hyb21lICYmIHZpZXcuaW5wdXQubGFzdEtleUNvZGUgPT09IDgpIHtcbiAgICAgICAgZm9yIChsZXQgb2ZmID0gdG9PZmZzZXQ7IG9mZiA+IGZyb21PZmZzZXQ7IG9mZi0tKSB7XG4gICAgICAgICAgICBsZXQgbm9kZSA9IHBhcmVudC5jaGlsZE5vZGVzW29mZiAtIDFdLCBkZXNjID0gbm9kZS5wbVZpZXdEZXNjO1xuICAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT0gXCJCUlwiICYmICFkZXNjKSB7XG4gICAgICAgICAgICAgICAgdG9PZmZzZXQgPSBvZmY7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIWRlc2MgfHwgZGVzYy5zaXplKVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBzdGFydERvYyA9IHZpZXcuc3RhdGUuZG9jO1xuICAgIGxldCBwYXJzZXIgPSB2aWV3LnNvbWVQcm9wKFwiZG9tUGFyc2VyXCIpIHx8IERPTVBhcnNlci5mcm9tU2NoZW1hKHZpZXcuc3RhdGUuc2NoZW1hKTtcbiAgICBsZXQgJGZyb20gPSBzdGFydERvYy5yZXNvbHZlKGZyb20pO1xuICAgIGxldCBzZWwgPSBudWxsLCBkb2MgPSBwYXJzZXIucGFyc2UocGFyZW50LCB7XG4gICAgICAgIHRvcE5vZGU6ICRmcm9tLnBhcmVudCxcbiAgICAgICAgdG9wTWF0Y2g6ICRmcm9tLnBhcmVudC5jb250ZW50TWF0Y2hBdCgkZnJvbS5pbmRleCgpKSxcbiAgICAgICAgdG9wT3BlbjogdHJ1ZSxcbiAgICAgICAgZnJvbTogZnJvbU9mZnNldCxcbiAgICAgICAgdG86IHRvT2Zmc2V0LFxuICAgICAgICBwcmVzZXJ2ZVdoaXRlc3BhY2U6ICRmcm9tLnBhcmVudC50eXBlLndoaXRlc3BhY2UgPT0gXCJwcmVcIiA/IFwiZnVsbFwiIDogdHJ1ZSxcbiAgICAgICAgZmluZFBvc2l0aW9uczogZmluZCxcbiAgICAgICAgcnVsZUZyb21Ob2RlLFxuICAgICAgICBjb250ZXh0OiAkZnJvbVxuICAgIH0pO1xuICAgIGlmIChmaW5kICYmIGZpbmRbMF0ucG9zICE9IG51bGwpIHtcbiAgICAgICAgbGV0IGFuY2hvciA9IGZpbmRbMF0ucG9zLCBoZWFkID0gZmluZFsxXSAmJiBmaW5kWzFdLnBvcztcbiAgICAgICAgaWYgKGhlYWQgPT0gbnVsbClcbiAgICAgICAgICAgIGhlYWQgPSBhbmNob3I7XG4gICAgICAgIHNlbCA9IHsgYW5jaG9yOiBhbmNob3IgKyBmcm9tLCBoZWFkOiBoZWFkICsgZnJvbSB9O1xuICAgIH1cbiAgICByZXR1cm4geyBkb2MsIHNlbCwgZnJvbSwgdG8gfTtcbn1cbmZ1bmN0aW9uIHJ1bGVGcm9tTm9kZShkb20pIHtcbiAgICBsZXQgZGVzYyA9IGRvbS5wbVZpZXdEZXNjO1xuICAgIGlmIChkZXNjKSB7XG4gICAgICAgIHJldHVybiBkZXNjLnBhcnNlUnVsZSgpO1xuICAgIH1cbiAgICBlbHNlIGlmIChkb20ubm9kZU5hbWUgPT0gXCJCUlwiICYmIGRvbS5wYXJlbnROb2RlKSB7XG4gICAgICAgIC8vIFNhZmFyaSByZXBsYWNlcyB0aGUgbGlzdCBpdGVtIG9yIHRhYmxlIGNlbGwgd2l0aCBhIEJSXG4gICAgICAgIC8vIGRpcmVjdGx5IGluIHRoZSBsaXN0IG5vZGUgKD8hKSBpZiB5b3UgZGVsZXRlIHRoZSBsYXN0XG4gICAgICAgIC8vIGNoYXJhY3RlciBpbiBhIGxpc3QgaXRlbSBvciB0YWJsZSBjZWxsICgjNzA4LCAjODYyKVxuICAgICAgICBpZiAoc2FmYXJpICYmIC9eKHVsfG9sKSQvaS50ZXN0KGRvbS5wYXJlbnROb2RlLm5vZGVOYW1lKSkge1xuICAgICAgICAgICAgbGV0IHNraXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgc2tpcC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIikpO1xuICAgICAgICAgICAgcmV0dXJuIHsgc2tpcCB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRvbS5wYXJlbnROb2RlLmxhc3RDaGlsZCA9PSBkb20gfHwgc2FmYXJpICYmIC9eKHRyfHRhYmxlKSQvaS50ZXN0KGRvbS5wYXJlbnROb2RlLm5vZGVOYW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgaWdub3JlOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoZG9tLm5vZGVOYW1lID09IFwiSU1HXCIgJiYgZG9tLmdldEF0dHJpYnV0ZShcIm1hcmstcGxhY2Vob2xkZXJcIikpIHtcbiAgICAgICAgcmV0dXJuIHsgaWdub3JlOiB0cnVlIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gcmVhZERPTUNoYW5nZSh2aWV3LCBmcm9tLCB0bywgdHlwZU92ZXIsIGFkZGVkTm9kZXMpIHtcbiAgICBpZiAoZnJvbSA8IDApIHtcbiAgICAgICAgbGV0IG9yaWdpbiA9IHZpZXcuaW5wdXQubGFzdFNlbGVjdGlvblRpbWUgPiBEYXRlLm5vdygpIC0gNTAgPyB2aWV3LmlucHV0Lmxhc3RTZWxlY3Rpb25PcmlnaW4gOiBudWxsO1xuICAgICAgICBsZXQgbmV3U2VsID0gc2VsZWN0aW9uRnJvbURPTSh2aWV3LCBvcmlnaW4pO1xuICAgICAgICBpZiAobmV3U2VsICYmICF2aWV3LnN0YXRlLnNlbGVjdGlvbi5lcShuZXdTZWwpKSB7XG4gICAgICAgICAgICBsZXQgdHIgPSB2aWV3LnN0YXRlLnRyLnNldFNlbGVjdGlvbihuZXdTZWwpO1xuICAgICAgICAgICAgaWYgKG9yaWdpbiA9PSBcInBvaW50ZXJcIilcbiAgICAgICAgICAgICAgICB0ci5zZXRNZXRhKFwicG9pbnRlclwiLCB0cnVlKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKG9yaWdpbiA9PSBcImtleVwiKVxuICAgICAgICAgICAgICAgIHRyLnNjcm9sbEludG9WaWV3KCk7XG4gICAgICAgICAgICB2aWV3LmRpc3BhdGNoKHRyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCAkYmVmb3JlID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZShmcm9tKTtcbiAgICBsZXQgc2hhcmVkID0gJGJlZm9yZS5zaGFyZWREZXB0aCh0byk7XG4gICAgZnJvbSA9ICRiZWZvcmUuYmVmb3JlKHNoYXJlZCArIDEpO1xuICAgIHRvID0gdmlldy5zdGF0ZS5kb2MucmVzb2x2ZSh0bykuYWZ0ZXIoc2hhcmVkICsgMSk7XG4gICAgbGV0IHNlbCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uO1xuICAgIGxldCBwYXJzZSA9IHBhcnNlQmV0d2Vlbih2aWV3LCBmcm9tLCB0byk7XG4gICAgLy8gQ2hyb21lIHNvbWV0aW1lcyBsZWF2ZXMgdGhlIGN1cnNvciBiZWZvcmUgdGhlIGluc2VydGVkIHRleHQgd2hlblxuICAgIC8vIGNvbXBvc2luZyBhZnRlciBhIGN1cnNvciB3cmFwcGVyLiBUaGlzIG1vdmVzIGl0IGZvcndhcmQuXG4gICAgaWYgKGNocm9tZSAmJiB2aWV3LmN1cnNvcldyYXBwZXIgJiYgcGFyc2Uuc2VsICYmIHBhcnNlLnNlbC5hbmNob3IgPT0gdmlldy5jdXJzb3JXcmFwcGVyLmRlY28uZnJvbSkge1xuICAgICAgICBsZXQgdGV4dCA9IHZpZXcuY3Vyc29yV3JhcHBlci5kZWNvLnR5cGUudG9ET00ubmV4dFNpYmxpbmc7XG4gICAgICAgIGxldCBzaXplID0gdGV4dCAmJiB0ZXh0Lm5vZGVWYWx1ZSA/IHRleHQubm9kZVZhbHVlLmxlbmd0aCA6IDE7XG4gICAgICAgIHBhcnNlLnNlbCA9IHsgYW5jaG9yOiBwYXJzZS5zZWwuYW5jaG9yICsgc2l6ZSwgaGVhZDogcGFyc2Uuc2VsLmFuY2hvciArIHNpemUgfTtcbiAgICB9XG4gICAgbGV0IGRvYyA9IHZpZXcuc3RhdGUuZG9jLCBjb21wYXJlID0gZG9jLnNsaWNlKHBhcnNlLmZyb20sIHBhcnNlLnRvKTtcbiAgICBsZXQgcHJlZmVycmVkUG9zLCBwcmVmZXJyZWRTaWRlO1xuICAgIC8vIFByZWZlciBhbmNob3JpbmcgdG8gZW5kIHdoZW4gQmFja3NwYWNlIGlzIHByZXNzZWRcbiAgICBpZiAodmlldy5pbnB1dC5sYXN0S2V5Q29kZSA9PT0gOCAmJiBEYXRlLm5vdygpIC0gMTAwIDwgdmlldy5pbnB1dC5sYXN0S2V5Q29kZVRpbWUpIHtcbiAgICAgICAgcHJlZmVycmVkUG9zID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24udG87XG4gICAgICAgIHByZWZlcnJlZFNpZGUgPSBcImVuZFwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcHJlZmVycmVkUG9zID0gdmlldy5zdGF0ZS5zZWxlY3Rpb24uZnJvbTtcbiAgICAgICAgcHJlZmVycmVkU2lkZSA9IFwic3RhcnRcIjtcbiAgICB9XG4gICAgdmlldy5pbnB1dC5sYXN0S2V5Q29kZSA9IG51bGw7XG4gICAgbGV0IGNoYW5nZSA9IGZpbmREaWZmKGNvbXBhcmUuY29udGVudCwgcGFyc2UuZG9jLmNvbnRlbnQsIHBhcnNlLmZyb20sIHByZWZlcnJlZFBvcywgcHJlZmVycmVkU2lkZSk7XG4gICAgaWYgKChpb3MgJiYgdmlldy5pbnB1dC5sYXN0SU9TRW50ZXIgPiBEYXRlLm5vdygpIC0gMjI1IHx8IGFuZHJvaWQpICYmXG4gICAgICAgIGFkZGVkTm9kZXMuc29tZShuID0+IG4ubm9kZU5hbWUgPT0gXCJESVZcIiB8fCBuLm5vZGVOYW1lID09IFwiUFwiKSAmJlxuICAgICAgICAoIWNoYW5nZSB8fCBjaGFuZ2UuZW5kQSA+PSBjaGFuZ2UuZW5kQikgJiZcbiAgICAgICAgdmlldy5zb21lUHJvcChcImhhbmRsZUtleURvd25cIiwgZiA9PiBmKHZpZXcsIGtleUV2ZW50KDEzLCBcIkVudGVyXCIpKSkpIHtcbiAgICAgICAgdmlldy5pbnB1dC5sYXN0SU9TRW50ZXIgPSAwO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghY2hhbmdlKSB7XG4gICAgICAgIGlmICh0eXBlT3ZlciAmJiBzZWwgaW5zdGFuY2VvZiBUZXh0U2VsZWN0aW9uICYmICFzZWwuZW1wdHkgJiYgc2VsLiRoZWFkLnNhbWVQYXJlbnQoc2VsLiRhbmNob3IpICYmXG4gICAgICAgICAgICAhdmlldy5jb21wb3NpbmcgJiYgIShwYXJzZS5zZWwgJiYgcGFyc2Uuc2VsLmFuY2hvciAhPSBwYXJzZS5zZWwuaGVhZCkpIHtcbiAgICAgICAgICAgIGNoYW5nZSA9IHsgc3RhcnQ6IHNlbC5mcm9tLCBlbmRBOiBzZWwudG8sIGVuZEI6IHNlbC50byB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHBhcnNlLnNlbCkge1xuICAgICAgICAgICAgICAgIGxldCBzZWwgPSByZXNvbHZlU2VsZWN0aW9uKHZpZXcsIHZpZXcuc3RhdGUuZG9jLCBwYXJzZS5zZWwpO1xuICAgICAgICAgICAgICAgIGlmIChzZWwgJiYgIXNlbC5lcSh2aWV3LnN0YXRlLnNlbGVjdGlvbikpXG4gICAgICAgICAgICAgICAgICAgIHZpZXcuZGlzcGF0Y2godmlldy5zdGF0ZS50ci5zZXRTZWxlY3Rpb24oc2VsKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmlldy5pbnB1dC5kb21DaGFuZ2VDb3VudCsrO1xuICAgIC8vIEhhbmRsZSB0aGUgY2FzZSB3aGVyZSBvdmVyd3JpdGluZyBhIHNlbGVjdGlvbiBieSB0eXBpbmcgbWF0Y2hlc1xuICAgIC8vIHRoZSBzdGFydCBvciBlbmQgb2YgdGhlIHNlbGVjdGVkIGNvbnRlbnQsIGNyZWF0aW5nIGEgY2hhbmdlXG4gICAgLy8gdGhhdCdzIHNtYWxsZXIgdGhhbiB3aGF0IHdhcyBhY3R1YWxseSBvdmVyd3JpdHRlbi5cbiAgICBpZiAodmlldy5zdGF0ZS5zZWxlY3Rpb24uZnJvbSA8IHZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvICYmXG4gICAgICAgIGNoYW5nZS5zdGFydCA9PSBjaGFuZ2UuZW5kQiAmJlxuICAgICAgICB2aWV3LnN0YXRlLnNlbGVjdGlvbiBpbnN0YW5jZW9mIFRleHRTZWxlY3Rpb24pIHtcbiAgICAgICAgaWYgKGNoYW5nZS5zdGFydCA+IHZpZXcuc3RhdGUuc2VsZWN0aW9uLmZyb20gJiYgY2hhbmdlLnN0YXJ0IDw9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLmZyb20gKyAyICYmXG4gICAgICAgICAgICB2aWV3LnN0YXRlLnNlbGVjdGlvbi5mcm9tID49IHBhcnNlLmZyb20pIHtcbiAgICAgICAgICAgIGNoYW5nZS5zdGFydCA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLmZyb207XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2hhbmdlLmVuZEEgPCB2aWV3LnN0YXRlLnNlbGVjdGlvbi50byAmJiBjaGFuZ2UuZW5kQSA+PSB2aWV3LnN0YXRlLnNlbGVjdGlvbi50byAtIDIgJiZcbiAgICAgICAgICAgIHZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvIDw9IHBhcnNlLnRvKSB7XG4gICAgICAgICAgICBjaGFuZ2UuZW5kQiArPSAodmlldy5zdGF0ZS5zZWxlY3Rpb24udG8gLSBjaGFuZ2UuZW5kQSk7XG4gICAgICAgICAgICBjaGFuZ2UuZW5kQSA9IHZpZXcuc3RhdGUuc2VsZWN0aW9uLnRvO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIElFMTEgd2lsbCBpbnNlcnQgYSBub24tYnJlYWtpbmcgc3BhY2UgX2FoZWFkXyBvZiB0aGUgc3BhY2UgYWZ0ZXJcbiAgICAvLyB0aGUgY3Vyc29yIHNwYWNlIHdoZW4gYWRkaW5nIGEgc3BhY2UgYmVmb3JlIGFub3RoZXIgc3BhY2UuIFdoZW5cbiAgICAvLyB0aGF0IGhhcHBlbmVkLCBhZGp1c3QgdGhlIGNoYW5nZSB0byBjb3ZlciB0aGUgc3BhY2UgaW5zdGVhZC5cbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8PSAxMSAmJiBjaGFuZ2UuZW5kQiA9PSBjaGFuZ2Uuc3RhcnQgKyAxICYmXG4gICAgICAgIGNoYW5nZS5lbmRBID09IGNoYW5nZS5zdGFydCAmJiBjaGFuZ2Uuc3RhcnQgPiBwYXJzZS5mcm9tICYmXG4gICAgICAgIHBhcnNlLmRvYy50ZXh0QmV0d2VlbihjaGFuZ2Uuc3RhcnQgLSBwYXJzZS5mcm9tIC0gMSwgY2hhbmdlLnN0YXJ0IC0gcGFyc2UuZnJvbSArIDEpID09IFwiIFxcdTAwYTBcIikge1xuICAgICAgICBjaGFuZ2Uuc3RhcnQtLTtcbiAgICAgICAgY2hhbmdlLmVuZEEtLTtcbiAgICAgICAgY2hhbmdlLmVuZEItLTtcbiAgICB9XG4gICAgbGV0ICRmcm9tID0gcGFyc2UuZG9jLnJlc29sdmVOb0NhY2hlKGNoYW5nZS5zdGFydCAtIHBhcnNlLmZyb20pO1xuICAgIGxldCAkdG8gPSBwYXJzZS5kb2MucmVzb2x2ZU5vQ2FjaGUoY2hhbmdlLmVuZEIgLSBwYXJzZS5mcm9tKTtcbiAgICBsZXQgJGZyb21BID0gZG9jLnJlc29sdmUoY2hhbmdlLnN0YXJ0KTtcbiAgICBsZXQgaW5saW5lQ2hhbmdlID0gJGZyb20uc2FtZVBhcmVudCgkdG8pICYmICRmcm9tLnBhcmVudC5pbmxpbmVDb250ZW50ICYmICRmcm9tQS5lbmQoKSA+PSBjaGFuZ2UuZW5kQTtcbiAgICBsZXQgbmV4dFNlbDtcbiAgICAvLyBJZiB0aGlzIGxvb2tzIGxpa2UgdGhlIGVmZmVjdCBvZiBwcmVzc2luZyBFbnRlciAob3Igd2FzIHJlY29yZGVkXG4gICAgLy8gYXMgYmVpbmcgYW4gaU9TIGVudGVyIHByZXNzKSwganVzdCBkaXNwYXRjaCBhbiBFbnRlciBrZXkgaW5zdGVhZC5cbiAgICBpZiAoKChpb3MgJiYgdmlldy5pbnB1dC5sYXN0SU9TRW50ZXIgPiBEYXRlLm5vdygpIC0gMjI1ICYmXG4gICAgICAgICghaW5saW5lQ2hhbmdlIHx8IGFkZGVkTm9kZXMuc29tZShuID0+IG4ubm9kZU5hbWUgPT0gXCJESVZcIiB8fCBuLm5vZGVOYW1lID09IFwiUFwiKSkpIHx8XG4gICAgICAgICghaW5saW5lQ2hhbmdlICYmICRmcm9tLnBvcyA8IHBhcnNlLmRvYy5jb250ZW50LnNpemUgJiZcbiAgICAgICAgICAgIChuZXh0U2VsID0gU2VsZWN0aW9uLmZpbmRGcm9tKHBhcnNlLmRvYy5yZXNvbHZlKCRmcm9tLnBvcyArIDEpLCAxLCB0cnVlKSkgJiZcbiAgICAgICAgICAgIG5leHRTZWwuaGVhZCA9PSAkdG8ucG9zKSkgJiZcbiAgICAgICAgdmlldy5zb21lUHJvcChcImhhbmRsZUtleURvd25cIiwgZiA9PiBmKHZpZXcsIGtleUV2ZW50KDEzLCBcIkVudGVyXCIpKSkpIHtcbiAgICAgICAgdmlldy5pbnB1dC5sYXN0SU9TRW50ZXIgPSAwO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFNhbWUgZm9yIGJhY2tzcGFjZVxuICAgIGlmICh2aWV3LnN0YXRlLnNlbGVjdGlvbi5hbmNob3IgPiBjaGFuZ2Uuc3RhcnQgJiZcbiAgICAgICAgbG9va3NMaWtlSm9pbihkb2MsIGNoYW5nZS5zdGFydCwgY2hhbmdlLmVuZEEsICRmcm9tLCAkdG8pICYmXG4gICAgICAgIHZpZXcuc29tZVByb3AoXCJoYW5kbGVLZXlEb3duXCIsIGYgPT4gZih2aWV3LCBrZXlFdmVudCg4LCBcIkJhY2tzcGFjZVwiKSkpKSB7XG4gICAgICAgIGlmIChhbmRyb2lkICYmIGNocm9tZSlcbiAgICAgICAgICAgIHZpZXcuZG9tT2JzZXJ2ZXIuc3VwcHJlc3NTZWxlY3Rpb25VcGRhdGVzKCk7IC8vICM4MjBcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBDaHJvbWUgQW5kcm9pZCB3aWxsIG9jY2FzaW9uYWxseSwgZHVyaW5nIGNvbXBvc2l0aW9uLCBkZWxldGUgdGhlXG4gICAgLy8gZW50aXJlIGNvbXBvc2l0aW9uIGFuZCB0aGVuIGltbWVkaWF0ZWx5IGluc2VydCBpdCBhZ2Fpbi4gVGhpcyBpc1xuICAgIC8vIHVzZWQgdG8gZGV0ZWN0IHRoYXQgc2l0dWF0aW9uLlxuICAgIGlmIChjaHJvbWUgJiYgYW5kcm9pZCAmJiBjaGFuZ2UuZW5kQiA9PSBjaGFuZ2Uuc3RhcnQpXG4gICAgICAgIHZpZXcuaW5wdXQubGFzdEFuZHJvaWREZWxldGUgPSBEYXRlLm5vdygpO1xuICAgIC8vIFRoaXMgdHJpZXMgdG8gZGV0ZWN0IEFuZHJvaWQgdmlydHVhbCBrZXlib2FyZFxuICAgIC8vIGVudGVyLWFuZC1waWNrLXN1Z2dlc3Rpb24gYWN0aW9uLiBUaGF0IHNvbWV0aW1lcyAoc2VlIGlzc3VlXG4gICAgLy8gIzEwNTkpIGZpcnN0IGZpcmVzIGEgRE9NIG11dGF0aW9uLCBiZWZvcmUgbW92aW5nIHRoZSBzZWxlY3Rpb24gdG9cbiAgICAvLyB0aGUgbmV3bHkgY3JlYXRlZCBibG9jay4gQW5kIHRoZW4sIGJlY2F1c2UgUHJvc2VNaXJyb3IgY2xlYW5zIHVwXG4gICAgLy8gdGhlIERPTSBzZWxlY3Rpb24sIGl0IGdpdmVzIHVwIG1vdmluZyB0aGUgc2VsZWN0aW9uIGVudGlyZWx5LFxuICAgIC8vIGxlYXZpbmcgdGhlIGN1cnNvciBpbiB0aGUgd3JvbmcgcGxhY2UuIFdoZW4gdGhhdCBoYXBwZW5zLCB3ZSBkcm9wXG4gICAgLy8gdGhlIG5ldyBwYXJhZ3JhcGggZnJvbSB0aGUgaW5pdGlhbCBjaGFuZ2UsIGFuZCBmaXJlIGEgc2ltdWxhdGVkXG4gICAgLy8gZW50ZXIga2V5IGFmdGVyd2FyZHMuXG4gICAgaWYgKGFuZHJvaWQgJiYgIWlubGluZUNoYW5nZSAmJiAkZnJvbS5zdGFydCgpICE9ICR0by5zdGFydCgpICYmICR0by5wYXJlbnRPZmZzZXQgPT0gMCAmJiAkZnJvbS5kZXB0aCA9PSAkdG8uZGVwdGggJiZcbiAgICAgICAgcGFyc2Uuc2VsICYmIHBhcnNlLnNlbC5hbmNob3IgPT0gcGFyc2Uuc2VsLmhlYWQgJiYgcGFyc2Uuc2VsLmhlYWQgPT0gY2hhbmdlLmVuZEEpIHtcbiAgICAgICAgY2hhbmdlLmVuZEIgLT0gMjtcbiAgICAgICAgJHRvID0gcGFyc2UuZG9jLnJlc29sdmVOb0NhY2hlKGNoYW5nZS5lbmRCIC0gcGFyc2UuZnJvbSk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdmlldy5zb21lUHJvcChcImhhbmRsZUtleURvd25cIiwgZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYodmlldywga2V5RXZlbnQoMTMsIFwiRW50ZXJcIikpOyB9KTtcbiAgICAgICAgfSwgMjApO1xuICAgIH1cbiAgICBsZXQgY2hGcm9tID0gY2hhbmdlLnN0YXJ0LCBjaFRvID0gY2hhbmdlLmVuZEE7XG4gICAgbGV0IHRyLCBzdG9yZWRNYXJrcywgbWFya0NoYW5nZTtcbiAgICBpZiAoaW5saW5lQ2hhbmdlKSB7XG4gICAgICAgIGlmICgkZnJvbS5wb3MgPT0gJHRvLnBvcykgeyAvLyBEZWxldGlvblxuICAgICAgICAgICAgLy8gSUUxMSBzb21ldGltZXMgd2VpcmRseSBtb3ZlcyB0aGUgRE9NIHNlbGVjdGlvbiBhcm91bmQgYWZ0ZXJcbiAgICAgICAgICAgIC8vIGJhY2tzcGFjaW5nIG91dCB0aGUgZmlyc3QgZWxlbWVudCBpbiBhIHRleHRibG9ja1xuICAgICAgICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPD0gMTEgJiYgJGZyb20ucGFyZW50T2Zmc2V0ID09IDApIHtcbiAgICAgICAgICAgICAgICB2aWV3LmRvbU9ic2VydmVyLnN1cHByZXNzU2VsZWN0aW9uVXBkYXRlcygpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gc2VsZWN0aW9uVG9ET00odmlldyksIDIwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyID0gdmlldy5zdGF0ZS50ci5kZWxldGUoY2hGcm9tLCBjaFRvKTtcbiAgICAgICAgICAgIHN0b3JlZE1hcmtzID0gZG9jLnJlc29sdmUoY2hhbmdlLnN0YXJ0KS5tYXJrc0Fjcm9zcyhkb2MucmVzb2x2ZShjaGFuZ2UuZW5kQSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCAvLyBBZGRpbmcgb3IgcmVtb3ZpbmcgYSBtYXJrXG4gICAgICAgIGNoYW5nZS5lbmRBID09IGNoYW5nZS5lbmRCICYmXG4gICAgICAgICAgICAobWFya0NoYW5nZSA9IGlzTWFya0NoYW5nZSgkZnJvbS5wYXJlbnQuY29udGVudC5jdXQoJGZyb20ucGFyZW50T2Zmc2V0LCAkdG8ucGFyZW50T2Zmc2V0KSwgJGZyb21BLnBhcmVudC5jb250ZW50LmN1dCgkZnJvbUEucGFyZW50T2Zmc2V0LCBjaGFuZ2UuZW5kQSAtICRmcm9tQS5zdGFydCgpKSkpKSB7XG4gICAgICAgICAgICB0ciA9IHZpZXcuc3RhdGUudHI7XG4gICAgICAgICAgICBpZiAobWFya0NoYW5nZS50eXBlID09IFwiYWRkXCIpXG4gICAgICAgICAgICAgICAgdHIuYWRkTWFyayhjaEZyb20sIGNoVG8sIG1hcmtDaGFuZ2UubWFyayk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdHIucmVtb3ZlTWFyayhjaEZyb20sIGNoVG8sIG1hcmtDaGFuZ2UubWFyayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoJGZyb20ucGFyZW50LmNoaWxkKCRmcm9tLmluZGV4KCkpLmlzVGV4dCAmJiAkZnJvbS5pbmRleCgpID09ICR0by5pbmRleCgpIC0gKCR0by50ZXh0T2Zmc2V0ID8gMCA6IDEpKSB7XG4gICAgICAgICAgICAvLyBCb3RoIHBvc2l0aW9ucyBpbiB0aGUgc2FtZSB0ZXh0IG5vZGUgLS0gc2ltcGx5IGluc2VydCB0ZXh0XG4gICAgICAgICAgICBsZXQgdGV4dCA9ICRmcm9tLnBhcmVudC50ZXh0QmV0d2VlbigkZnJvbS5wYXJlbnRPZmZzZXQsICR0by5wYXJlbnRPZmZzZXQpO1xuICAgICAgICAgICAgaWYgKHZpZXcuc29tZVByb3AoXCJoYW5kbGVUZXh0SW5wdXRcIiwgZiA9PiBmKHZpZXcsIGNoRnJvbSwgY2hUbywgdGV4dCkpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHRyID0gdmlldy5zdGF0ZS50ci5pbnNlcnRUZXh0KHRleHQsIGNoRnJvbSwgY2hUbyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCF0cilcbiAgICAgICAgdHIgPSB2aWV3LnN0YXRlLnRyLnJlcGxhY2UoY2hGcm9tLCBjaFRvLCBwYXJzZS5kb2Muc2xpY2UoY2hhbmdlLnN0YXJ0IC0gcGFyc2UuZnJvbSwgY2hhbmdlLmVuZEIgLSBwYXJzZS5mcm9tKSk7XG4gICAgaWYgKHBhcnNlLnNlbCkge1xuICAgICAgICBsZXQgc2VsID0gcmVzb2x2ZVNlbGVjdGlvbih2aWV3LCB0ci5kb2MsIHBhcnNlLnNlbCk7XG4gICAgICAgIC8vIENocm9tZSBBbmRyb2lkIHdpbGwgc29tZXRpbWVzLCBkdXJpbmcgY29tcG9zaXRpb24sIHJlcG9ydCB0aGVcbiAgICAgICAgLy8gc2VsZWN0aW9uIGluIHRoZSB3cm9uZyBwbGFjZS4gSWYgaXQgbG9va3MgbGlrZSB0aGF0IGlzXG4gICAgICAgIC8vIGhhcHBlbmluZywgZG9uJ3QgdXBkYXRlIHRoZSBzZWxlY3Rpb24uXG4gICAgICAgIC8vIEVkZ2UganVzdCBkb2Vzbid0IG1vdmUgdGhlIGN1cnNvciBmb3J3YXJkIHdoZW4geW91IHN0YXJ0IHR5cGluZ1xuICAgICAgICAvLyBpbiBhbiBlbXB0eSBibG9jayBvciBiZXR3ZWVuIGJyIG5vZGVzLlxuICAgICAgICBpZiAoc2VsICYmICEoY2hyb21lICYmIGFuZHJvaWQgJiYgdmlldy5jb21wb3NpbmcgJiYgc2VsLmVtcHR5ICYmXG4gICAgICAgICAgICAoY2hhbmdlLnN0YXJ0ICE9IGNoYW5nZS5lbmRCIHx8IHZpZXcuaW5wdXQubGFzdEFuZHJvaWREZWxldGUgPCBEYXRlLm5vdygpIC0gMTAwKSAmJlxuICAgICAgICAgICAgKHNlbC5oZWFkID09IGNoRnJvbSB8fCBzZWwuaGVhZCA9PSB0ci5tYXBwaW5nLm1hcChjaFRvKSAtIDEpIHx8XG4gICAgICAgICAgICBpZSAmJiBzZWwuZW1wdHkgJiYgc2VsLmhlYWQgPT0gY2hGcm9tKSlcbiAgICAgICAgICAgIHRyLnNldFNlbGVjdGlvbihzZWwpO1xuICAgIH1cbiAgICBpZiAoc3RvcmVkTWFya3MpXG4gICAgICAgIHRyLmVuc3VyZU1hcmtzKHN0b3JlZE1hcmtzKTtcbiAgICB2aWV3LmRpc3BhdGNoKHRyLnNjcm9sbEludG9WaWV3KCkpO1xufVxuZnVuY3Rpb24gcmVzb2x2ZVNlbGVjdGlvbih2aWV3LCBkb2MsIHBhcnNlZFNlbCkge1xuICAgIGlmIChNYXRoLm1heChwYXJzZWRTZWwuYW5jaG9yLCBwYXJzZWRTZWwuaGVhZCkgPiBkb2MuY29udGVudC5zaXplKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gc2VsZWN0aW9uQmV0d2Vlbih2aWV3LCBkb2MucmVzb2x2ZShwYXJzZWRTZWwuYW5jaG9yKSwgZG9jLnJlc29sdmUocGFyc2VkU2VsLmhlYWQpKTtcbn1cbi8vIEdpdmVuIHR3byBzYW1lLWxlbmd0aCwgbm9uLWVtcHR5IGZyYWdtZW50cyBvZiBpbmxpbmUgY29udGVudCxcbi8vIGRldGVybWluZSB3aGV0aGVyIHRoZSBmaXJzdCBjb3VsZCBiZSBjcmVhdGVkIGZyb20gdGhlIHNlY29uZCBieVxuLy8gcmVtb3Zpbmcgb3IgYWRkaW5nIGEgc2luZ2xlIG1hcmsgdHlwZS5cbmZ1bmN0aW9uIGlzTWFya0NoYW5nZShjdXIsIHByZXYpIHtcbiAgICBsZXQgY3VyTWFya3MgPSBjdXIuZmlyc3RDaGlsZC5tYXJrcywgcHJldk1hcmtzID0gcHJldi5maXJzdENoaWxkLm1hcmtzO1xuICAgIGxldCBhZGRlZCA9IGN1ck1hcmtzLCByZW1vdmVkID0gcHJldk1hcmtzLCB0eXBlLCBtYXJrLCB1cGRhdGU7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcmV2TWFya3MubGVuZ3RoOyBpKyspXG4gICAgICAgIGFkZGVkID0gcHJldk1hcmtzW2ldLnJlbW92ZUZyb21TZXQoYWRkZWQpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VyTWFya3MubGVuZ3RoOyBpKyspXG4gICAgICAgIHJlbW92ZWQgPSBjdXJNYXJrc1tpXS5yZW1vdmVGcm9tU2V0KHJlbW92ZWQpO1xuICAgIGlmIChhZGRlZC5sZW5ndGggPT0gMSAmJiByZW1vdmVkLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIG1hcmsgPSBhZGRlZFswXTtcbiAgICAgICAgdHlwZSA9IFwiYWRkXCI7XG4gICAgICAgIHVwZGF0ZSA9IChub2RlKSA9PiBub2RlLm1hcmsobWFyay5hZGRUb1NldChub2RlLm1hcmtzKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFkZGVkLmxlbmd0aCA9PSAwICYmIHJlbW92ZWQubGVuZ3RoID09IDEpIHtcbiAgICAgICAgbWFyayA9IHJlbW92ZWRbMF07XG4gICAgICAgIHR5cGUgPSBcInJlbW92ZVwiO1xuICAgICAgICB1cGRhdGUgPSAobm9kZSkgPT4gbm9kZS5tYXJrKG1hcmsucmVtb3ZlRnJvbVNldChub2RlLm1hcmtzKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgbGV0IHVwZGF0ZWQgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByZXYuY2hpbGRDb3VudDsgaSsrKVxuICAgICAgICB1cGRhdGVkLnB1c2godXBkYXRlKHByZXYuY2hpbGQoaSkpKTtcbiAgICBpZiAoRnJhZ21lbnQuZnJvbSh1cGRhdGVkKS5lcShjdXIpKVxuICAgICAgICByZXR1cm4geyBtYXJrLCB0eXBlIH07XG59XG5mdW5jdGlvbiBsb29rc0xpa2VKb2luKG9sZCwgc3RhcnQsIGVuZCwgJG5ld1N0YXJ0LCAkbmV3RW5kKSB7XG4gICAgaWYgKCEkbmV3U3RhcnQucGFyZW50LmlzVGV4dGJsb2NrIHx8XG4gICAgICAgIC8vIFRoZSBjb250ZW50IG11c3QgaGF2ZSBzaHJ1bmtcbiAgICAgICAgZW5kIC0gc3RhcnQgPD0gJG5ld0VuZC5wb3MgLSAkbmV3U3RhcnQucG9zIHx8XG4gICAgICAgIC8vIG5ld0VuZCBtdXN0IHBvaW50IGRpcmVjdGx5IGF0IG9yIGFmdGVyIHRoZSBlbmQgb2YgdGhlIGJsb2NrIHRoYXQgbmV3U3RhcnQgcG9pbnRzIGludG9cbiAgICAgICAgc2tpcENsb3NpbmdBbmRPcGVuaW5nKCRuZXdTdGFydCwgdHJ1ZSwgZmFsc2UpIDwgJG5ld0VuZC5wb3MpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBsZXQgJHN0YXJ0ID0gb2xkLnJlc29sdmUoc3RhcnQpO1xuICAgIC8vIFN0YXJ0IG11c3QgYmUgYXQgdGhlIGVuZCBvZiBhIGJsb2NrXG4gICAgaWYgKCRzdGFydC5wYXJlbnRPZmZzZXQgPCAkc3RhcnQucGFyZW50LmNvbnRlbnQuc2l6ZSB8fCAhJHN0YXJ0LnBhcmVudC5pc1RleHRibG9jaylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGxldCAkbmV4dCA9IG9sZC5yZXNvbHZlKHNraXBDbG9zaW5nQW5kT3BlbmluZygkc3RhcnQsIHRydWUsIHRydWUpKTtcbiAgICAvLyBUaGUgbmV4dCB0ZXh0YmxvY2sgbXVzdCBzdGFydCBiZWZvcmUgZW5kIGFuZCBlbmQgbmVhciBpdFxuICAgIGlmICghJG5leHQucGFyZW50LmlzVGV4dGJsb2NrIHx8ICRuZXh0LnBvcyA+IGVuZCB8fFxuICAgICAgICBza2lwQ2xvc2luZ0FuZE9wZW5pbmcoJG5leHQsIHRydWUsIGZhbHNlKSA8IGVuZClcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIFRoZSBmcmFnbWVudHMgYWZ0ZXIgdGhlIGpvaW4gcG9pbnQgbXVzdCBtYXRjaFxuICAgIHJldHVybiAkbmV3U3RhcnQucGFyZW50LmNvbnRlbnQuY3V0KCRuZXdTdGFydC5wYXJlbnRPZmZzZXQpLmVxKCRuZXh0LnBhcmVudC5jb250ZW50KTtcbn1cbmZ1bmN0aW9uIHNraXBDbG9zaW5nQW5kT3BlbmluZygkcG9zLCBmcm9tRW5kLCBtYXlPcGVuKSB7XG4gICAgbGV0IGRlcHRoID0gJHBvcy5kZXB0aCwgZW5kID0gZnJvbUVuZCA/ICRwb3MuZW5kKCkgOiAkcG9zLnBvcztcbiAgICB3aGlsZSAoZGVwdGggPiAwICYmIChmcm9tRW5kIHx8ICRwb3MuaW5kZXhBZnRlcihkZXB0aCkgPT0gJHBvcy5ub2RlKGRlcHRoKS5jaGlsZENvdW50KSkge1xuICAgICAgICBkZXB0aC0tO1xuICAgICAgICBlbmQrKztcbiAgICAgICAgZnJvbUVuZCA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAobWF5T3Blbikge1xuICAgICAgICBsZXQgbmV4dCA9ICRwb3Mubm9kZShkZXB0aCkubWF5YmVDaGlsZCgkcG9zLmluZGV4QWZ0ZXIoZGVwdGgpKTtcbiAgICAgICAgd2hpbGUgKG5leHQgJiYgIW5leHQuaXNMZWFmKSB7XG4gICAgICAgICAgICBuZXh0ID0gbmV4dC5maXJzdENoaWxkO1xuICAgICAgICAgICAgZW5kKys7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGVuZDtcbn1cbmZ1bmN0aW9uIGZpbmREaWZmKGEsIGIsIHBvcywgcHJlZmVycmVkUG9zLCBwcmVmZXJyZWRTaWRlKSB7XG4gICAgbGV0IHN0YXJ0ID0gYS5maW5kRGlmZlN0YXJ0KGIsIHBvcyk7XG4gICAgaWYgKHN0YXJ0ID09IG51bGwpXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGxldCB7IGE6IGVuZEEsIGI6IGVuZEIgfSA9IGEuZmluZERpZmZFbmQoYiwgcG9zICsgYS5zaXplLCBwb3MgKyBiLnNpemUpO1xuICAgIGlmIChwcmVmZXJyZWRTaWRlID09IFwiZW5kXCIpIHtcbiAgICAgICAgbGV0IGFkanVzdCA9IE1hdGgubWF4KDAsIHN0YXJ0IC0gTWF0aC5taW4oZW5kQSwgZW5kQikpO1xuICAgICAgICBwcmVmZXJyZWRQb3MgLT0gZW5kQSArIGFkanVzdCAtIHN0YXJ0O1xuICAgIH1cbiAgICBpZiAoZW5kQSA8IHN0YXJ0ICYmIGEuc2l6ZSA8IGIuc2l6ZSkge1xuICAgICAgICBsZXQgbW92ZSA9IHByZWZlcnJlZFBvcyA8PSBzdGFydCAmJiBwcmVmZXJyZWRQb3MgPj0gZW5kQSA/IHN0YXJ0IC0gcHJlZmVycmVkUG9zIDogMDtcbiAgICAgICAgc3RhcnQgLT0gbW92ZTtcbiAgICAgICAgZW5kQiA9IHN0YXJ0ICsgKGVuZEIgLSBlbmRBKTtcbiAgICAgICAgZW5kQSA9IHN0YXJ0O1xuICAgIH1cbiAgICBlbHNlIGlmIChlbmRCIDwgc3RhcnQpIHtcbiAgICAgICAgbGV0IG1vdmUgPSBwcmVmZXJyZWRQb3MgPD0gc3RhcnQgJiYgcHJlZmVycmVkUG9zID49IGVuZEIgPyBzdGFydCAtIHByZWZlcnJlZFBvcyA6IDA7XG4gICAgICAgIHN0YXJ0IC09IG1vdmU7XG4gICAgICAgIGVuZEEgPSBzdGFydCArIChlbmRBIC0gZW5kQik7XG4gICAgICAgIGVuZEIgPSBzdGFydDtcbiAgICB9XG4gICAgcmV0dXJuIHsgc3RhcnQsIGVuZEEsIGVuZEIgfTtcbn1cblxuLyoqXG5AaW50ZXJuYWxcbiovXG5jb25zdCBfX3NlcmlhbGl6ZUZvckNsaXBib2FyZCA9IHNlcmlhbGl6ZUZvckNsaXBib2FyZDtcbi8qKlxuQGludGVybmFsXG4qL1xuY29uc3QgX19wYXJzZUZyb21DbGlwYm9hcmQgPSBwYXJzZUZyb21DbGlwYm9hcmQ7XG4vKipcbkBpbnRlcm5hbFxuKi9cbmNvbnN0IF9fZW5kQ29tcG9zaXRpb24gPSBlbmRDb21wb3NpdGlvbjtcbi8qKlxuQW4gZWRpdG9yIHZpZXcgbWFuYWdlcyB0aGUgRE9NIHN0cnVjdHVyZSB0aGF0IHJlcHJlc2VudHMgYW5cbmVkaXRhYmxlIGRvY3VtZW50LiBJdHMgc3RhdGUgYW5kIGJlaGF2aW9yIGFyZSBkZXRlcm1pbmVkIGJ5IGl0c1xuW3Byb3BzXShodHRwczovL3Byb3NlbWlycm9yLm5ldC9kb2NzL3JlZi8jdmlldy5EaXJlY3RFZGl0b3JQcm9wcykuXG4qL1xuY2xhc3MgRWRpdG9yVmlldyB7XG4gICAgLyoqXG4gICAgQ3JlYXRlIGEgdmlldy4gYHBsYWNlYCBtYXkgYmUgYSBET00gbm9kZSB0aGF0IHRoZSBlZGl0b3Igc2hvdWxkXG4gICAgYmUgYXBwZW5kZWQgdG8sIGEgZnVuY3Rpb24gdGhhdCB3aWxsIHBsYWNlIGl0IGludG8gdGhlIGRvY3VtZW50LFxuICAgIG9yIGFuIG9iamVjdCB3aG9zZSBgbW91bnRgIHByb3BlcnR5IGhvbGRzIHRoZSBub2RlIHRvIHVzZSBhcyB0aGVcbiAgICBkb2N1bWVudCBjb250YWluZXIuIElmIGl0IGlzIGBudWxsYCwgdGhlIGVkaXRvciB3aWxsIG5vdCBiZVxuICAgIGFkZGVkIHRvIHRoZSBkb2N1bWVudC5cbiAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHBsYWNlLCBwcm9wcykge1xuICAgICAgICB0aGlzLl9yb290ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmZvY3VzZWQgPSBmYWxzZTtcbiAgICAgICAgLyoqXG4gICAgICAgIEtsdWRnZSB1c2VkIHRvIHdvcmsgYXJvdW5kIGEgQ2hyb21lIGJ1ZyBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy50cmFja1dyaXRlcyA9IG51bGw7XG4gICAgICAgIHRoaXMubW91bnRlZCA9IGZhbHNlO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMubWFya0N1cnNvciA9IG51bGw7XG4gICAgICAgIC8qKlxuICAgICAgICBAaW50ZXJuYWxcbiAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJzb3JXcmFwcGVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgIEBpbnRlcm5hbFxuICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RTZWxlY3RlZFZpZXdEZXNjID0gdW5kZWZpbmVkO1xuICAgICAgICAvKipcbiAgICAgICAgQGludGVybmFsXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuaW5wdXQgPSBuZXcgSW5wdXRTdGF0ZTtcbiAgICAgICAgdGhpcy5wcmV2RGlyZWN0UGx1Z2lucyA9IFtdO1xuICAgICAgICB0aGlzLnBsdWdpblZpZXdzID0gW107XG4gICAgICAgIC8qKlxuICAgICAgICBXaGVuIGVkaXRvciBjb250ZW50IGlzIGJlaW5nIGRyYWdnZWQsIHRoaXMgb2JqZWN0IGNvbnRhaW5zXG4gICAgICAgIGluZm9ybWF0aW9uIGFib3V0IHRoZSBkcmFnZ2VkIHNsaWNlIGFuZCB3aGV0aGVyIGl0IGlzIGJlaW5nXG4gICAgICAgIGNvcGllZCBvciBtb3ZlZC4gQXQgYW55IG90aGVyIHRpbWUsIGl0IGlzIG51bGwuXG4gICAgICAgICovXG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBudWxsO1xuICAgICAgICB0aGlzLl9wcm9wcyA9IHByb3BzO1xuICAgICAgICB0aGlzLnN0YXRlID0gcHJvcHMuc3RhdGU7XG4gICAgICAgIHRoaXMuZGlyZWN0UGx1Z2lucyA9IHByb3BzLnBsdWdpbnMgfHwgW107XG4gICAgICAgIHRoaXMuZGlyZWN0UGx1Z2lucy5mb3JFYWNoKGNoZWNrU3RhdGVDb21wb25lbnQpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoID0gdGhpcy5kaXNwYXRjaC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRvbSA9IChwbGFjZSAmJiBwbGFjZS5tb3VudCkgfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgaWYgKHBsYWNlKSB7XG4gICAgICAgICAgICBpZiAocGxhY2UuYXBwZW5kQ2hpbGQpXG4gICAgICAgICAgICAgICAgcGxhY2UuYXBwZW5kQ2hpbGQodGhpcy5kb20pO1xuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHBsYWNlID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgICAgICBwbGFjZSh0aGlzLmRvbSk7XG4gICAgICAgICAgICBlbHNlIGlmIChwbGFjZS5tb3VudClcbiAgICAgICAgICAgICAgICB0aGlzLm1vdW50ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWRpdGFibGUgPSBnZXRFZGl0YWJsZSh0aGlzKTtcbiAgICAgICAgdXBkYXRlQ3Vyc29yV3JhcHBlcih0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlVmlld3MgPSBidWlsZE5vZGVWaWV3cyh0aGlzKTtcbiAgICAgICAgdGhpcy5kb2NWaWV3ID0gZG9jVmlld0Rlc2ModGhpcy5zdGF0ZS5kb2MsIGNvbXB1dGVEb2NEZWNvKHRoaXMpLCB2aWV3RGVjb3JhdGlvbnModGhpcyksIHRoaXMuZG9tLCB0aGlzKTtcbiAgICAgICAgdGhpcy5kb21PYnNlcnZlciA9IG5ldyBET01PYnNlcnZlcih0aGlzLCAoZnJvbSwgdG8sIHR5cGVPdmVyLCBhZGRlZCkgPT4gcmVhZERPTUNoYW5nZSh0aGlzLCBmcm9tLCB0bywgdHlwZU92ZXIsIGFkZGVkKSk7XG4gICAgICAgIHRoaXMuZG9tT2JzZXJ2ZXIuc3RhcnQoKTtcbiAgICAgICAgaW5pdElucHV0KHRoaXMpO1xuICAgICAgICB0aGlzLnVwZGF0ZVBsdWdpblZpZXdzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgIEhvbGRzIGB0cnVlYCB3aGVuIGFcbiAgICBbY29tcG9zaXRpb25dKGh0dHBzOi8vdzNjLmdpdGh1Yi5pby91aWV2ZW50cy8jZXZlbnRzLWNvbXBvc2l0aW9uZXZlbnRzKVxuICAgIGlzIGFjdGl2ZS5cbiAgICAqL1xuICAgIGdldCBjb21wb3NpbmcoKSB7IHJldHVybiB0aGlzLmlucHV0LmNvbXBvc2luZzsgfVxuICAgIC8qKlxuICAgIFRoZSB2aWV3J3MgY3VycmVudCBbcHJvcHNdKGh0dHBzOi8vcHJvc2VtaXJyb3IubmV0L2RvY3MvcmVmLyN2aWV3LkVkaXRvclByb3BzKS5cbiAgICAqL1xuICAgIGdldCBwcm9wcygpIHtcbiAgICAgICAgaWYgKHRoaXMuX3Byb3BzLnN0YXRlICE9IHRoaXMuc3RhdGUpIHtcbiAgICAgICAgICAgIGxldCBwcmV2ID0gdGhpcy5fcHJvcHM7XG4gICAgICAgICAgICB0aGlzLl9wcm9wcyA9IHt9O1xuICAgICAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBwcmV2KVxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb3BzW25hbWVdID0gcHJldltuYW1lXTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BzLnN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcHJvcHM7XG4gICAgfVxuICAgIC8qKlxuICAgIFVwZGF0ZSB0aGUgdmlldydzIHByb3BzLiBXaWxsIGltbWVkaWF0ZWx5IGNhdXNlIGFuIHVwZGF0ZSB0b1xuICAgIHRoZSBET00uXG4gICAgKi9cbiAgICB1cGRhdGUocHJvcHMpIHtcbiAgICAgICAgaWYgKHByb3BzLmhhbmRsZURPTUV2ZW50cyAhPSB0aGlzLl9wcm9wcy5oYW5kbGVET01FdmVudHMpXG4gICAgICAgICAgICBlbnN1cmVMaXN0ZW5lcnModGhpcyk7XG4gICAgICAgIHRoaXMuX3Byb3BzID0gcHJvcHM7XG4gICAgICAgIGlmIChwcm9wcy5wbHVnaW5zKSB7XG4gICAgICAgICAgICBwcm9wcy5wbHVnaW5zLmZvckVhY2goY2hlY2tTdGF0ZUNvbXBvbmVudCk7XG4gICAgICAgICAgICB0aGlzLmRpcmVjdFBsdWdpbnMgPSBwcm9wcy5wbHVnaW5zO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGVJbm5lcihwcm9wcy5zdGF0ZSwgdHJ1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVwZGF0ZSB0aGUgdmlldyBieSB1cGRhdGluZyBleGlzdGluZyBwcm9wcyBvYmplY3Qgd2l0aCB0aGUgb2JqZWN0XG4gICAgZ2l2ZW4gYXMgYXJndW1lbnQuIEVxdWl2YWxlbnQgdG8gYHZpZXcudXBkYXRlKE9iamVjdC5hc3NpZ24oe30sXG4gICAgdmlldy5wcm9wcywgcHJvcHMpKWAuXG4gICAgKi9cbiAgICBzZXRQcm9wcyhwcm9wcykge1xuICAgICAgICBsZXQgdXBkYXRlZCA9IHt9O1xuICAgICAgICBmb3IgKGxldCBuYW1lIGluIHRoaXMuX3Byb3BzKVxuICAgICAgICAgICAgdXBkYXRlZFtuYW1lXSA9IHRoaXMuX3Byb3BzW25hbWVdO1xuICAgICAgICB1cGRhdGVkLnN0YXRlID0gdGhpcy5zdGF0ZTtcbiAgICAgICAgZm9yIChsZXQgbmFtZSBpbiBwcm9wcylcbiAgICAgICAgICAgIHVwZGF0ZWRbbmFtZV0gPSBwcm9wc1tuYW1lXTtcbiAgICAgICAgdGhpcy51cGRhdGUodXBkYXRlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgIFVwZGF0ZSB0aGUgZWRpdG9yJ3MgYHN0YXRlYCBwcm9wLCB3aXRob3V0IHRvdWNoaW5nIGFueSBvZiB0aGVcbiAgICBvdGhlciBwcm9wcy5cbiAgICAqL1xuICAgIHVwZGF0ZVN0YXRlKHN0YXRlKSB7XG4gICAgICAgIHRoaXMudXBkYXRlU3RhdGVJbm5lcihzdGF0ZSwgdGhpcy5zdGF0ZS5wbHVnaW5zICE9IHN0YXRlLnBsdWdpbnMpO1xuICAgIH1cbiAgICB1cGRhdGVTdGF0ZUlubmVyKHN0YXRlLCByZWNvbmZpZ3VyZWQpIHtcbiAgICAgICAgbGV0IHByZXYgPSB0aGlzLnN0YXRlLCByZWRyYXcgPSBmYWxzZSwgdXBkYXRlU2VsID0gZmFsc2U7XG4gICAgICAgIC8vIFdoZW4gc3RvcmVkIG1hcmtzIGFyZSBhZGRlZCwgc3RvcCBjb21wb3NpdGlvbiwgc28gdGhhdCB0aGV5IGNhblxuICAgICAgICAvLyBiZSBkaXNwbGF5ZWQuXG4gICAgICAgIGlmIChzdGF0ZS5zdG9yZWRNYXJrcyAmJiB0aGlzLmNvbXBvc2luZykge1xuICAgICAgICAgICAgY2xlYXJDb21wb3NpdGlvbih0aGlzKTtcbiAgICAgICAgICAgIHVwZGF0ZVNlbCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICBpZiAocmVjb25maWd1cmVkKSB7XG4gICAgICAgICAgICBsZXQgbm9kZVZpZXdzID0gYnVpbGROb2RlVmlld3ModGhpcyk7XG4gICAgICAgICAgICBpZiAoY2hhbmdlZE5vZGVWaWV3cyhub2RlVmlld3MsIHRoaXMubm9kZVZpZXdzKSkge1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZVZpZXdzID0gbm9kZVZpZXdzO1xuICAgICAgICAgICAgICAgIHJlZHJhdyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbnN1cmVMaXN0ZW5lcnModGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lZGl0YWJsZSA9IGdldEVkaXRhYmxlKHRoaXMpO1xuICAgICAgICB1cGRhdGVDdXJzb3JXcmFwcGVyKHRoaXMpO1xuICAgICAgICBsZXQgaW5uZXJEZWNvID0gdmlld0RlY29yYXRpb25zKHRoaXMpLCBvdXRlckRlY28gPSBjb21wdXRlRG9jRGVjbyh0aGlzKTtcbiAgICAgICAgbGV0IHNjcm9sbCA9IHJlY29uZmlndXJlZCA/IFwicmVzZXRcIlxuICAgICAgICAgICAgOiBzdGF0ZS5zY3JvbGxUb1NlbGVjdGlvbiA+IHByZXYuc2Nyb2xsVG9TZWxlY3Rpb24gPyBcInRvIHNlbGVjdGlvblwiIDogXCJwcmVzZXJ2ZVwiO1xuICAgICAgICBsZXQgdXBkYXRlRG9jID0gcmVkcmF3IHx8ICF0aGlzLmRvY1ZpZXcubWF0Y2hlc05vZGUoc3RhdGUuZG9jLCBvdXRlckRlY28sIGlubmVyRGVjbyk7XG4gICAgICAgIGlmICh1cGRhdGVEb2MgfHwgIXN0YXRlLnNlbGVjdGlvbi5lcShwcmV2LnNlbGVjdGlvbikpXG4gICAgICAgICAgICB1cGRhdGVTZWwgPSB0cnVlO1xuICAgICAgICBsZXQgb2xkU2Nyb2xsUG9zID0gc2Nyb2xsID09IFwicHJlc2VydmVcIiAmJiB1cGRhdGVTZWwgJiYgdGhpcy5kb20uc3R5bGUub3ZlcmZsb3dBbmNob3IgPT0gbnVsbCAmJiBzdG9yZVNjcm9sbFBvcyh0aGlzKTtcbiAgICAgICAgaWYgKHVwZGF0ZVNlbCkge1xuICAgICAgICAgICAgdGhpcy5kb21PYnNlcnZlci5zdG9wKCk7XG4gICAgICAgICAgICAvLyBXb3JrIGFyb3VuZCBhbiBpc3N1ZSBpbiBDaHJvbWUsIElFLCBhbmQgRWRnZSB3aGVyZSBjaGFuZ2luZ1xuICAgICAgICAgICAgLy8gdGhlIERPTSBhcm91bmQgYW4gYWN0aXZlIHNlbGVjdGlvbiBwdXRzIGl0IGludG8gYSBicm9rZW5cbiAgICAgICAgICAgIC8vIHN0YXRlIHdoZXJlIHRoZSB0aGluZyB0aGUgdXNlciBzZWVzIGRpZmZlcnMgZnJvbSB0aGVcbiAgICAgICAgICAgIC8vIHNlbGVjdGlvbiByZXBvcnRlZCBieSB0aGUgU2VsZWN0aW9uIG9iamVjdCAoIzcxMCwgIzk3MyxcbiAgICAgICAgICAgIC8vICMxMDExLCAjMTAxMywgIzEwMzUpLlxuICAgICAgICAgICAgbGV0IGZvcmNlU2VsVXBkYXRlID0gdXBkYXRlRG9jICYmIChpZSB8fCBjaHJvbWUpICYmICF0aGlzLmNvbXBvc2luZyAmJlxuICAgICAgICAgICAgICAgICFwcmV2LnNlbGVjdGlvbi5lbXB0eSAmJiAhc3RhdGUuc2VsZWN0aW9uLmVtcHR5ICYmIHNlbGVjdGlvbkNvbnRleHRDaGFuZ2VkKHByZXYuc2VsZWN0aW9uLCBzdGF0ZS5zZWxlY3Rpb24pO1xuICAgICAgICAgICAgaWYgKHVwZGF0ZURvYykge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBub2RlIHRoYXQgdGhlIHNlbGVjdGlvbiBwb2ludHMgaW50byBpcyB3cml0dGVuIHRvLFxuICAgICAgICAgICAgICAgIC8vIENocm9tZSBzb21ldGltZXMgc3RhcnRzIG1pc3JlcG9ydGluZyB0aGUgc2VsZWN0aW9uLCBzbyB0aGlzXG4gICAgICAgICAgICAgICAgLy8gdHJhY2tzIHRoYXQgYW5kIGZvcmNlcyBhIHNlbGVjdGlvbiByZXNldCB3aGVuIG91ciB1cGRhdGVcbiAgICAgICAgICAgICAgICAvLyBkaWQgd3JpdGUgdG8gdGhlIG5vZGUuXG4gICAgICAgICAgICAgICAgbGV0IGNocm9tZUtsdWRnZSA9IGNocm9tZSA/ICh0aGlzLnRyYWNrV3JpdGVzID0gdGhpcy5kb21TZWxlY3Rpb24oKS5mb2N1c05vZGUpIDogbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAocmVkcmF3IHx8ICF0aGlzLmRvY1ZpZXcudXBkYXRlKHN0YXRlLmRvYywgb3V0ZXJEZWNvLCBpbm5lckRlY28sIHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZG9jVmlldy51cGRhdGVPdXRlckRlY28oW10pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvY1ZpZXcuZGVzdHJveSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRvY1ZpZXcgPSBkb2NWaWV3RGVzYyhzdGF0ZS5kb2MsIG91dGVyRGVjbywgaW5uZXJEZWNvLCB0aGlzLmRvbSwgdGhpcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaHJvbWVLbHVkZ2UgJiYgIXRoaXMudHJhY2tXcml0ZXMpXG4gICAgICAgICAgICAgICAgICAgIGZvcmNlU2VsVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdvcmsgYXJvdW5kIGZvciBhbiBpc3N1ZSB3aGVyZSBhbiB1cGRhdGUgYXJyaXZpbmcgcmlnaHQgYmV0d2VlblxuICAgICAgICAgICAgLy8gYSBET00gc2VsZWN0aW9uIGNoYW5nZSBhbmQgdGhlIFwic2VsZWN0aW9uY2hhbmdlXCIgZXZlbnQgZm9yIGl0XG4gICAgICAgICAgICAvLyBjYW4gY2F1c2UgYSBzcHVyaW91cyBET00gc2VsZWN0aW9uIHVwZGF0ZSwgZGlzcnVwdGluZyBtb3VzZVxuICAgICAgICAgICAgLy8gZHJhZyBzZWxlY3Rpb24uXG4gICAgICAgICAgICBpZiAoZm9yY2VTZWxVcGRhdGUgfHxcbiAgICAgICAgICAgICAgICAhKHRoaXMuaW5wdXQubW91c2VEb3duICYmIHRoaXMuZG9tT2JzZXJ2ZXIuY3VycmVudFNlbGVjdGlvbi5lcSh0aGlzLmRvbVNlbGVjdGlvbigpKSAmJiBhbmNob3JJblJpZ2h0UGxhY2UodGhpcykpKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uVG9ET00odGhpcywgZm9yY2VTZWxVcGRhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc3luY05vZGVTZWxlY3Rpb24odGhpcywgc3RhdGUuc2VsZWN0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRvbU9ic2VydmVyLnNldEN1clNlbGVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kb21PYnNlcnZlci5zdGFydCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudXBkYXRlUGx1Z2luVmlld3MocHJldik7XG4gICAgICAgIGlmIChzY3JvbGwgPT0gXCJyZXNldFwiKSB7XG4gICAgICAgICAgICB0aGlzLmRvbS5zY3JvbGxUb3AgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHNjcm9sbCA9PSBcInRvIHNlbGVjdGlvblwiKSB7XG4gICAgICAgICAgICBsZXQgc3RhcnRET00gPSB0aGlzLmRvbVNlbGVjdGlvbigpLmZvY3VzTm9kZTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNvbWVQcm9wKFwiaGFuZGxlU2Nyb2xsVG9TZWxlY3Rpb25cIiwgZiA9PiBmKHRoaXMpKSkgO1xuICAgICAgICAgICAgZWxzZSBpZiAoc3RhdGUuc2VsZWN0aW9uIGluc3RhbmNlb2YgTm9kZVNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSB0aGlzLmRvY1ZpZXcuZG9tQWZ0ZXJQb3Moc3RhdGUuc2VsZWN0aW9uLmZyb20pO1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQubm9kZVR5cGUgPT0gMSlcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsUmVjdEludG9WaWV3KHRoaXMsIHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgc3RhcnRET00pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsUmVjdEludG9WaWV3KHRoaXMsIHRoaXMuY29vcmRzQXRQb3Moc3RhdGUuc2VsZWN0aW9uLmhlYWQsIDEpLCBzdGFydERPTSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2xkU2Nyb2xsUG9zKSB7XG4gICAgICAgICAgICByZXNldFNjcm9sbFBvcyhvbGRTY3JvbGxQb3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlc3Ryb3lQbHVnaW5WaWV3cygpIHtcbiAgICAgICAgbGV0IHZpZXc7XG4gICAgICAgIHdoaWxlICh2aWV3ID0gdGhpcy5wbHVnaW5WaWV3cy5wb3AoKSlcbiAgICAgICAgICAgIGlmICh2aWV3LmRlc3Ryb3kpXG4gICAgICAgICAgICAgICAgdmlldy5kZXN0cm95KCk7XG4gICAgfVxuICAgIHVwZGF0ZVBsdWdpblZpZXdzKHByZXZTdGF0ZSkge1xuICAgICAgICBpZiAoIXByZXZTdGF0ZSB8fCBwcmV2U3RhdGUucGx1Z2lucyAhPSB0aGlzLnN0YXRlLnBsdWdpbnMgfHwgdGhpcy5kaXJlY3RQbHVnaW5zICE9IHRoaXMucHJldkRpcmVjdFBsdWdpbnMpIHtcbiAgICAgICAgICAgIHRoaXMucHJldkRpcmVjdFBsdWdpbnMgPSB0aGlzLmRpcmVjdFBsdWdpbnM7XG4gICAgICAgICAgICB0aGlzLmRlc3Ryb3lQbHVnaW5WaWV3cygpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmRpcmVjdFBsdWdpbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgcGx1Z2luID0gdGhpcy5kaXJlY3RQbHVnaW5zW2ldO1xuICAgICAgICAgICAgICAgIGlmIChwbHVnaW4uc3BlYy52aWV3KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpblZpZXdzLnB1c2gocGx1Z2luLnNwZWMudmlldyh0aGlzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuc3RhdGUucGx1Z2lucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBwbHVnaW4gPSB0aGlzLnN0YXRlLnBsdWdpbnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHBsdWdpbi5zcGVjLnZpZXcpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luVmlld3MucHVzaChwbHVnaW4uc3BlYy52aWV3KHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wbHVnaW5WaWV3cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBwbHVnaW5WaWV3ID0gdGhpcy5wbHVnaW5WaWV3c1tpXTtcbiAgICAgICAgICAgICAgICBpZiAocGx1Z2luVmlldy51cGRhdGUpXG4gICAgICAgICAgICAgICAgICAgIHBsdWdpblZpZXcudXBkYXRlKHRoaXMsIHByZXZTdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc29tZVByb3AocHJvcE5hbWUsIGYpIHtcbiAgICAgICAgbGV0IHByb3AgPSB0aGlzLl9wcm9wcyAmJiB0aGlzLl9wcm9wc1twcm9wTmFtZV0sIHZhbHVlO1xuICAgICAgICBpZiAocHJvcCAhPSBudWxsICYmICh2YWx1ZSA9IGYgPyBmKHByb3ApIDogcHJvcCkpXG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kaXJlY3RQbHVnaW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgcHJvcCA9IHRoaXMuZGlyZWN0UGx1Z2luc1tpXS5wcm9wc1twcm9wTmFtZV07XG4gICAgICAgICAgICBpZiAocHJvcCAhPSBudWxsICYmICh2YWx1ZSA9IGYgPyBmKHByb3ApIDogcHJvcCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwbHVnaW5zID0gdGhpcy5zdGF0ZS5wbHVnaW5zO1xuICAgICAgICBpZiAocGx1Z2lucylcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGx1Z2lucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBwcm9wID0gcGx1Z2luc1tpXS5wcm9wc1twcm9wTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHByb3AgIT0gbnVsbCAmJiAodmFsdWUgPSBmID8gZihwcm9wKSA6IHByb3ApKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgIFF1ZXJ5IHdoZXRoZXIgdGhlIHZpZXcgaGFzIGZvY3VzLlxuICAgICovXG4gICAgaGFzRm9jdXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QuYWN0aXZlRWxlbWVudCA9PSB0aGlzLmRvbTtcbiAgICB9XG4gICAgLyoqXG4gICAgRm9jdXMgdGhlIGVkaXRvci5cbiAgICAqL1xuICAgIGZvY3VzKCkge1xuICAgICAgICB0aGlzLmRvbU9ic2VydmVyLnN0b3AoKTtcbiAgICAgICAgaWYgKHRoaXMuZWRpdGFibGUpXG4gICAgICAgICAgICBmb2N1c1ByZXZlbnRTY3JvbGwodGhpcy5kb20pO1xuICAgICAgICBzZWxlY3Rpb25Ub0RPTSh0aGlzKTtcbiAgICAgICAgdGhpcy5kb21PYnNlcnZlci5zdGFydCgpO1xuICAgIH1cbiAgICAvKipcbiAgICBHZXQgdGhlIGRvY3VtZW50IHJvb3QgaW4gd2hpY2ggdGhlIGVkaXRvciBleGlzdHMuIFRoaXMgd2lsbFxuICAgIHVzdWFsbHkgYmUgdGhlIHRvcC1sZXZlbCBgZG9jdW1lbnRgLCBidXQgbWlnaHQgYmUgYSBbc2hhZG93XG4gICAgRE9NXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9XZWJfQ29tcG9uZW50cy9TaGFkb3dfRE9NKVxuICAgIHJvb3QgaWYgdGhlIGVkaXRvciBpcyBpbnNpZGUgb25lLlxuICAgICovXG4gICAgZ2V0IHJvb3QoKSB7XG4gICAgICAgIGxldCBjYWNoZWQgPSB0aGlzLl9yb290O1xuICAgICAgICBpZiAoY2FjaGVkID09IG51bGwpXG4gICAgICAgICAgICBmb3IgKGxldCBzZWFyY2ggPSB0aGlzLmRvbS5wYXJlbnROb2RlOyBzZWFyY2g7IHNlYXJjaCA9IHNlYXJjaC5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNlYXJjaC5ub2RlVHlwZSA9PSA5IHx8IChzZWFyY2gubm9kZVR5cGUgPT0gMTEgJiYgc2VhcmNoLmhvc3QpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2VhcmNoLmdldFNlbGVjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZihzZWFyY2gpLmdldFNlbGVjdGlvbiA9ICgpID0+IHNlYXJjaC5vd25lckRvY3VtZW50LmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcm9vdCA9IHNlYXJjaDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYWNoZWQgfHwgZG9jdW1lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgIEdpdmVuIGEgcGFpciBvZiB2aWV3cG9ydCBjb29yZGluYXRlcywgcmV0dXJuIHRoZSBkb2N1bWVudFxuICAgIHBvc2l0aW9uIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlbS4gTWF5IHJldHVybiBudWxsIGlmIHRoZSBnaXZlblxuICAgIGNvb3JkaW5hdGVzIGFyZW4ndCBpbnNpZGUgb2YgdGhlIGVkaXRvci4gV2hlbiBhbiBvYmplY3QgaXNcbiAgICByZXR1cm5lZCwgaXRzIGBwb3NgIHByb3BlcnR5IGlzIHRoZSBwb3NpdGlvbiBuZWFyZXN0IHRvIHRoZVxuICAgIGNvb3JkaW5hdGVzLCBhbmQgaXRzIGBpbnNpZGVgIHByb3BlcnR5IGhvbGRzIHRoZSBwb3NpdGlvbiBvZiB0aGVcbiAgICBpbm5lciBub2RlIHRoYXQgdGhlIHBvc2l0aW9uIGZhbGxzIGluc2lkZSBvZiwgb3IgLTEgaWYgaXQgaXMgYXRcbiAgICB0aGUgdG9wIGxldmVsLCBub3QgaW4gYW55IG5vZGUuXG4gICAgKi9cbiAgICBwb3NBdENvb3Jkcyhjb29yZHMpIHtcbiAgICAgICAgcmV0dXJuIHBvc0F0Q29vcmRzKHRoaXMsIGNvb3Jkcyk7XG4gICAgfVxuICAgIC8qKlxuICAgIFJldHVybnMgdGhlIHZpZXdwb3J0IHJlY3RhbmdsZSBhdCBhIGdpdmVuIGRvY3VtZW50IHBvc2l0aW9uLlxuICAgIGBsZWZ0YCBhbmQgYHJpZ2h0YCB3aWxsIGJlIHRoZSBzYW1lIG51bWJlciwgYXMgdGhpcyByZXR1cm5zIGFcbiAgICBmbGF0IGN1cnNvci1pc2ggcmVjdGFuZ2xlLiBJZiB0aGUgcG9zaXRpb24gaXMgYmV0d2VlbiB0d28gdGhpbmdzXG4gICAgdGhhdCBhcmVuJ3QgZGlyZWN0bHkgYWRqYWNlbnQsIGBzaWRlYCBkZXRlcm1pbmVzIHdoaWNoIGVsZW1lbnRcbiAgICBpcyB1c2VkLiBXaGVuIDwgMCwgdGhlIGVsZW1lbnQgYmVmb3JlIHRoZSBwb3NpdGlvbiBpcyB1c2VkLFxuICAgIG90aGVyd2lzZSB0aGUgZWxlbWVudCBhZnRlci5cbiAgICAqL1xuICAgIGNvb3Jkc0F0UG9zKHBvcywgc2lkZSA9IDEpIHtcbiAgICAgICAgcmV0dXJuIGNvb3Jkc0F0UG9zKHRoaXMsIHBvcywgc2lkZSk7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgdGhlIERPTSBwb3NpdGlvbiB0aGF0IGNvcnJlc3BvbmRzIHRvIHRoZSBnaXZlbiBkb2N1bWVudFxuICAgIHBvc2l0aW9uLiBXaGVuIGBzaWRlYCBpcyBuZWdhdGl2ZSwgZmluZCB0aGUgcG9zaXRpb24gYXMgY2xvc2UgYXNcbiAgICBwb3NzaWJsZSB0byB0aGUgY29udGVudCBiZWZvcmUgdGhlIHBvc2l0aW9uLiBXaGVuIHBvc2l0aXZlLFxuICAgIHByZWZlciBwb3NpdGlvbnMgY2xvc2UgdG8gdGhlIGNvbnRlbnQgYWZ0ZXIgdGhlIHBvc2l0aW9uLiBXaGVuXG4gICAgemVybywgcHJlZmVyIGFzIHNoYWxsb3cgYSBwb3NpdGlvbiBhcyBwb3NzaWJsZS5cbiAgICBcbiAgICBOb3RlIHRoYXQgeW91IHNob3VsZCAqKm5vdCoqIG11dGF0ZSB0aGUgZWRpdG9yJ3MgaW50ZXJuYWwgRE9NLFxuICAgIG9ubHkgaW5zcGVjdCBpdCAoYW5kIGV2ZW4gdGhhdCBpcyB1c3VhbGx5IG5vdCBuZWNlc3NhcnkpLlxuICAgICovXG4gICAgZG9tQXRQb3MocG9zLCBzaWRlID0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2NWaWV3LmRvbUZyb21Qb3MocG9zLCBzaWRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgRmluZCB0aGUgRE9NIG5vZGUgdGhhdCByZXByZXNlbnRzIHRoZSBkb2N1bWVudCBub2RlIGFmdGVyIHRoZVxuICAgIGdpdmVuIHBvc2l0aW9uLiBNYXkgcmV0dXJuIGBudWxsYCB3aGVuIHRoZSBwb3NpdGlvbiBkb2Vzbid0IHBvaW50XG4gICAgaW4gZnJvbnQgb2YgYSBub2RlIG9yIGlmIHRoZSBub2RlIGlzIGluc2lkZSBhbiBvcGFxdWUgbm9kZSB2aWV3LlxuICAgIFxuICAgIFRoaXMgaXMgaW50ZW5kZWQgdG8gYmUgYWJsZSB0byBjYWxsIHRoaW5ncyBsaWtlXG4gICAgYGdldEJvdW5kaW5nQ2xpZW50UmVjdGAgb24gdGhhdCBET00gbm9kZS4gRG8gKipub3QqKiBtdXRhdGUgdGhlXG4gICAgZWRpdG9yIERPTSBkaXJlY3RseSwgb3IgYWRkIHN0eWxpbmcgdGhpcyB3YXksIHNpbmNlIHRoYXQgd2lsbCBiZVxuICAgIGltbWVkaWF0ZWx5IG92ZXJyaWRlbiBieSB0aGUgZWRpdG9yIGFzIGl0IHJlZHJhd3MgdGhlIG5vZGUuXG4gICAgKi9cbiAgICBub2RlRE9NKHBvcykge1xuICAgICAgICBsZXQgZGVzYyA9IHRoaXMuZG9jVmlldy5kZXNjQXQocG9zKTtcbiAgICAgICAgcmV0dXJuIGRlc2MgPyBkZXNjLm5vZGVET00gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICBGaW5kIHRoZSBkb2N1bWVudCBwb3NpdGlvbiB0aGF0IGNvcnJlc3BvbmRzIHRvIGEgZ2l2ZW4gRE9NXG4gICAgcG9zaXRpb24uIChXaGVuZXZlciBwb3NzaWJsZSwgaXQgaXMgcHJlZmVyYWJsZSB0byBpbnNwZWN0IHRoZVxuICAgIGRvY3VtZW50IHN0cnVjdHVyZSBkaXJlY3RseSwgcmF0aGVyIHRoYW4gcG9raW5nIGFyb3VuZCBpbiB0aGVcbiAgICBET00sIGJ1dCBzb21ldGltZXPigJRmb3IgZXhhbXBsZSB3aGVuIGludGVycHJldGluZyBhbiBldmVudFxuICAgIHRhcmdldOKAlHlvdSBkb24ndCBoYXZlIGEgY2hvaWNlLilcbiAgICBcbiAgICBUaGUgYGJpYXNgIHBhcmFtZXRlciBjYW4gYmUgdXNlZCB0byBpbmZsdWVuY2Ugd2hpY2ggc2lkZSBvZiBhIERPTVxuICAgIG5vZGUgdG8gdXNlIHdoZW4gdGhlIHBvc2l0aW9uIGlzIGluc2lkZSBhIGxlYWYgbm9kZS5cbiAgICAqL1xuICAgIHBvc0F0RE9NKG5vZGUsIG9mZnNldCwgYmlhcyA9IC0xKSB7XG4gICAgICAgIGxldCBwb3MgPSB0aGlzLmRvY1ZpZXcucG9zRnJvbURPTShub2RlLCBvZmZzZXQsIGJpYXMpO1xuICAgICAgICBpZiAocG9zID09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkRPTSBwb3NpdGlvbiBub3QgaW5zaWRlIHRoZSBlZGl0b3JcIik7XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuICAgIC8qKlxuICAgIEZpbmQgb3V0IHdoZXRoZXIgdGhlIHNlbGVjdGlvbiBpcyBhdCB0aGUgZW5kIG9mIGEgdGV4dGJsb2NrIHdoZW5cbiAgICBtb3ZpbmcgaW4gYSBnaXZlbiBkaXJlY3Rpb24uIFdoZW4sIGZvciBleGFtcGxlLCBnaXZlbiBgXCJsZWZ0XCJgLFxuICAgIGl0IHdpbGwgcmV0dXJuIHRydWUgaWYgbW92aW5nIGxlZnQgZnJvbSB0aGUgY3VycmVudCBjdXJzb3JcbiAgICBwb3NpdGlvbiB3b3VsZCBsZWF2ZSB0aGF0IHBvc2l0aW9uJ3MgcGFyZW50IHRleHRibG9jay4gV2lsbCBhcHBseVxuICAgIHRvIHRoZSB2aWV3J3MgY3VycmVudCBzdGF0ZSBieSBkZWZhdWx0LCBidXQgaXQgaXMgcG9zc2libGUgdG9cbiAgICBwYXNzIGEgZGlmZmVyZW50IHN0YXRlLlxuICAgICovXG4gICAgZW5kT2ZUZXh0YmxvY2soZGlyLCBzdGF0ZSkge1xuICAgICAgICByZXR1cm4gZW5kT2ZUZXh0YmxvY2sodGhpcywgc3RhdGUgfHwgdGhpcy5zdGF0ZSwgZGlyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgUmVtb3ZlcyB0aGUgZWRpdG9yIGZyb20gdGhlIERPTSBhbmQgZGVzdHJveXMgYWxsIFtub2RlXG4gICAgdmlld3NdKGh0dHBzOi8vcHJvc2VtaXJyb3IubmV0L2RvY3MvcmVmLyN2aWV3Lk5vZGVWaWV3KS5cbiAgICAqL1xuICAgIGRlc3Ryb3koKSB7XG4gICAgICAgIGlmICghdGhpcy5kb2NWaWV3KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBkZXN0cm95SW5wdXQodGhpcyk7XG4gICAgICAgIHRoaXMuZGVzdHJveVBsdWdpblZpZXdzKCk7XG4gICAgICAgIGlmICh0aGlzLm1vdW50ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZG9jVmlldy51cGRhdGUodGhpcy5zdGF0ZS5kb2MsIFtdLCB2aWV3RGVjb3JhdGlvbnModGhpcyksIHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5kb20udGV4dENvbnRlbnQgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZG9tLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuZG9tLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5kb20pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZG9jVmlldy5kZXN0cm95KCk7XG4gICAgICAgIHRoaXMuZG9jVmlldyA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgIFRoaXMgaXMgdHJ1ZSB3aGVuIHRoZSB2aWV3IGhhcyBiZWVuXG4gICAgW2Rlc3Ryb3llZF0oaHR0cHM6Ly9wcm9zZW1pcnJvci5uZXQvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy5kZXN0cm95KSAoYW5kIHRodXMgc2hvdWxkIG5vdCBiZVxuICAgIHVzZWQgYW55bW9yZSkuXG4gICAgKi9cbiAgICBnZXQgaXNEZXN0cm95ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY1ZpZXcgPT0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgVXNlZCBmb3IgdGVzdGluZy5cbiAgICAqL1xuICAgIGRpc3BhdGNoRXZlbnQoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIGRpc3BhdGNoRXZlbnQodGhpcywgZXZlbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICBEaXNwYXRjaCBhIHRyYW5zYWN0aW9uLiBXaWxsIGNhbGxcbiAgICBbYGRpc3BhdGNoVHJhbnNhY3Rpb25gXShodHRwczovL3Byb3NlbWlycm9yLm5ldC9kb2NzL3JlZi8jdmlldy5EaXJlY3RFZGl0b3JQcm9wcy5kaXNwYXRjaFRyYW5zYWN0aW9uKVxuICAgIHdoZW4gZ2l2ZW4sIGFuZCBvdGhlcndpc2UgZGVmYXVsdHMgdG8gYXBwbHlpbmcgdGhlIHRyYW5zYWN0aW9uIHRvXG4gICAgdGhlIGN1cnJlbnQgc3RhdGUgYW5kIGNhbGxpbmdcbiAgICBbYHVwZGF0ZVN0YXRlYF0oaHR0cHM6Ly9wcm9zZW1pcnJvci5uZXQvZG9jcy9yZWYvI3ZpZXcuRWRpdG9yVmlldy51cGRhdGVTdGF0ZSkgd2l0aCB0aGUgcmVzdWx0LlxuICAgIFRoaXMgbWV0aG9kIGlzIGJvdW5kIHRvIHRoZSB2aWV3IGluc3RhbmNlLCBzbyB0aGF0IGl0IGNhbiBiZVxuICAgIGVhc2lseSBwYXNzZWQgYXJvdW5kLlxuICAgICovXG4gICAgZGlzcGF0Y2godHIpIHtcbiAgICAgICAgbGV0IGRpc3BhdGNoVHJhbnNhY3Rpb24gPSB0aGlzLl9wcm9wcy5kaXNwYXRjaFRyYW5zYWN0aW9uO1xuICAgICAgICBpZiAoZGlzcGF0Y2hUcmFuc2FjdGlvbilcbiAgICAgICAgICAgIGRpc3BhdGNoVHJhbnNhY3Rpb24uY2FsbCh0aGlzLCB0cik7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU3RhdGUodGhpcy5zdGF0ZS5hcHBseSh0cikpO1xuICAgIH1cbiAgICAvKipcbiAgICBAaW50ZXJuYWxcbiAgICAqL1xuICAgIGRvbVNlbGVjdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5nZXRTZWxlY3Rpb24oKTtcbiAgICB9XG59XG5mdW5jdGlvbiBjb21wdXRlRG9jRGVjbyh2aWV3KSB7XG4gICAgbGV0IGF0dHJzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICBhdHRycy5jbGFzcyA9IFwiUHJvc2VNaXJyb3JcIjtcbiAgICBhdHRycy5jb250ZW50ZWRpdGFibGUgPSBTdHJpbmcodmlldy5lZGl0YWJsZSk7XG4gICAgYXR0cnMudHJhbnNsYXRlID0gXCJub1wiO1xuICAgIHZpZXcuc29tZVByb3AoXCJhdHRyaWJ1dGVzXCIsIHZhbHVlID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICB2YWx1ZSA9IHZhbHVlKHZpZXcuc3RhdGUpO1xuICAgICAgICBpZiAodmFsdWUpXG4gICAgICAgICAgICBmb3IgKGxldCBhdHRyIGluIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHIgPT0gXCJjbGFzc1wiKVxuICAgICAgICAgICAgICAgICAgICBhdHRycy5jbGFzcyArPSBcIiBcIiArIHZhbHVlW2F0dHJdO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyID09IFwic3R5bGVcIikge1xuICAgICAgICAgICAgICAgICAgICBhdHRycy5zdHlsZSA9IChhdHRycy5zdHlsZSA/IGF0dHJzLnN0eWxlICsgXCI7XCIgOiBcIlwiKSArIHZhbHVlW2F0dHJdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghYXR0cnNbYXR0cl0gJiYgYXR0ciAhPSBcImNvbnRlbnRlZGl0YWJsZVwiICYmIGF0dHIgIT0gXCJub2RlTmFtZVwiKVxuICAgICAgICAgICAgICAgICAgICBhdHRyc1thdHRyXSA9IFN0cmluZyh2YWx1ZVthdHRyXSk7XG4gICAgICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIFtEZWNvcmF0aW9uLm5vZGUoMCwgdmlldy5zdGF0ZS5kb2MuY29udGVudC5zaXplLCBhdHRycyldO1xufVxuZnVuY3Rpb24gdXBkYXRlQ3Vyc29yV3JhcHBlcih2aWV3KSB7XG4gICAgaWYgKHZpZXcubWFya0N1cnNvcikge1xuICAgICAgICBsZXQgZG9tID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgZG9tLmNsYXNzTmFtZSA9IFwiUHJvc2VNaXJyb3Itc2VwYXJhdG9yXCI7XG4gICAgICAgIGRvbS5zZXRBdHRyaWJ1dGUoXCJtYXJrLXBsYWNlaG9sZGVyXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgZG9tLnNldEF0dHJpYnV0ZShcImFsdFwiLCBcIlwiKTtcbiAgICAgICAgdmlldy5jdXJzb3JXcmFwcGVyID0geyBkb20sIGRlY286IERlY29yYXRpb24ud2lkZ2V0KHZpZXcuc3RhdGUuc2VsZWN0aW9uLmhlYWQsIGRvbSwgeyByYXc6IHRydWUsIG1hcmtzOiB2aWV3Lm1hcmtDdXJzb3IgfSkgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHZpZXcuY3Vyc29yV3JhcHBlciA9IG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0RWRpdGFibGUodmlldykge1xuICAgIHJldHVybiAhdmlldy5zb21lUHJvcChcImVkaXRhYmxlXCIsIHZhbHVlID0+IHZhbHVlKHZpZXcuc3RhdGUpID09PSBmYWxzZSk7XG59XG5mdW5jdGlvbiBzZWxlY3Rpb25Db250ZXh0Q2hhbmdlZChzZWwxLCBzZWwyKSB7XG4gICAgbGV0IGRlcHRoID0gTWF0aC5taW4oc2VsMS4kYW5jaG9yLnNoYXJlZERlcHRoKHNlbDEuaGVhZCksIHNlbDIuJGFuY2hvci5zaGFyZWREZXB0aChzZWwyLmhlYWQpKTtcbiAgICByZXR1cm4gc2VsMS4kYW5jaG9yLnN0YXJ0KGRlcHRoKSAhPSBzZWwyLiRhbmNob3Iuc3RhcnQoZGVwdGgpO1xufVxuZnVuY3Rpb24gYnVpbGROb2RlVmlld3Modmlldykge1xuICAgIGxldCByZXN1bHQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIGZ1bmN0aW9uIGFkZChvYmopIHtcbiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBvYmopXG4gICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHByb3ApKVxuICAgICAgICAgICAgICAgIHJlc3VsdFtwcm9wXSA9IG9ialtwcm9wXTtcbiAgICB9XG4gICAgdmlldy5zb21lUHJvcChcIm5vZGVWaWV3c1wiLCBhZGQpO1xuICAgIHZpZXcuc29tZVByb3AoXCJtYXJrVmlld3NcIiwgYWRkKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gY2hhbmdlZE5vZGVWaWV3cyhhLCBiKSB7XG4gICAgbGV0IG5BID0gMCwgbkIgPSAwO1xuICAgIGZvciAobGV0IHByb3AgaW4gYSkge1xuICAgICAgICBpZiAoYVtwcm9wXSAhPSBiW3Byb3BdKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIG5BKys7XG4gICAgfVxuICAgIGZvciAobGV0IF8gaW4gYilcbiAgICAgICAgbkIrKztcbiAgICByZXR1cm4gbkEgIT0gbkI7XG59XG5mdW5jdGlvbiBjaGVja1N0YXRlQ29tcG9uZW50KHBsdWdpbikge1xuICAgIGlmIChwbHVnaW4uc3BlYy5zdGF0ZSB8fCBwbHVnaW4uc3BlYy5maWx0ZXJUcmFuc2FjdGlvbiB8fCBwbHVnaW4uc3BlYy5hcHBlbmRUcmFuc2FjdGlvbilcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJQbHVnaW5zIHBhc3NlZCBkaXJlY3RseSB0byB0aGUgdmlldyBtdXN0IG5vdCBoYXZlIGEgc3RhdGUgY29tcG9uZW50XCIpO1xufVxuXG5leHBvcnQgeyBEZWNvcmF0aW9uLCBEZWNvcmF0aW9uU2V0LCBFZGl0b3JWaWV3LCBfX2VuZENvbXBvc2l0aW9uLCBfX3BhcnNlRnJvbUNsaXBib2FyZCwgX19zZXJpYWxpemVGb3JDbGlwYm9hcmQgfTtcbiJdLCJuYW1lcyI6WyJuYXYiLCJuYXZpZ2F0b3IiLCJkb2MiLCJkb2N1bWVudCIsImFnZW50IiwidXNlckFnZW50IiwiaWVfZWRnZSIsImV4ZWMiLCJpZV91cHRvMTAiLCJpZV8xMXVwIiwiaWUiLCJpZV92ZXJzaW9uIiwiZG9jdW1lbnRNb2RlIiwiZ2Vja28iLCJ0ZXN0IiwiX2Nocm9tZSIsImNocm9tZSIsImNocm9tZV92ZXJzaW9uIiwic2FmYXJpIiwidmVuZG9yIiwiaW9zIiwibWF4VG91Y2hQb2ludHMiLCJtYWMiLCJwbGF0Zm9ybSIsImFuZHJvaWQiLCJ3ZWJraXQiLCJkb2N1bWVudEVsZW1lbnQiLCJzdHlsZSIsIndlYmtpdF92ZXJzaW9uIiwiZG9tSW5kZXgiLCJub2RlIiwiaW5kZXgiLCJwcmV2aW91c1NpYmxpbmciLCJwYXJlbnROb2RlIiwicGFyZW50IiwiYXNzaWduZWRTbG90Iiwibm9kZVR5cGUiLCJob3N0IiwicmV1c2VkUmFuZ2UiLCJ0ZXh0UmFuZ2UiLCJmcm9tIiwidG8iLCJyYW5nZSIsImNyZWF0ZVJhbmdlIiwic2V0RW5kIiwibm9kZVZhbHVlIiwibGVuZ3RoIiwic2V0U3RhcnQiLCJpc0VxdWl2YWxlbnRQb3NpdGlvbiIsIm9mZiIsInRhcmdldE5vZGUiLCJ0YXJnZXRPZmYiLCJzY2FuRm9yIiwiYXRvbUVsZW1lbnRzIiwiZGlyIiwibm9kZVNpemUiLCJoYXNCbG9ja0Rlc2MiLCJub2RlTmFtZSIsImNvbnRlbnRFZGl0YWJsZSIsImNoaWxkTm9kZXMiLCJkb20iLCJkZXNjIiwiY3VyIiwicG1WaWV3RGVzYyIsImlzQmxvY2siLCJjb250ZW50RE9NIiwic2VsZWN0aW9uQ29sbGFwc2VkIiwiZG9tU2VsIiwiY29sbGFwc2VkIiwiaXNDb2xsYXBzZWQiLCJyYW5nZUNvdW50IiwiZ2V0UmFuZ2VBdCIsImtleUV2ZW50Iiwia2V5Q29kZSIsImtleSIsImV2ZW50IiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJjb2RlIiwid2luZG93UmVjdCIsImxlZnQiLCJyaWdodCIsImNsaWVudFdpZHRoIiwidG9wIiwiYm90dG9tIiwiY2xpZW50SGVpZ2h0IiwiZ2V0U2lkZSIsInZhbHVlIiwic2lkZSIsImNsaWVudFJlY3QiLCJyZWN0IiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwic2NhbGVYIiwid2lkdGgiLCJvZmZzZXRXaWR0aCIsInNjYWxlWSIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsInNjcm9sbFJlY3RJbnRvVmlldyIsInZpZXciLCJzdGFydERPTSIsInNjcm9sbFRocmVzaG9sZCIsInNvbWVQcm9wIiwic2Nyb2xsTWFyZ2luIiwib3duZXJEb2N1bWVudCIsImVsdCIsImF0VG9wIiwiYm9keSIsImJvdW5kaW5nIiwibW92ZVgiLCJtb3ZlWSIsImRlZmF1bHRWaWV3Iiwic2Nyb2xsQnkiLCJzdGFydFgiLCJzY3JvbGxMZWZ0Iiwic3RhcnRZIiwic2Nyb2xsVG9wIiwiZFgiLCJkWSIsInNjcm9sbFN0YWNrIiwic3RhY2siLCJwdXNoIiwicmVzdG9yZVNjcm9sbFN0YWNrIiwiZFRvcCIsImkiLCJwcmV2ZW50U2Nyb2xsU3VwcG9ydGVkIiwiZmluZE9mZnNldEluTm9kZSIsImNvb3JkcyIsImNsb3Nlc3QiLCJjb29yZHNDbG9zZXN0IiwiZHhDbG9zZXN0Iiwib2Zmc2V0Iiwicm93Qm90Iiwicm93VG9wIiwiY2hpbGQiLCJmaXJzdENoaWxkIiwiY2hpbGRJbmRleCIsIm5leHRTaWJsaW5nIiwicmVjdHMiLCJnZXRDbGllbnRSZWN0cyIsIk1hdGgiLCJtYXgiLCJtaW4iLCJkeCIsImxlbiIsInNpbmdsZVJlY3QiLCJpblJlY3QiLCJmaW5kT2Zmc2V0SW5UZXh0IiwiZWxlbWVudEZyb21Qb2ludCIsImVsZW1lbnQiLCJib3giLCJzdGFydEkiLCJmbG9vciIsImoiLCJwb3NBdENvb3JkcyIsImNhcmV0UG9zaXRpb25Gcm9tUG9pbnQiLCJwb3MiLCJvZmZzZXROb2RlIiwiXyIsImNhcmV0UmFuZ2VGcm9tUG9pbnQiLCJzdGFydENvbnRhaW5lciIsInN0YXJ0T2Zmc2V0Iiwicm9vdCIsImNvbnRhaW5zIiwicCIsImRyYWdnYWJsZSIsInVuZGVmaW5lZCIsInRhcmdldEtsdWRnZSIsIm5leHQiLCJsYXN0Q2hpbGQiLCJzdGF0ZSIsImNvbnRlbnQiLCJzaXplIiwib3V0c2lkZSIsImRvY1ZpZXciLCJuZWFyZXN0RGVzYyIsInBvc0JlZm9yZSIsInBvc0FmdGVyIiwicG9zRnJvbURPTSIsInBvc0Zyb21DYXJldCIsImJpYXMiLCJwb3NGcm9tRWxlbWVudCIsImluc2lkZSIsInBvc0F0U3RhcnQiLCJib3JkZXIiLCJ0YXJnZXQiLCJCSURJIiwiY29vcmRzQXRQb3MiLCJkb21Gcm9tUG9zIiwic3VwcG9ydEVtcHR5UmFuZ2UiLCJ0YWtlU2lkZSIsImZsYXR0ZW5WIiwicmVjdEJlZm9yZSIsInJlY3RBZnRlciIsInJlc29sdmUiLCJpbmxpbmVDb250ZW50IiwiYmVmb3JlIiwiZmxhdHRlbkgiLCJhZnRlciIsImlnbm9yZUZvckNvb3JkcyIsIngiLCJ5Iiwid2l0aEZsdXNoZWRTdGF0ZSIsImYiLCJ2aWV3U3RhdGUiLCJhY3RpdmUiLCJhY3RpdmVFbGVtZW50IiwidXBkYXRlU3RhdGUiLCJmb2N1cyIsIm1heWJlUlRMIiwiY2FjaGVkU3RhdGUiLCJjYWNoZWREaXIiLCJjYWNoZWRSZXN1bHQiLCJWaWV3RGVzYyIsImNvbnN0cnVjdG9yIiwiY2hpbGRyZW4iLCJ0aGlzIiwiZGlydHkiLCJtYXRjaGVzV2lkZ2V0Iiwid2lkZ2V0IiwibWF0Y2hlc01hcmsiLCJtYXJrIiwibWF0Y2hlc05vZGUiLCJvdXRlckRlY28iLCJpbm5lckRlY28iLCJtYXRjaGVzSGFjayIsInBhcnNlUnVsZSIsInN0b3BFdmVudCIsImRlc3Ryb3kiLCJwb3NCZWZvcmVDaGlsZCIsInBvc0F0RW5kIiwibG9jYWxQb3NGcm9tRE9NIiwiZG9tQmVmb3JlIiwiZG9tQWZ0ZXIiLCJhdEVuZCIsImNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIiwic2VhcmNoIiwib25seU5vZGVzIiwiZmlyc3QiLCJub2RlRE9NIiwiZ2V0RGVzYyIsInNjYW4iLCJkZXNjQXQiLCJlbmQiLCJwcmV2IiwiY3VyUG9zIiwiVHJhaWxpbmdIYWNrVmlld0Rlc2MiLCJXaWRnZXRWaWV3RGVzYyIsImVudGVyIiwiZG9tQXRvbSIsInBhcnNlUmFuZ2UiLCJiYXNlIiwiZnJvbU9mZnNldCIsInRvT2Zmc2V0IiwiY2hpbGRCYXNlIiwiZW1wdHlDaGlsZEF0IiwiZG9tQWZ0ZXJQb3MiLCJSYW5nZUVycm9yIiwic2V0U2VsZWN0aW9uIiwiYW5jaG9yIiwiaGVhZCIsImZvcmNlIiwiYW5jaG9yRE9NIiwiaGVhZERPTSIsImdldFNlbGVjdGlvbiIsImJyS2x1ZGdlIiwiZm9jdXNOb2RlIiwiZm9jdXNPZmZzZXQiLCJhbmNob3JOb2RlIiwiYW5jaG9yT2Zmc2V0IiwiZG9tU2VsRXh0ZW5kZWQiLCJleHRlbmQiLCJjb2xsYXBzZSIsImVyciIsIkRPTUV4Y2VwdGlvbiIsInRtcCIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiaWdub3JlTXV0YXRpb24iLCJtdXRhdGlvbiIsInR5cGUiLCJjb250ZW50TG9zdCIsIm1hcmtEaXJ0eSIsInN0YXJ0SW5zaWRlIiwiZW5kSW5zaWRlIiwibWFya1BhcmVudHNEaXJ0eSIsImxldmVsIiwic2VsZiIsInRvRE9NIiwic3BlYyIsInJhdyIsIndyYXAiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzdXBlciIsImVxIiwiaWdub3JlIiwic3RvcCIsImlnbm9yZVNlbGVjdGlvbiIsIkNvbXBvc2l0aW9uVmlld0Rlc2MiLCJ0ZXh0RE9NIiwidGV4dCIsIm11dCIsIm9sZFZhbHVlIiwiTWFya1ZpZXdEZXNjIiwic3RhdGljIiwiaW5saW5lIiwiY3VzdG9tIiwibm9kZVZpZXdzIiwibmFtZSIsInJlcGFyc2VJblZpZXciLCJhdHRycyIsImNvbnRlbnRFbGVtZW50Iiwic2xpY2UiLCJjb3B5IiwiY3JlYXRlIiwibm9kZXMiLCJyZXBsYWNlTm9kZXMiLCJOb2RlVmlld0Rlc2MiLCJ1cGRhdGVDaGlsZHJlbiIsImRlc2NPYmoiLCJpc1RleHQiLCJjcmVhdGVUZXh0Tm9kZSIsImhhc0F0dHJpYnV0ZSIsImFwcGx5T3V0ZXJEZWNvIiwiQ3VzdG9tTm9kZVZpZXdEZXNjIiwiVGV4dFZpZXdEZXNjIiwicnVsZSIsIndoaXRlc3BhY2UiLCJwcmVzZXJ2ZVdoaXRlc3BhY2UiLCJnZXRDb250ZW50Iiwic2FtZU91dGVyRGVjbyIsImlzTGVhZiIsImNvbXBvc2l0aW9uIiwiY29tcG9zaW5nIiwibG9jYWxDb21wb3NpdGlvbkluZm8iLCJsb2NhbENvbXBvc2l0aW9uIiwiY29tcG9zaXRpb25JbkNoaWxkIiwidXBkYXRlciIsIlZpZXdUcmVlVXBkYXRlciIsImRlY28iLCJvbldpZGdldCIsIm9uTm9kZSIsImxvY2FscyIsImNoaWxkQ291bnQiLCJmb3JDaGlsZCIsImRlY29JbmRleCIsInJlc3ROb2RlIiwicGFyZW50SW5kZXgiLCJ3aWRnZXRzIiwic29ydCIsImNvbXBhcmVTaWRlIiwic3BsaWNlIiwiY3V0QXQiLCJjdXQiLCJpc0lubGluZSIsImZpbHRlciIsImQiLCJpdGVyRGVjbyIsImluc2lkZU5vZGUiLCJtYXJrcyIsInN5bmNUb01hcmtzIiwicGxhY2VXaWRnZXQiLCJjb21wSW5kZXgiLCJmaW5kTm9kZU1hdGNoIiwic2VsZWN0aW9uIiwiZmluZEluZGV4V2l0aENoaWxkIiwidXBkYXRlTm9kZUF0IiwidXBkYXRlTmV4dE5vZGUiLCJhZGROb2RlIiwiaXNUZXh0YmxvY2siLCJhZGRUZXh0YmxvY2tIYWNrcyIsImRlc3Ryb3lSZXN0IiwiY2hhbmdlZCIsInByb3RlY3RMb2NhbENvbXBvc2l0aW9uIiwicmVuZGVyRGVzY3MiLCJvbGRDU1MiLCJjc3NUZXh0Iiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImxpc3RTdHlsZSIsImlvc0hhY2tzIiwic2VsIiwiZG9tU2VsZWN0aW9uIiwidGV4dE5vZGUiLCJuZWFyYnlUZXh0Tm9kZSIsInRleHRQb3MiLCJmcmFnIiwiY2hpbGRTdGFydCIsInN0ciIsImZvdW5kIiwibGFzdEluZGV4T2YiLCJmaW5kVGV4dEluRnJhZ21lbnQiLCJ0b3BOb2RlIiwicmVtb3ZlQ2hpbGQiLCJpbnB1dCIsImNvbXBvc2l0aW9uTm9kZXMiLCJ1cGRhdGUiLCJzYW1lTWFya3VwIiwidXBkYXRlSW5uZXIiLCJ1cGRhdGVPdXRlckRlY28iLCJuZWVkc1dyYXAiLCJvbGRET00iLCJwYXRjaE91dGVyRGVjbyIsImNvbXB1dGVPdXRlckRlY28iLCJzZWxlY3ROb2RlIiwiZGVzZWxlY3ROb2RlIiwicmVtb3ZlIiwicmVtb3ZlQXR0cmlidXRlIiwiaXNBdG9tIiwiZG9jVmlld0Rlc2MiLCJza2lwIiwicG1Jc0RlY28iLCJpblBhcmVudCIsInRyYWNrV3JpdGVzIiwicGFyZW50RE9NIiwibiIsInJlc3VsdCIsImRlc2NzIiwid3JpdHRlbiIsImNoaWxkRE9NIiwicm0iLCJpbnNlcnRCZWZvcmUiLCJPdXRlckRlY29MZXZlbCIsInByb3RvdHlwZSIsIk9iamVjdCIsIm5vRGVjbyIsInZhbCIsImNsYXNzIiwib3V0ZXJET00iLCJwcmV2Q29tcHV0ZWQiLCJjdXJDb21wdXRlZCIsImN1ckRPTSIsInRvTG93ZXJDYXNlIiwicGF0Y2hBdHRyaWJ1dGVzIiwic2V0QXR0cmlidXRlIiwicHJldkxpc3QiLCJzcGxpdCIsIkJvb2xlYW4iLCJjdXJMaXN0IiwiaW5kZXhPZiIsIm0iLCJwcm9wIiwicmVtb3ZlUHJvcGVydHkiLCJhIiwiYiIsImxvY2siLCJwcmVNYXRjaCIsInBhcmVudERlc2MiLCJjdXJEZXNjIiwiZGVzY0kiLCJmSSIsIm1hdGNoZWQiLCJNYXAiLCJtYXRjaGVzIiwib3V0ZXIiLCJzZXQiLCJyZXZlcnNlIiwiZGVzdHJveUJldHdlZW4iLCJzdGFydCIsImtlZXAiLCJkZXB0aCIsIm1heEtlZXAiLCJzcGFubmluZyIsInBvcCIsIm1hcmtEZXNjIiwidGFyZ2V0RGVzYyIsImUiLCJoYXMiLCJkb21Ob2RlIiwiZ2V0IiwibmV4dERPTSIsImFkZEhhY2tOb2RlIiwiY2xhc3NOYW1lIiwiYWx0IiwiaGFjayIsInJlcGxhY2VtZW50Iiwic2VsZWN0aW9uRnJvbURPTSIsIm9yaWdpbiIsImluV2lkZ2V0IiwiJGFuY2hvciIsIiRoZWFkIiwibmVhcmVzdERlc2NOb2RlIiwiYXRTdGFydCIsImlzT25FZGdlIiwic2VsZWN0aW9uQmV0d2VlbiIsImVkaXRvck93bnNTZWxlY3Rpb24iLCJlZGl0YWJsZSIsImhhc0ZvY3VzIiwiaGFzU2VsZWN0aW9uIiwic2VsZWN0aW9uVG9ET00iLCJzeW5jTm9kZVNlbGVjdGlvbiIsIm1vdXNlRG93biIsImFsbG93RGVmYXVsdCIsImN1clNlbCIsImRvbU9ic2VydmVyIiwiY3VycmVudFNlbGVjdGlvbiIsImRlbGF5ZWRTZWxlY3Rpb25TeW5jIiwic2V0Q3VyU2VsZWN0aW9uIiwiZGlzY29ubmVjdFNlbGVjdGlvbiIsImN1cnNvcldyYXBwZXIiLCJpbWciLCJ2aXNpYmxlIiwiZGlzYWJsZWQiLCJzZWxlY3RDdXJzb3JXcmFwcGVyIiwicmVzZXRFZGl0YWJsZUZyb20iLCJyZXNldEVkaXRhYmxlVG8iLCJicm9rZW5TZWxlY3RCZXR3ZWVuVW5lZGl0YWJsZSIsIiRmcm9tIiwidGVtcG9yYXJpbHlFZGl0YWJsZU5lYXIiLCJlbXB0eSIsInJlc2V0RWRpdGFibGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGlkZVNlbGVjdGlvbkd1YXJkIiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldFRpbWVvdXQiLCJyZW1vdmVDbGFzc09uU2VsZWN0aW9uQ2hhbmdlIiwiY29ubmVjdFNlbGVjdGlvbiIsInNldEVkaXRhYmxlIiwid2FzRHJhZ2dhYmxlIiwibGFzdFNlbGVjdGVkVmlld0Rlc2MiLCJjbGVhck5vZGVTZWxlY3Rpb24iLCJoYXNGb2N1c0FuZFNlbGVjdGlvbiIsIm1vdmVTZWxlY3Rpb25CbG9jayIsIiRzaWRlIiwiJHN0YXJ0IiwiYXBwbHkiLCJkaXNwYXRjaCIsInRyIiwic2Nyb2xsSW50b1ZpZXciLCJzZWxlY3RIb3Jpem9udGFsbHkiLCJtb2RzIiwiJHRvIiwiZW5kT2ZUZXh0YmxvY2siLCJ0ZXh0T2Zmc2V0Iiwibm9kZUJlZm9yZSIsIm5vZGVBZnRlciIsIm5vZGVQb3MiLCJub2RlTGVuIiwiaXNJZ25vcmFibGUiLCJza2lwSWdub3JlZE5vZGVzTGVmdCIsIm1vdmVOb2RlIiwibW92ZU9mZnNldCIsImlzQmxvY2tOb2RlIiwic2V0U2VsRm9jdXMiLCJza2lwSWdub3JlZE5vZGVzUmlnaHQiLCJzZWxlY3RWZXJ0aWNhbGx5IiwiYmV5b25kIiwic3RvcE5hdGl2ZUhvcml6b250YWxEZWxldGUiLCJzYW1lUGFyZW50IiwibmV4dE5vZGUiLCJkZWxldGUiLCJzd2l0Y2hFZGl0YWJsZSIsInNlcmlhbGl6ZUZvckNsaXBib2FyZCIsImNvbnRleHQiLCJvcGVuU3RhcnQiLCJvcGVuRW5kIiwiZGVmYXVsdEF0dHJzIiwic2VyaWFsaXplciIsInNjaGVtYSIsImRldGFjaGVkRG9jIiwic2VyaWFsaXplRnJhZ21lbnQiLCJ3cmFwcGVycyIsIndyYXBNYXAiLCJ3cmFwcGVyIiwiSlNPTiIsInN0cmluZ2lmeSIsInRleHRCZXR3ZWVuIiwicGFyc2VGcm9tQ2xpcGJvYXJkIiwiaHRtbCIsInBsYWluVGV4dCIsIiRjb250ZXh0IiwiaW5Db2RlIiwiYXNUZXh0IiwicmVwbGFjZSIsInBhcnNlZCIsImZvckVhY2giLCJibG9jayIsInNlcmlhbGl6ZU5vZGUiLCJtZXRhcyIsImZpcnN0VGFnIiwibWFwIiwiam9pbiIsImlubmVySFRNTCIsInF1ZXJ5U2VsZWN0b3IiLCJyZWFkSFRNTCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0ZXh0Q29udGVudCIsInJlcGxhY2VDaGlsZCIsInJlc3RvcmVSZXBsYWNlZFNwYWNlcyIsImNvbnRleHROb2RlIiwic2xpY2VEYXRhIiwiZ2V0QXR0cmlidXRlIiwicGFyc2VyIiwicGFyc2VTbGljZSIsInJ1bGVGcm9tTm9kZSIsImlubGluZVBhcmVudHMiLCJhcnJheSIsInBhcnNlIiwiaGFzUmVxdWlyZWRBdHRycyIsImFkZENvbnRleHQiLCJjbG9zZVNsaWNlIiwiZnJhZ21lbnQiLCJsYXN0V3JhcCIsIm1hdGNoIiwiY29udGVudE1hdGNoQXQiLCJpbkxhc3QiLCJmaW5kV3JhcHBpbmciLCJhZGRUb1NpYmxpbmciLCJjbG9zZVJpZ2h0Iiwid3JhcHBlZCIsIndpdGhXcmFwcGVycyIsIm1hdGNoVHlwZSIsIm5vcm1hbGl6ZVNpYmxpbmdzIiwiaXNvbGF0aW5nIiwic2libGluZyIsImlubmVyIiwiYXBwZW5kIiwiZmlsbCIsImZpbGxCZWZvcmUiLCJjbG9zZVJhbmdlIiwidGhlYWQiLCJ0Ym9keSIsInRmb290IiwiY2FwdGlvbiIsImNvbGdyb3VwIiwiY29sIiwidGQiLCJ0aCIsIl9kZXRhY2hlZERvYyIsImltcGxlbWVudGF0aW9uIiwiY3JlYXRlSFRNTERvY3VtZW50IiwiaGFuZGxlcnMiLCJlZGl0SGFuZGxlcnMiLCJJbnB1dFN0YXRlIiwic2hpZnRLZXkiLCJsYXN0S2V5Q29kZSIsImxhc3RLZXlDb2RlVGltZSIsImxhc3RDbGljayIsInRpbWUiLCJsYXN0U2VsZWN0aW9uT3JpZ2luIiwibGFzdFNlbGVjdGlvblRpbWUiLCJsYXN0SU9TRW50ZXIiLCJsYXN0SU9TRW50ZXJGYWxsYmFja1RpbWVvdXQiLCJsYXN0QW5kcm9pZERlbGV0ZSIsImNvbXBvc2luZ1RpbWVvdXQiLCJjb21wb3NpdGlvbkVuZGVkQXQiLCJkb21DaGFuZ2VDb3VudCIsImV2ZW50SGFuZGxlcnMiLCJzZXRTZWxlY3Rpb25PcmlnaW4iLCJEYXRlIiwibm93IiwiZW5zdXJlTGlzdGVuZXJzIiwiY3VycmVudEhhbmRsZXJzIiwicnVuQ3VzdG9tSGFuZGxlciIsImhhbmRsZXIiLCJkZWZhdWx0UHJldmVudGVkIiwiZXZlbnRCZWxvbmdzVG9WaWV3IiwiYnViYmxlcyIsImV2ZW50Q29vcmRzIiwiY2xpZW50WCIsImNsaWVudFkiLCJydW5IYW5kbGVyT25Db250ZXh0IiwicHJvcE5hbWUiLCIkcG9zIiwidXBkYXRlU2VsZWN0aW9uIiwiZm9jdXNlZCIsInNldE1ldGEiLCJoYW5kbGVEb3VibGVDbGljayIsImhhbmRsZVRyaXBsZUNsaWNrIiwiYnV0dG9uIiwiZGVmYXVsdFRyaXBsZUNsaWNrIiwiZm9yY2VET01GbHVzaCIsImVuZENvbXBvc2l0aW9uIiwia2V5ZG93biIsIl9ldmVudCIsImluT3JOZWFyQ29tcG9zaXRpb24iLCJmb3JjZUZsdXNoIiwiY3RybEtleSIsImFsdEtleSIsIm1ldGFLZXkiLCJnZXRNb2RzIiwicGFyZW50T2Zmc2V0Iiwic2FmYXJpRG93bkFycm93QnVnIiwiY2FwdHVyZUtleURvd24iLCJwcmV2ZW50RGVmYXVsdCIsImtleXVwIiwia2V5cHJlc3MiLCJjaGFyQ29kZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImluc2VydFRleHQiLCJzZWxlY3ROb2RlTW9kaWZpZXIiLCJtb3VzZWRvd24iLCJmbHVzaGVkIiwiY2xpY2siLCJkeSIsImlzTmVhciIsImRvbmUiLCJNb3VzZURvd24iLCJ0YXJnZXRQb3MiLCJtaWdodERyYWciLCJzdGFydERvYyIsIm5vZGVBdCIsInNlbGVjdGFibGUiLCJhZGRBdHRyIiwic2V0VW5lZGl0YWJsZSIsInVwIiwiYmluZCIsIm1vdmUiLCJzZWxlY3RlZE5vZGUiLCJzZWxlY3RBdCIsInNlbGVjdENsaWNrZWROb2RlIiwic2VsZWN0Q2xpY2tlZExlYWYiLCJoYW5kbGVTaW5nbGVDbGljayIsImFicyIsImJ1dHRvbnMiLCJ0aW1lU3RhbXAiLCJ0b3VjaGRvd24iLCJjb250ZXh0bWVudSIsInRpbWVvdXRDb21wb3NpdGlvbiIsInNjaGVkdWxlQ29tcG9zZUVuZCIsImRlbGF5IiwiY2xlYXJUaW1lb3V0IiwiY2xlYXJDb21wb3NpdGlvbiIsInRpbWVzdGFtcEZyb21DdXN0b21FdmVudCIsImZvcmNlVXBkYXRlIiwiZmx1c2hpbmdTb29uIiwiY29tcG9zaXRpb25zdGFydCIsImNvbXBvc2l0aW9udXBkYXRlIiwiZmx1c2giLCJzdG9yZWRNYXJrcyIsInNvbWUiLCJpbmNsdXNpdmUiLCJtYXJrQ3Vyc29yIiwiY29tcG9zaXRpb25lbmQiLCJicm9rZW5DbGlwYm9hcmRBUEkiLCJkb1Bhc3RlIiwic2luZ2xlTm9kZSIsInNsaWNlU2luZ2xlTm9kZSIsInJlcGxhY2VTZWxlY3Rpb25XaXRoIiwicmVwbGFjZVNlbGVjdGlvbiIsImRhdGEiLCJjbGlwYm9hcmREYXRhIiwiY2xlYXJEYXRhIiwic2V0RGF0YSIsInNlbGVjdE5vZGVDb250ZW50cyIsImJsdXIiLCJjYXB0dXJlQ29weSIsImRlbGV0ZVNlbGVjdGlvbiIsInBhc3RlIiwiZ2V0RGF0YSIsImNhcHR1cmVQYXN0ZSIsIkRyYWdnaW5nIiwiZHJhZ0NvcHlNb2RpZmllciIsImRyYWdzdGFydCIsImRhdGFUcmFuc2ZlciIsImVmZmVjdEFsbG93ZWQiLCJkcmFnZ2luZyIsImRyYWdlbmQiLCJkcmFnb3ZlciIsImRyYWdlbnRlciIsImRyb3AiLCJldmVudFBvcyIsIiRtb3VzZSIsImluc2VydFBvcyIsIm1hcHBpbmciLCJpc05vZGUiLCJiZWZvcmVJbnNlcnQiLCJyZXBsYWNlUmFuZ2VXaXRoIiwicmVwbGFjZVJhbmdlIiwibWFwcyIsIl9mcm9tIiwiX3RvIiwiX25ld0Zyb20iLCJuZXdUbyIsInJlbGF0ZWRUYXJnZXQiLCJjbGVhciIsImJlZm9yZWlucHV0IiwiaW5wdXRUeXBlIiwiZmx1c2hTb29uIiwiJGN1cnNvciIsImNvbXBhcmVPYmpzIiwiV2lkZ2V0VHlwZSIsIm5vU3BlYyIsInNwYW4iLCJvbGRPZmZzZXQiLCJkZWxldGVkIiwibWFwUmVzdWx0IiwiRGVjb3JhdGlvbiIsInZhbGlkIiwib3RoZXIiLCJJbmxpbmVUeXBlIiwiaW5jbHVzaXZlU3RhcnQiLCJpbmNsdXNpdmVFbmQiLCJOb2RlVHlwZSIsImZpbmRJbmRleCIsIm5vbmUiLCJEZWNvcmF0aW9uU2V0IiwibG9jYWwiLCJkZWNvcmF0aW9ucyIsImJ1aWxkVHJlZSIsImZpbmQiLCJwcmVkaWNhdGUiLCJmaW5kSW5uZXIiLCJjaGlsZE9mZiIsIm9wdGlvbnMiLCJtYXBJbm5lciIsIm5ld0xvY2FsIiwibWFwcGVkIiwib25SZW1vdmUiLCJvbGRDaGlsZHJlbiIsInNoaWZ0Iiwib2xkU3RhcnQiLCJvbGRFbmQiLCJuZXdTdGFydCIsIm5ld0VuZCIsImRTaXplIiwibXVzdFJlYnVpbGQiLCJmcm9tTG9jYWwiLCJ0b0xvY2FsIiwiY2hpbGRPZmZzZXQiLCJjaGlsZE5vZGUiLCJtYXliZUNoaWxkIiwiZ2F0aGVyIiwibWFwQW5kR2F0aGVyUmVtYWluaW5nRGVjb3JhdGlvbnMiLCJidWlsdCIsImJ5UG9zIiwibWFwQ2hpbGRyZW4iLCJhZGRJbm5lciIsImJhc2VPZmZzZXQiLCJ0YWtlU3BhbnNGb3JOb2RlIiwibW92ZVNwYW5zIiwid2l0aG91dE51bGxzIiwiY29uY2F0IiwicmVtb3ZlSW5uZXIiLCJyZW1vdmVkIiwiZGVjIiwibG9jYWxTZXQiLCJEZWNvcmF0aW9uR3JvdXAiLCJyZW1vdmVPdmVybGFwIiwibG9jYWxzSW5uZXIiLCJpcyIsIm1lbWJlcnMiLCJtYXBwZWREZWNvcyIsIm1lbWJlciIsInNvcnRlZCIsInNwYW5zIiwiaGFzTnVsbHMiLCJsb2NhbFN0YXJ0Iiwic3VidHJlZSIsIndvcmtpbmciLCJpbnNlcnRBaGVhZCIsInZpZXdEZWNvcmF0aW9ucyIsIm9ic2VydmVPcHRpb25zIiwiY2hpbGRMaXN0IiwiY2hhcmFjdGVyRGF0YSIsImNoYXJhY3RlckRhdGFPbGRWYWx1ZSIsImF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVPbGRWYWx1ZSIsInVzZUNoYXJEYXRhIiwiU2VsZWN0aW9uU3RhdGUiLCJET01PYnNlcnZlciIsImhhbmRsZURPTUNoYW5nZSIsInF1ZXVlIiwib2JzZXJ2ZXIiLCJvbkNoYXJEYXRhIiwic3VwcHJlc3NpbmdTZWxlY3Rpb25VcGRhdGVzIiwiTXV0YXRpb25PYnNlcnZlciIsIm11dGF0aW9ucyIsInJlbW92ZWROb2RlcyIsInByZXZWYWx1ZSIsIm9uU2VsZWN0aW9uQ2hhbmdlIiwib2JzZXJ2ZSIsInRha2UiLCJ0YWtlUmVjb3JkcyIsImRpc2Nvbm5lY3QiLCJzdXBwcmVzc1NlbGVjdGlvblVwZGF0ZXMiLCJpZ25vcmVTZWxlY3Rpb25DaGFuZ2UiLCJjb250YWluZXIiLCJjb21tb25BbmNlc3RvckNvbnRhaW5lciIsIm5ld1NlbCIsInR5cGVPdmVyIiwiYWRkZWQiLCJyZWdpc3Rlck11dGF0aW9uIiwiYnJzIiwiY3NzQ2hlY2tlZCIsIndoaXRlU3BhY2UiLCJjb25zb2xlIiwiYXR0cmlidXRlTmFtZSIsImFkZGVkTm9kZXMiLCJBcnJheSIsImNhbGwiLCJyZXNvbHZlU2VsZWN0aW9uIiwicGFyc2VkU2VsIiwic2tpcENsb3NpbmdBbmRPcGVuaW5nIiwiZnJvbUVuZCIsIm1heU9wZW4iLCJpbmRleEFmdGVyIiwiRWRpdG9yVmlldyIsInBsYWNlIiwicHJvcHMiLCJfcm9vdCIsIm1vdW50ZWQiLCJwcmV2RGlyZWN0UGx1Z2lucyIsInBsdWdpblZpZXdzIiwiX3Byb3BzIiwiZGlyZWN0UGx1Z2lucyIsInBsdWdpbnMiLCJjaGVja1N0YXRlQ29tcG9uZW50IiwibW91bnQiLCJnZXRFZGl0YWJsZSIsInVwZGF0ZUN1cnNvcldyYXBwZXIiLCJidWlsZE5vZGVWaWV3cyIsImNvbXB1dGVEb2NEZWNvIiwiJGJlZm9yZSIsInNoYXJlZCIsInNoYXJlZERlcHRoIiwiZnJvbV8iLCJ0b18iLCJ0b3BNYXRjaCIsInRvcE9wZW4iLCJmaW5kUG9zaXRpb25zIiwicGFyc2VCZXR3ZWVuIiwicHJlZmVycmVkUG9zIiwicHJlZmVycmVkU2lkZSIsImNvbXBhcmUiLCJjaGFuZ2UiLCJmaW5kRGlmZlN0YXJ0IiwiZW5kQSIsImVuZEIiLCJmaW5kRGlmZkVuZCIsImZpbmREaWZmIiwibmV4dFNlbCIsInJlc29sdmVOb0NhY2hlIiwiJGZyb21BIiwiaW5saW5lQ2hhbmdlIiwib2xkIiwiJG5ld1N0YXJ0IiwiJG5ld0VuZCIsIiRuZXh0IiwibG9va3NMaWtlSm9pbiIsIm1hcmtDaGFuZ2UiLCJjaEZyb20iLCJjaFRvIiwibWFya3NBY3Jvc3MiLCJjdXJNYXJrcyIsInByZXZNYXJrcyIsInJlbW92ZUZyb21TZXQiLCJhZGRUb1NldCIsInVwZGF0ZWQiLCJpc01hcmtDaGFuZ2UiLCJhZGRNYXJrIiwicmVtb3ZlTWFyayIsImVuc3VyZU1hcmtzIiwicmVhZERPTUNoYW5nZSIsImluaXRJbnB1dCIsInVwZGF0ZVBsdWdpblZpZXdzIiwiaGFuZGxlRE9NRXZlbnRzIiwidXBkYXRlU3RhdGVJbm5lciIsInNldFByb3BzIiwicmVjb25maWd1cmVkIiwicmVkcmF3IiwidXBkYXRlU2VsIiwibkEiLCJuQiIsImNoYW5nZWROb2RlVmlld3MiLCJzY3JvbGwiLCJzY3JvbGxUb1NlbGVjdGlvbiIsInVwZGF0ZURvYyIsIm9sZFNjcm9sbFBvcyIsIm92ZXJmbG93QW5jaG9yIiwicmVmRE9NIiwicmVmVG9wIiwiaW5uZXJIZWlnaHQiLCJsb2NhbFJlY3QiLCJzdG9yZVNjcm9sbFBvcyIsImZvcmNlU2VsVXBkYXRlIiwic2VsMSIsInNlbDIiLCJzZWxlY3Rpb25Db250ZXh0Q2hhbmdlZCIsImNocm9tZUtsdWRnZSIsImFuY2hvckluUmlnaHRQbGFjZSIsIm5ld1JlZlRvcCIsInJlc2V0U2Nyb2xsUG9zIiwiZGVzdHJveVBsdWdpblZpZXdzIiwicHJldlN0YXRlIiwicGx1Z2luVmlldyIsInBsdWdpbiIsInNldEFjdGl2ZSIsInN0b3JlZCIsInByZXZlbnRTY3JvbGwiLCJmb2N1c1ByZXZlbnRTY3JvbGwiLCJjYWNoZWQiLCJnZXRQcm90b3R5cGVPZiIsImRvbUF0UG9zIiwicG9zQXRET00iLCJuZWFyZXN0IiwiYm94ZXMiLCJlbmRPZlRleHRibG9ja1ZlcnRpY2FsIiwibW9kaWZ5Iiwib2xkUmFuZ2UiLCJvbGROb2RlIiwib2xkT2ZmIiwib2xkQmlkaUxldmVsIiwiY2FyZXRCaWRpTGV2ZWwiLCJlbmRPZlRleHRibG9ja0hvcml6b250YWwiLCJkZXN0cm95SW5wdXQiLCJpc0Rlc3Ryb3llZCIsImRpc3BhdGNoRXZlbnQiLCJkaXNwYXRjaFRyYW5zYWN0aW9uIiwiY29udGVudGVkaXRhYmxlIiwidHJhbnNsYXRlIiwiYXR0ciIsIm9iaiIsImhhc093blByb3BlcnR5IiwiZmlsdGVyVHJhbnNhY3Rpb24iLCJhcHBlbmRUcmFuc2FjdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=